(self.webpackChunkdashboard_template=self.webpackChunkdashboard_template||[]).push([[87],{9087:(t,e,a)=>{"use strict";a.r(e),a.d(e,{PharmacyModule:()=>Aa});var i=a(1116),n=a(1041),r=a(4839),o=a(5424),s=a(5366),l=a(7085),d=a(4703),u=a(5343),c=a(5959),p=a(1131),h=a(8757),m=a(7727),g=a(2977),f=a(7369),b=a(3393);let T=(()=>{class t{constructor(t,e){this.httpOperationService=t,this.notificationService=e,this.API=g.PHARMACY.TRANSAKSI_OBAT.TRANSAKSI_OBAT_IRJA}Insert(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}obatDiserahakan(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATEPENYERAHAN,{penjualan_obat_id:t}).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(f.d),s.LFG(b.g))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=a(5228);let v=(()=>{class t{constructor(){this.onCardHeaderToggleClicked=new s.vpe}ngOnInit(){this.WindowWidth=window.innerWidth}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["atm-card-header"]],inputs:{CardHeaderIcon:"CardHeaderIcon",CardHeaderColor:"CardHeaderColor",CardHeaderCaption:"CardHeaderCaption"},outputs:{onCardHeaderToggleClicked:"onCardHeaderToggleClicked"},decls:7,vars:10,consts:[[1,"row","px-2"],[1,"col-lg-1","col-md-2","col-sm-2","col-xs-2","px-0","text-center","DivIconCardHeader"],[1,"font-cabin","mb-0"],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10"],[1,"font-cabin","mb-0","text-white"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"p",2),s._UZ(3,"i"),s.qZA(),s.qZA(),s.TgZ(4,"div",3),s.TgZ(5,"p",4),s._uU(6),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Udp("color",e.CardHeaderColor),s.xp6(1),s.Gre("fas ",e.CardHeaderIcon,""),s.ekj("fa-sm",e.WindowWidth>=1025)("fa-xs",e.WindowWidth<1025),s.xp6(3),s.hij(" ",e.CardHeaderCaption," "))},styles:[".DivIconCardHeader[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.IconCardHeader[_ngcontent-%COMP%]{margin-left:2px}"]}),t})();function _(t,e){if(1&t&&(s.TgZ(0,"li",22),s.TgZ(1,"p",23),s._uU(2),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.Q6J("id",t.Id),s.xp6(2),s.lnq(" ",t.NamaObat," - ",t.Qty," ",t.Satuan," ")}}function k(t,e){if(1&t&&(s.TgZ(0,"div",19),s.TgZ(1,"ul",20),s.YNc(2,_,3,4,"li",21),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.DetailResep)}}function A(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",24),s.TgZ(1,"div",25),s.TgZ(2,"button",26),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.onMarkResepSudahDilayani(e.Id)}),s._UZ(3,"i",27),s._uU(4,"\xa0 Sedang Dilayani "),s.qZA(),s.qZA(),s.qZA()}}function x(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",24),s.TgZ(1,"div",25),s.TgZ(2,"button",26),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.onMarkResepAsComplete(e.Id)}),s._UZ(3,"i",27),s._uU(4,"\xa0 Resep Telah Selesai "),s.qZA(),s.qZA(),s.qZA()}}let C=(()=>{class t{constructor(t){this.utilityService=t,this.onClickedCardButton=new s.vpe,this.ShowDetailObat=!1,this.onMarkedResepAsComplete=new s.vpe,this.onMarkedResepSudahDilayani=new s.vpe}ngOnInit(){this.onGenerateCustomColor()}onClickCardButton(t,e,a,i,n,r){this.onClickedCardButton.emit({NamaPasien:t,Waktu:e,Status:a,NamaDokter:i,KodeResep:n,DetailResep:r})}onGenerateCustomColor(){this.BorderLeft="border-left: 0.25em solid "+this.utilityService.onGenerateCustomColor()+";"}onTogglingDetailObat(t){this.ShowDetailObat=!this.ShowDetailObat;let e=document.getElementById(t+"Caret");this.ShowDetailObat?(e.classList.remove("fa-caret-down"),e.classList.add("fa-caret-up")):(e.classList.add("fa-caret-down"),e.classList.remove("fa-caret-up"))}onMarkResepAsComplete(t){this.onMarkedResepAsComplete.emit(t)}onMarkResepSudahDilayani(t){this.onMarkedResepSudahDilayani.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(S.t))},t.\u0275cmp=s.Xpm({type:t,selectors:[["atm-card"]],inputs:{Id:"Id",NamaPasien:"NamaPasien",Waktu:"Waktu",Status:"Status",NamaDokter:"NamaDokter",KodeResep:"KodeResep",NoRegister:"NoRegister",NomorAntrian:"NomorAntrian",DetailResep:"DetailResep"},outputs:{onClickedCardButton:"onClickedCardButton",onMarkedResepAsComplete:"onMarkedResepAsComplete",onMarkedResepSudahDilayani:"onMarkedResepSudahDilayani"},decls:36,vars:16,consts:[[1,"card","shadow-sm",3,"id","click"],[1,"card-body","p-2"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-1"],[1,"row","align-items-center"],[1,"font-cabin","mb-0","text-hitam","textSubTitle","fw-bold","text-center"],[1,"col-lg-7","col-md-7","col-sm-7","col-xs-7","pe-0"],[1,"font-cabin","mb-0","text-hitam","textSubTitle","fw-bold"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5","text-end","ps-0"],[1,"font-cabin","mb-0","text-hitam-muda","textSubText"],[1,"font-cabin","mb-0","text-biru-tua"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","pe-0"],[1,"badge","bg-warning"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","text-end","ps-0",2,"cursor","pointer",3,"click"],[1,"font-cabin","mb-0","text-hitam-muda",2,"font-size","13px"],[1,"fas","fa-caret-down",3,"id"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-3",4,"ngIf"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-3"],[1,"list-group"],["class","list-group-item px-2",3,"id",4,"ngFor","ngForOf"],[1,"list-group-item","px-2",3,"id"],[1,"font-cabin","mb-0","text-hitam-muda",2,"font-size","12px"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-check","fa-sm"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return e.onClickCardButton(e.NamaPasien,e.Waktu,e.Status,e.NamaDokter,e.KodeResep,e.DetailResep)}),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"p",5),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"div",3),s.TgZ(8,"div",4),s.TgZ(9,"div",6),s.TgZ(10,"p",7),s._uU(11),s.qZA(),s.qZA(),s.TgZ(12,"div",8),s.TgZ(13,"p",9),s._uU(14),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",3),s.TgZ(16,"div",4),s.TgZ(17,"div",6),s.TgZ(18,"p",10),s._uU(19),s.qZA(),s.qZA(),s.TgZ(20,"div",8),s.TgZ(21,"p",9),s._uU(22),s.ALo(23,"date"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",11),s.TgZ(25,"div",4),s.TgZ(26,"div",12),s.TgZ(27,"span",13),s._uU(28),s.qZA(),s.qZA(),s.TgZ(29,"div",14),s.NdJ("click",function(){return e.onTogglingDetailObat(e.KodeResep)}),s.TgZ(30,"p",15),s._UZ(31,"i",16),s._uU(32,"\xa0 Lihat Detail Resep "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(33,k,3,1,"div",17),s.YNc(34,A,5,0,"div",18),s.YNc(35,x,5,0,"div",18),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Akn(e.BorderLeft),s.Q6J("id",e.Id),s.xp6(6),s.hij(" ",e.NomorAntrian," "),s.xp6(5),s.hij(" ",e.NamaPasien," "),s.xp6(3),s.hij(" No.Reg ",e.NoRegister," "),s.xp6(5),s.hij(" ",e.NamaDokter," "),s.xp6(3),s.hij(" ",s.xi3(23,13,e.Waktu,"dd MMM yy, HH:mm:ss")," "),s.xp6(6),s.hij(" ",e.KodeResep," "),s.xp6(3),s.MGl("id","",e.KodeResep,"Caret"),s.xp6(2),s.Q6J("ngIf",e.ShowDetailObat),s.xp6(1),s.Q6J("ngIf","SiapDiracik"==e.Status),s.xp6(1),s.Q6J("ngIf","SedangDiracik"==e.Status))},directives:[i.O5,i.sg],pipes:[i.uU],styles:[".textSubTitle[_ngcontent-%COMP%]{font-size:1.2rem}.badge[_ngcontent-%COMP%], .textSubText[_ngcontent-%COMP%]{font-size:13px}@media only screen and (min-width:992.98px) and (max-width:1199.98px){.textSubTitle[_ngcontent-%COMP%]{font-size:.85rem}.badge[_ngcontent-%COMP%]{font-size:12px}}"]}),t})();var w=a(8453);function Z(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",7),s.TgZ(1,"div",9),s.TgZ(2,"input",10,11),s.NdJ("keyup",function(){s.CHM(t);const e=s.MAs(3);return s.oxw().onSearchFilter(e.value)})("change",function(){return s.CHM(t),s.oxw().onChangeSearchFilter()}),s.qZA(),s.qZA(),s.qZA()}}function I(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",12),s.TgZ(1,"atm-card",13),s.NdJ("onClickedCardButton",function(e){return s.CHM(t),s.oxw().onClickCard(e)})("onMarkedResepAsComplete",function(e){s.CHM(t);const a=s.oxw();return a.onMarkResepAsComplete(e,a.CardBodyData)})("onMarkedResepSudahDilayani",function(e){s.CHM(t);const a=s.oxw();return a.onMarkResepSudahDilayani(e,a.CardBodyData)}),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,a=s.oxw();s.MGl("id","",a.CdkDropListId,"List"),s.xp6(1),s.Q6J("Id",t.Id)("NoRegister",t.NoRegister)("NamaPasien",t.NamaPasien)("NomorAntrian",t.NomorAntrian)("Waktu",t.Waktu)("NamaDokter",t.NamaDokter)("KodeResep",t.KodeResep)("DetailResep",t.DetailResep)("Status",t.Status)}}function D(t,e){1&t&&(s.TgZ(0,"div",7),s.TgZ(1,"div",14),s.TgZ(2,"p",15),s._uU(3,"No Record To Display"),s.qZA(),s.qZA(),s.qZA())}let y=(()=>{class t{constructor(t,e,a,i,n){this.router=t,this.encryptionService=e,this.resepDokterService=a,this.transaksiObatIrjaService=i,this.utilityService=n,this.onClickedCard=new s.vpe,this.HideBoard=!1}ngOnInit(){}onSortCardByDate(){this.CardBodyData.sort((t,e)=>new Date(e.Waktu).getTime()-new Date(t.Waktu).getTime())}onClickCard(t){}drop(t){t.previousContainer===t.container?(0,p.bA)(t.container.data,t.previousIndex,t.currentIndex):(0,p.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.onChangeStatusAfterDrop(t.container.id,t.container.data),this.onSortCardByDate()}onChangeStatusAfterDrop(t,e){return e.forEach(e=>{e.Status=t}),e}onSearchFilter(t){this.Search=t}onMarkResepAsComplete(t,e){this.transaksiObatIrjaService.obatDiserahakan(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Data Berhasil Diserahkan",t.message).then(()=>{this.resepDokterService.onGetAntrian()})})}onMarkResepSudahDilayani(t,e){const a=this.encryptionService.encrypt(JSON.stringify(t));this.router.navigate(["dashboard/Pharmacy/transaksi-obat/transaksi-obat-irja",a,"GRAHCIS"])}onChangeSearchFilter(){console.log(this.FilterPencarianGlobal)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0),s.Y36(h.C),s.Y36(l.f),s.Y36(T),s.Y36(S.t))},t.\u0275cmp=s.Xpm({type:t,selectors:[["atm-board"]],inputs:{CdkDropListId:"CdkDropListId",CardHeaderBackgroundColor:"CardHeaderBackgroundColor",CardHeaderIcon:"CardHeaderIcon",CardHeaderCaption:"CardHeaderCaption",CardBodyData:"CardBodyData",ConnectedTo:"ConnectedTo",FilterPencarianGlobal:"FilterPencarianGlobal"},outputs:{onClickedCard:"onClickedCard"},decls:11,vars:15,consts:[["cdkDropListGroup","",1,"row"],["cdkDropList","",1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2","px-2",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],[1,"card","border-0"],[1,"card-header","border-0"],[3,"CardHeaderIcon","CardHeaderColor","CardHeaderCaption"],[1,"card-body","px-1","pt-2","BoardHeight",3,"hidden"],["class","row",4,"ngIf"],[1,"row"],["cdkDrag","","class","col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-2","style","cursor: move;",3,"id",4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],["id","FilterPencarian","type","text","placeholder","Pencarian",1,"form-control",3,"keyup","change"],["FilterPencarian",""],["cdkDrag","",1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2",2,"cursor","move",3,"id"],[3,"Id","NoRegister","NamaPasien","NomorAntrian","Waktu","NamaDokter","KodeResep","DetailResep","Status","onClickedCardButton","onMarkedResepAsComplete","onMarkedResepSudahDilayani"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pt-2"],[1,"font-cabin","mb-0","text-hitam-muda"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.NdJ("cdkDropListDropped",function(t){return e.drop(t)}),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"atm-card-header",4),s.qZA(),s.TgZ(5,"div",5),s.YNc(6,Z,4,0,"div",6),s.TgZ(7,"div",7),s.YNc(8,I,2,10,"div",8),s.ALo(9,"filter"),s.qZA(),s.YNc(10,D,4,0,"div",6),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(1),s.s9C("id",e.CdkDropListId),s.Q6J("cdkDropListConnectedTo",e.ConnectedTo)("cdkDropListData",e.CardBodyData),s.xp6(2),s.Udp("background-color",e.CardHeaderBackgroundColor),s.xp6(1),s.Q6J("CardHeaderIcon",e.CardHeaderIcon)("CardHeaderColor",e.CardHeaderBackgroundColor)("CardHeaderCaption",e.CardHeaderCaption),s.xp6(1),s.Q6J("hidden",e.HideBoard),s.xp6(1),s.Q6J("ngIf",(null==e.CardBodyData?null:e.CardBodyData.length)>0),s.xp6(2),s.Q6J("ngForOf",s.xi3(9,12,e.CardBodyData,e.Search)),s.xp6(2),s.Q6J("ngIf",(null==e.CardBodyData?null:e.CardBodyData.length)<1))},directives:[p.Fd,p.Wj,v,i.O5,i.sg,p.Zt,C],pipes:[w.Z],styles:[".cdk-drag[_ngcontent-%COMP%]:hover{transition:all .25s;padding-left:.5rem;padding-right:.5rem;border:none!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{background-color:#f5f5f5;transition:all .25s}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.BoardHeight[_ngcontent-%COMP%]{height:calc(100vh - 16rem);max-height:calc(100vh - 16rem);overflow-y:auto;overflow-x:hidden}#FilterPencarian[_ngcontent-%COMP%]:focus{border-color:none!important;box-shadow:none!important}"]}),t})();function R(t,e){if(1&t&&(s.TgZ(0,"div"),s._UZ(1,"atm-board",2),s.qZA()),2&t){const t=e.$implicit,a=s.oxw();s.IyS("col-lg-",12/(null==a.Columns?null:a.Columns.length)," col-md-",24/(null==a.Columns?null:a.Columns.length)," col-sm-",48/(null==a.Columns?null:a.Columns.length),""),s.xp6(1),s.Q6J("CdkDropListId",t.KeyField)("CardHeaderBackgroundColor",t.HeaderBackgroundColor)("CardHeaderIcon",t.ColumnIcon)("CardHeaderCaption",t.HeaderText)("CardBodyData",t.Data)("ConnectedTo",t.ConnectedTo)("FilterPencarianGlobal",a.FilterPencarianGlobal)}}let F=(()=>{class t{constructor(){this.ConnectedTo=[],this.FilterPencarianGlobal=new c.xQ}ngOnInit(){}onFilterPencarianGlobal(t){this.FilterPencarianGlobal.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["mol-kanban-v1"]],inputs:{Columns:"Columns"},decls:2,vars:1,consts:[[1,"row"],[3,"class",4,"ngFor","ngForOf"],[3,"CdkDropListId","CardHeaderBackgroundColor","CardHeaderIcon","CardHeaderCaption","CardBodyData","ConnectedTo","FilterPencarianGlobal"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.YNc(1,R,2,12,"div",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",e.Columns))},directives:[i.sg,y],styles:[""]}),t})(),G=(()=>{class t{constructor(t,e){this.resepDokterService=t,this.socket=e,this.ButtonNav=[]}ngOnInit(){this.resepDokterService.onGetAntrian(),this.onSocketAntrian(),this.onSocketPembayaran()}onSocketAntrian(){return this.socket.fromEvent("antrian-callback").subscribe(t=>{this.resepDokterService.onGetAntrian()})}onSocketPembayaran(){return this.socket.fromEvent("pembayaran-callback").subscribe(t=>{this.resepDokterService.onGetAntrian()})}onClickButtonNav(t){switch(t){case"MoveItem":this.onTransferItemUsingDataDetailId("Data","SiapDiracik","DETS-1")}}onTransferItem(){let t;t=this.Columns[0].Data[0],this.Columns[0].Data.splice(0,1),this.Columns[1].Data.push(t)}onTransferItemUsingDataDetailId(t,e,a){let i,n=this.Columns.filter(e=>e.KeyField==t),r=this.Columns.filter(t=>t.KeyField==e),o=n[0].Data.findIndex(t=>t.Id==a);-1!==o&&(i=n[0].Data[o],n[0].Data.splice(o,1),r[0].Data.push(i),i={})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.f),s.Y36(d.sk))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-antrian-farmasi"]],decls:3,vars:4,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"Columns"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.onClickButtonNav(t)}),s._UZ(1,"mol-kanban-v1",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.Q6J("ButtonNav",e.ButtonNav),s.xp6(1),s.Q6J("Columns",s.lcZ(2,2,e.resepDokterService.dataAntrianIrja)))},directives:[u.G,F],pipes:[i.Ov],styles:[""]}),t})();var q=a(654),N=a(8512),P=a(1305);const E=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_item","headerText":"Kode","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_item","headerText":"Nama Barang","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"barcode","headerText":"Barcode","type":"string","visible":true}],"filter":[{"field":"kode_item","filter":"like","title":"KODE"},{"field":"nama_item","filter":"like","title":"NAMA"},{"field":"nama_item","filter":"barcode","title":"BARCODE"}]}');var O=a.t(E,2);const B=JSON.parse('{"GridColumns":[{"field":"no_bill","headerText":"No Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_bill","headerText":"Tgl Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"depo","headerText":"Depo","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"pasien","headerText":"Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_rm","headerText":"No Rm","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_register","headerText":"No Register","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_masuk","headerText":"Tgl Masuk","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_pasien","headerText":"Nama Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"gender","headerText":"Sex","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_debitur","headerText":"Nama Debitur","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}]}');var M=a.t(B,2),J=a(2901),U=a(5470),Q=a(3166),L=a(151),H=a(1998),K=a(9456),Y=a(1876);const V=["gridDetail"],j=["LookupItem"],z=["modalQty"],W=["modalSatuan"],X=["modalCanceled"];function $(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"h5",29),s._uU(2,"Edit Qty"),s.qZA(),s.TgZ(3,"button",30),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",31),s.qZA(),s.qZA(),s.TgZ(5,"div",32),s.TgZ(6,"div",33),s.TgZ(7,"div",34),s.TgZ(8,"input",35,36),s.NdJ("keydown.enter",function(){s.CHM(t);const e=s.MAs(9);return s.oxw().handleQtyChange(e.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",37),s.TgZ(11,"button",38),s._uU(12,"Oke"),s.qZA(),s.qZA()}}function tt(t,e){if(1&t&&(s.TgZ(0,"option",42),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("ngValue",t.kode_satuan),s.xp6(1),s.hij("",t.kode_satuan," ")}}function et(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"h5",29),s._uU(2,"Edit Satuan"),s.qZA(),s.TgZ(3,"button",30),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",31),s.qZA(),s.qZA(),s.TgZ(5,"div",32),s.TgZ(6,"div",33),s.TgZ(7,"div",34),s.TgZ(8,"select",39,40),s.NdJ("keydown.enter",function(){s.CHM(t);const e=s.MAs(9);return s.oxw().handleSatuanChange(e.value)}),s.YNc(10,tt,2,2,"option",41),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",37),s.TgZ(12,"button",38),s._uU(13,"Oke"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("value",t.detailSelected.kode_satuan_besar),s.xp6(2),s.Q6J("ngForOf",t.datasatuan)}}function at(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"h5",29),s._uU(2,"Canceled"),s.qZA(),s.TgZ(3,"button",30),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",31),s.qZA(),s.qZA(),s.TgZ(5,"div",32),s.TgZ(6,"div",33),s.TgZ(7,"div",43),s.TgZ(8,"label",44),s.TgZ(9,"strong"),s._uU(10,"Reason Cancel"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",45),s._UZ(12,"input",46),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"div",37),s.TgZ(14,"button",47),s.NdJ("click",function(){return s.CHM(t),s.oxw().onCalceled()}),s._uU(15,"Cancel Data"),s.qZA(),s.TgZ(16,"button",48),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._uU(17,"Batal"),s.qZA(),s.qZA()}}let it=(()=>{class t{constructor(t,e,a,i,n,r,o,s,l,d){this.formBuilder=t,this.pemakaianInternalService=e,this.encryptionService=a,this.activatedRoute=i,this.location=n,this.renderer=r,this.modalService=o,this.changeDetection=s,this.utilityService=l,this.setupItemService=d,this.inputFieldState="detail",this.ButtonNav=[{Id:"Simpan",Captions:"simpan",Icons1:"fa-save"}],this.GridDataEditSettings={allowEditing:!0},this.GridLookUpItem=O,this.GridConfig=M,this.subscriptions=[],this.counterChildGrid=0,this.datasatuan=[],this.childGridSatuan=[],this.id_stockroom=0,this.dataSourceGrid=new N.X([]),this.dataScourceGridChild=[],this.totalJumlahItem=new N.X(0),this.itemBatch=[],this.id_item=new N.X(0),this.id=0}ngOnInit(){this.formInput=this.formBuilder.group({tanggal_transaksi:[null],depo:[""],no_bill:[""],nama_pasien:[""],no_rm:[""],no_register:[""]});let t=this.id_item,e=null;this.satuanParams={create:()=>(this.satuanElem=document.createElement("input"),this.satuanElem),read:()=>this.satuanObj.text,destroy:()=>{this.satuanObj.destroy()},write:()=>{this.childGridSatuan=this.pemakaianInternalService.getSatuanDetail(this.id_item.value),this.satuanObj=new q.NB({value:"",dataSource:this.childGridSatuan,fields:{value:"kode_satuan",text:"kode_satuan"},enabled:!0,placeholder:"Select a Satuan",floatLabelType:"Never"}),this.satuanObj.appendTo(this.satuanElem),e&&(this.satuanObj.value=e.satuan)}},this.itemsParams={create:()=>(this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.setupItemService.onGetEDItem(this.id_stockroom,t.value).subscribe(e=>{this.itemsObj=new q.NB({value:"",dataSource:e.data,fields:{value:"batch_number",text:"batch_number"},enabled:!0,placeholder:"Select a Batch",floatLabelType:"Never",change:(function(e){this.setFormGrif(e),t.next(e.itemData.id_item)}).bind(this)}),this.itemsObj.appendTo(this.itemsElem)}),e&&setTimeout(()=>{this.itemsObj.value=e.batch_number},500)}};let a=this.dataScourceGridChild,i=this.counterChildGrid,n=this.dataSourceGrid,r=this.totalJumlahItem;this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"id_item",rowHeight:30,allowResizing:!0,allowTextWrap:!1,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"no_urut",headerText:"urut",visible:!1},{field:"id_item",headerText:"id_item",width:100,visible:!1},{field:"batch_number",headerText:"Batch Number",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"expired_date",headerText:"Expired Date",textAlign:"Right",width:80,allowEditing:!1},{field:"qty_besar",headerText:"Banyak",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"satuan",headerText:"Satuan",visible:!1,editType:"dropdownedit",edit:this.satuanParams,width:200},{field:"isi",headerText:"Isi",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"qty",headerText:"Qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!0},{field:"nama_satuan",headerText:"Satuan",headerTextAlign:"Center",textAlign:"Left",width:100,format:"N2",allowEditing:!1,visible:!1},{field:"hpp_satuan",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1},{field:"sub_total",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1}],rowSelected(t){e=t.data},actionBegin(e){"add"===e.requestType&&(e.data.id_item=this.parentDetails.parentRowData.id_item,e.data.counterChildGrid=i++,t.next(this.parentDetails.parentRowData.id_item),console.log(t.value))},actionComplete(t){if("save"===t.requestType){if(console.log("complete",t),"add"===t.action&&a.push(t.data),"edit"===t.action){let e=a.map(t=>t.counterChildGrid).indexOf(t.data.counterChildGrid);a[e]=t.data}let e=[];n.value.forEach((t,i)=>{let n=0;a.forEach((e,a)=>{t.id_item==e.id_item&&(n+=parseInt(e.qty_pemakaian_internal))}),t.qty=n,e.push(t)}),setTimeout(()=>{n.next(e),r.next(e.sum("qty_pemakaian_internal")),console.log(e)},500)}if("delete"===t.requestType){let e=a.map(t=>t.counterChildGrid).indexOf(t.data[0].counterChildGrid);a.splice(e,1);let i=[];n.value.forEach((t,e)=>{let n=0;a.forEach((e,a)=>{t.id_item==e.id_item&&(n+=parseInt(e.qty_pemakaian_internal))}),t.qty=n,i.push(t)}),setTimeout(()=>{n.next(i),console.log(i)},500)}}},this.globalListenFunc=this.renderer.listen("document","keydown",t=>{112==t.keyCode&&(this.LookupItem.onOpenModal(),t.preventDefault())}),this.GridDetailToolbar=[{text:"| [*]=Ubah Banyak | [+]=Satuan |"}]}ngAfterViewInit(){let t=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(t),this.onLoadDetailData(t)}onDataBound(){this.gridDetail.detailRowModule.expandAll()}setFormGrif(t){document.getElementsByName("expired_date")[0].value=t.itemData.expired_date,document.getElementsByName("nama_satuan")[0].value=t.itemData.nama_satuan,document.getElementsByName("hpp_satuan")[0].value=t.itemData.harga_satuan_netto}handleClickRefesh(){}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}handleSelectedPasien(t){}handleSelectdRow(t){this.currentIndex=t.rowIndex,this.datasatuan=t.data.satuans,this.detailSelected=t.data,this.satuanVal=t.data.kode_satuan_besar}handleActionCompleted(t){"save"==t.requestType&&(console.log(t),this.pemakaianInternalService.updateFromInline(t.rowIndex,t.data,t.rowData),this.gridDetail.refresh())}KeyDownHandler(t){106===t.keyCode&&this.onOpenQty(),46===t.keyCode&&(this.pemakaianInternalService.removeDataDetail(this.currentIndex),this.gridDetail.refresh(),setTimeout(()=>{0!=this.currentIndex&&(this.gridDetail.selectedRowIndex=0)},100)),107===t.keyCode&&this.onOpenSatuan()}onToolbarClick(t){switch(t.item.id){case"add":this.LookupItem.onOpenModal()}}onLoadDetailData(t){this.pemakaianInternalService.onGetById(t).subscribe(e=>{this.id=parseInt(t),this.formInput.setValue({pemakaian_internal_id:parseInt(t),pic_pemberi:"",pic_penerima:"",time_serah_terima:new Date,total_transaksi:0}),this.id_stockroom=e.data.id_stockroom,this.pemakaianInternalService.getDetail(t).subscribe(t=>{t.data.map((t,e)=>t.qty=0),this.dataSourceGrid.next(t.data)})})}onOpenQty(){const t=(0,P.aj)(this.modalService.onShow,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("QtyValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(t=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(t),this.modalRef=this.modalService.show(this.modalQty,Object.assign({},{class:"modal-lg"}))}onOpenSatuan(){const t=(0,P.aj)(this.modalService.onShown,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("SatuanValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(t=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(t),this.modalRef=this.modalService.show(this.modalSatuan,Object.assign({},{class:"modal-lg"}))}unsubscribe(){this.subscriptions.forEach(t=>{t.unsubscribe()}),this.subscriptions=[]}selectLastRowdetail(){setTimeout(()=>{this.gridDetail.selectedRowIndex=this.gridDetail.dataSource.length-1},150)}onSave(){if(this.formInput.valid){let t=this.formInput.value;this.dataSourceGrid.subscribe(e=>{let a=e;a.map((t,e)=>t.detailBatch=[]),a.forEach((t,e)=>{let i=0;this.dataScourceGridChild.forEach((n,r)=>{t.id_item==n.id_item&&(n.qty_pemakaian_internal=parseFloat(n.qty_pemakaian_internal),n.hpp_satuan=parseFloat(n.hpp_satuan),n.sub_total=n.qty_pemakaian_internal*n.hpp_satuan,a[e].detailBatch.push(n),i+=n.sub_total)}),a[e].nominal_pemakaian_internal=i}),t.details=a,this.pemakaianInternalService.validasiPersetujuan(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{})})})}else alert("isi semua data")}onClickButtonNav(t){switch(t){case"Back":this.location.back();break;case"Validasi":this.onSave();break;case"Cancel":this.modalRef=this.modalService.show(this.modalCanceled,Object.assign({},{class:"modal-lg"}))}}onCalceled(){let t=document.getElementsByName("reason_canceled")[0].value;this.pemakaianInternalService.Cancel(this.id,t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Data Pemesanan Berhasil Di Cancel",t.message).then(()=>{this.onLoadDetailData(this.id),this.modalRef.hide()})})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(J.q),s.Y36(h.C),s.Y36(o.gz),s.Y36(i.Ye),s.Y36(s.Qsj),s.Y36(U.tT),s.Y36(s.sBO),s.Y36(S.t),s.Y36(Q.z))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-refund-obat-irja"]],viewQuery:function(t,e){if(1&t&&(s.Gf(V,5),s.Gf(j,5),s.Gf(z,5),s.Gf(W,5),s.Gf(X,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.gridDetail=t.first),s.iGM(t=s.CRH())&&(e.LookupItem=t.first),s.iGM(t=s.CRH())&&(e.modalQty=t.first),s.iGM(t=s.CRH())&&(e.modalSatuan=t.first),s.iGM(t=s.CRH())&&(e.modalCanceled=t.first)}},decls:36,vars:39,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4","mb-2"],["formControlName","tanggal_transaksi",3,"label","format"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","mb-2"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","depo",3,"label","inputFieldState"],[3,"grid-height","grid-DataSource","grid-paging","grid-lines","columns","row-selected"],["GridResep",""],[1,"row","mb-2","mt-2"],["formControlName","no_bill",3,"label","inputFieldState"],["formControlName","nama_pasien",3,"label","inputFieldState"],["formControlName","no_rm",3,"label","inputFieldState"],["formControlName","no_register",3,"label","inputFieldState"],[3,"editSettings","dataSource","gridLines","allowResizing","childGrid","actionComplete","toolbarClick","load","rowSelected","dataBound"],["gridDetail",""],["field","no_urut","headerText","urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","kode_item","headerText","Kode Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_item","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_jual","headerText","QTY Jual","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_telah_diretur","headerText","QTY Telah Diretur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_retur","headerText","QTY Akan Di Retur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["modalQty",""],["modalSatuan",""],["modalCanceled",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","text","id","QtyValueId",1,"form-control",3,"keydown.enter"],["qtyValueId",""],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary"],["id","SatuanValueId","multiple","",1,"form-control",3,"value","keydown.enter"],["satuanValueId",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"col-sm-4"],["for","reason_canceled"],[1,"col-sm-8"],["type","text","name","reason_canceled",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.onClickButtonNav(t)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"mol-datepicker-syncfusion",4),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"button",6),s.NdJ("click",function(){return e.handleClickRefesh()}),s._uU(7,"Refresh"),s.qZA(),s.qZA(),s.TgZ(8,"div",7),s._UZ(9,"mol-input-text",8),s.qZA(),s.qZA(),s.TgZ(10,"mol-grid",9,10),s.NdJ("row-selected",function(t){return e.handleSelectedPasien(t)}),s.qZA(),s.TgZ(12,"div",11),s.TgZ(13,"div",7),s._UZ(14,"mol-input-text",12),s._UZ(15,"mol-input-text",13),s.qZA(),s.TgZ(16,"div",7),s._UZ(17,"mol-input-text",14),s._UZ(18,"mol-input-text",15),s.qZA(),s.qZA(),s.TgZ(19,"ejs-grid",16,17),s.NdJ("actionComplete",function(t){return e.handleActionCompleted(t)})("toolbarClick",function(t){return e.onToolbarClick(t)})("load",function(t){return e.handleLoadGrid(t)})("rowSelected",function(t){return e.handleSelectdRow(t)})("dataBound",function(){return e.onDataBound()}),s.ALo(21,"async"),s.TgZ(22,"e-columns"),s._UZ(23,"e-column",18),s._UZ(24,"e-column",19),s._UZ(25,"e-column",20),s._UZ(26,"e-column",21),s._UZ(27,"e-column",22),s._UZ(28,"e-column",23),s._UZ(29,"e-column",24),s.qZA(),s.qZA(),s.qZA(),s.YNc(30,$,13,0,"ng-template",null,25,s.W1O),s.YNc(32,et,14,2,"ng-template",null,26,s.W1O),s.YNc(34,at,18,0,"ng-template",null,27,s.W1O),s.qZA()),2&t&&(s.Q6J("ButtonNav",e.ButtonNav),s.xp6(1),s.Q6J("formGroup",e.formInput),s.xp6(3),s.Q6J("label","Tanggal")("format","dd MMMM yyyy"),s.xp6(5),s.Q6J("label","Depo")("inputFieldState","detail"),s.xp6(1),s.Q6J("grid-height","6rem")("grid-paging",!1)("grid-lines","Both")("columns",e.GridConfig.GridColumns),s.xp6(4),s.Q6J("label","No. Bill")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Nama Pasien")("inputFieldState",e.inputFieldState),s.xp6(2),s.Q6J("label","No. RM")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","No. Register")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("editSettings",e.GridDataEditSettings)("dataSource",s.lcZ(21,37,e.dataSourceGrid))("gridLines","Both")("allowResizing",!0)("childGrid",e.ChildGrid),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1))},directives:[u.G,n._Y,n.JL,n.sg,L.i,n.JJ,n.u,H._,K.q,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,i.sg,n.YN,n.Kr],pipes:[i.Ov],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),t})();const nt=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_item","headerText":"Kode","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_item","headerText":"Nama Barang","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"barcode","headerText":"Barcode","type":"string","visible":true}],"filter":[{"field":"kode_item","filter":"like","title":"KODE"},{"field":"nama_item","filter":"like","title":"NAMA"},{"field":"nama_item","filter":"barcode","title":"BARCODE"}]}');var rt=a.t(nt,2);const ot=JSON.parse('{"GridColumns":[{"field":"no_bill","headerText":"No Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_bill","headerText":"Tgl Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"depo","headerText":"Depo","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"pasien","headerText":"Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_rm","headerText":"No Rm","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_register","headerText":"No Register","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_masuk","headerText":"Tgl Masuk","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_pasien","headerText":"Nama Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"gender","headerText":"Sex","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_debitur","headerText":"Nama Debitur","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}]}');var st=a.t(ot,2),lt=a(8830);const dt=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_item","headerText":"Kode","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_item","headerText":"Nama Barang","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"barcode","headerText":"Barcode","type":"string","visible":true}],"filter":[{"field":"kode_item","filter":"like","title":"KODE"},{"field":"nama_item","filter":"like","title":"NAMA"},{"field":"nama_item","filter":"barcode","title":"BARCODE"}]}');var ut=a.t(dt,2),ct=a(4550);const pt=["LookupNoRegistrasi"],ht=["gridDetail"],mt=["LookupItem"],gt=["modalQty"],ft=["modalSatuan"],bt=["modalCanceled"];function Tt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Edit Qty"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"div",36),s.TgZ(7,"div",37),s.TgZ(8,"input",38,39),s.NdJ("keydown.enter",function(){s.CHM(t);const e=s.MAs(9);return s.oxw().handleQtyChange(e.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",40),s.TgZ(11,"button",41),s._uU(12,"Oke"),s.qZA(),s.qZA()}}function St(t,e){if(1&t&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("ngValue",t.kode_satuan),s.xp6(1),s.hij("",t.kode_satuan," ")}}function vt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Edit Satuan"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"div",36),s.TgZ(7,"div",37),s.TgZ(8,"select",42,43),s.NdJ("keydown.enter",function(){s.CHM(t);const e=s.MAs(9);return s.oxw().handleSatuanChange(e.value)}),s.YNc(10,St,2,2,"option",44),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",40),s.TgZ(12,"button",41),s._uU(13,"Oke"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("value",t.detailSelected.kode_satuan_besar),s.xp6(2),s.Q6J("ngForOf",t.datasatuan)}}function _t(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Canceled"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"div",36),s.TgZ(7,"div",46),s.TgZ(8,"label",47),s.TgZ(9,"strong"),s._uU(10,"Reason Cancel"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",48),s._UZ(12,"input",49),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"div",40),s.TgZ(14,"button",50),s.NdJ("click",function(){return s.CHM(t),s.oxw().onCalceled()}),s._uU(15,"Cancel Data"),s.qZA(),s.TgZ(16,"button",51),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._uU(17,"Batal"),s.qZA(),s.qZA()}}let kt=(()=>{class t{constructor(t,e,a,i,n,r,o,s,l,d){this.formBuilder=t,this.pemakaianInternalService=e,this.encryptionService=a,this.activatedRoute=i,this.location=n,this.renderer=r,this.modalService=o,this.changeDetection=s,this.utilityService=l,this.setupItemService=d,this.urlNoRegistrasi=lt.MM.SETUP_DATA.SETUP_COA.GET_ALL_BY_PARMS,this.LookupGridNoRegistrasi=ut,this.inputFieldState="detail",this.ButtonNav=[{Id:"Simpan",Captions:"simpan",Icons1:"fa-save"}],this.GridDataEditSettings={allowEditing:!0},this.GridLookUpItem=rt,this.GridConfig=st,this.subscriptions=[],this.counterChildGrid=0,this.datasatuan=[],this.childGridSatuan=[],this.id_stockroom=0,this.dataSourceGrid=new N.X([]),this.dataScourceGridChild=[],this.totalJumlahItem=new N.X(0),this.itemBatch=[],this.id_item=new N.X(0),this.id=0}ngOnInit(){this.formInput=this.formBuilder.group({id_register:[""],depo:[""],debitur:[""],nama_pasien:[""],no_rm:[""],no_register:[""],dokter:[""],tanggal_lahir:[""],usia:[""],alamat:[""],ruang:[""],bed:[""]});let t=this.id_item,e=null;this.satuanParams={create:()=>(this.satuanElem=document.createElement("input"),this.satuanElem),read:()=>this.satuanObj.text,destroy:()=>{this.satuanObj.destroy()},write:()=>{this.childGridSatuan=this.pemakaianInternalService.getSatuanDetail(this.id_item.value),this.satuanObj=new q.NB({value:"",dataSource:this.childGridSatuan,fields:{value:"kode_satuan",text:"kode_satuan"},enabled:!0,placeholder:"Select a Satuan",floatLabelType:"Never"}),this.satuanObj.appendTo(this.satuanElem),e&&(this.satuanObj.value=e.satuan)}},this.itemsParams={create:()=>(this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.setupItemService.onGetEDItem(this.id_stockroom,t.value).subscribe(e=>{this.itemsObj=new q.NB({value:"",dataSource:e.data,fields:{value:"batch_number",text:"batch_number"},enabled:!0,placeholder:"Select a Batch",floatLabelType:"Never",change:(function(e){this.setFormGrif(e),t.next(e.itemData.id_item)}).bind(this)}),this.itemsObj.appendTo(this.itemsElem)}),e&&setTimeout(()=>{this.itemsObj.value=e.batch_number},500)}};let a=this.dataScourceGridChild,i=this.counterChildGrid,n=this.dataSourceGrid,r=this.totalJumlahItem;this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"id_item",rowHeight:30,allowResizing:!0,allowTextWrap:!1,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"no_urut",headerText:"urut",visible:!1},{field:"id_item",headerText:"id_item",width:100,visible:!1},{field:"batch_number",headerText:"Batch Number",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"expired_date",headerText:"Expired Date",textAlign:"Right",width:80,allowEditing:!1},{field:"qty_besar",headerText:"Banyak",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"satuan",headerText:"Satuan",visible:!1,editType:"dropdownedit",edit:this.satuanParams,width:200},{field:"isi",headerText:"Isi",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"qty",headerText:"Qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!0},{field:"nama_satuan",headerText:"Satuan",headerTextAlign:"Center",textAlign:"Left",width:100,format:"N2",allowEditing:!1,visible:!1},{field:"hpp_satuan",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1},{field:"sub_total",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1}],rowSelected(t){e=t.data},actionBegin(e){"add"===e.requestType&&(e.data.id_item=this.parentDetails.parentRowData.id_item,e.data.counterChildGrid=i++,t.next(this.parentDetails.parentRowData.id_item),console.log(t.value))},actionComplete(t){if("save"===t.requestType){if(console.log("complete",t),"add"===t.action&&a.push(t.data),"edit"===t.action){let e=a.map(t=>t.counterChildGrid).indexOf(t.data.counterChildGrid);a[e]=t.data}let e=[];n.value.forEach((t,i)=>{let n=0;a.forEach((e,a)=>{t.id_item==e.id_item&&(n+=parseInt(e.qty_pemakaian_internal))}),t.qty=n,e.push(t)}),setTimeout(()=>{n.next(e),r.next(e.sum("qty_pemakaian_internal")),console.log(e)},500)}if("delete"===t.requestType){let e=a.map(t=>t.counterChildGrid).indexOf(t.data[0].counterChildGrid);a.splice(e,1);let i=[];n.value.forEach((t,e)=>{let n=0;a.forEach((e,a)=>{t.id_item==e.id_item&&(n+=parseInt(e.qty_pemakaian_internal))}),t.qty=n,i.push(t)}),setTimeout(()=>{n.next(i),console.log(i)},500)}}},this.globalListenFunc=this.renderer.listen("document","keydown",t=>{112==t.keyCode&&(this.LookupItem.onOpenModal(),t.preventDefault())}),this.GridDetailToolbar=[{text:"| [*]=Ubah Banyak | [+]=Satuan |"}]}ngAfterViewInit(){let t=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(t),this.onLoadDetailData(t)}onDataBound(){this.gridDetail.detailRowModule.expandAll()}setFormGrif(t){document.getElementsByName("expired_date")[0].value=t.itemData.expired_date,document.getElementsByName("nama_satuan")[0].value=t.itemData.nama_satuan,document.getElementsByName("hpp_satuan")[0].value=t.itemData.harga_satuan_netto}heandleSelectedNoRegistrasi(t){this.id_register.setValue(t.no_registrasi)}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}handleSelectedPasien(t){}handleSelectdRow(t){this.currentIndex=t.rowIndex,this.datasatuan=t.data.satuans,this.detailSelected=t.data,this.satuanVal=t.data.kode_satuan_besar}handleActionCompleted(t){"save"==t.requestType&&(console.log(t),this.pemakaianInternalService.updateFromInline(t.rowIndex,t.data,t.rowData),this.gridDetail.refresh())}KeyDownHandler(t){106===t.keyCode&&this.onOpenQty(),46===t.keyCode&&(this.pemakaianInternalService.removeDataDetail(this.currentIndex),this.gridDetail.refresh(),setTimeout(()=>{0!=this.currentIndex&&(this.gridDetail.selectedRowIndex=0)},100)),107===t.keyCode&&this.onOpenSatuan()}onToolbarClick(t){switch(t.item.id){case"add":this.LookupItem.onOpenModal()}}onLoadDetailData(t){this.pemakaianInternalService.onGetById(t).subscribe(e=>{this.id=parseInt(t),this.formInput.setValue({pemakaian_internal_id:parseInt(t),pic_pemberi:"",pic_penerima:"",time_serah_terima:new Date,total_transaksi:0}),this.id_stockroom=e.data.id_stockroom,this.pemakaianInternalService.getDetail(t).subscribe(t=>{t.data.map((t,e)=>t.qty=0),this.dataSourceGrid.next(t.data)})})}onOpenQty(){const t=(0,P.aj)(this.modalService.onShow,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("QtyValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(t=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(t),this.modalRef=this.modalService.show(this.modalQty,Object.assign({},{class:"modal-lg"}))}onOpenSatuan(){const t=(0,P.aj)(this.modalService.onShown,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("SatuanValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(t=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(t),this.modalRef=this.modalService.show(this.modalSatuan,Object.assign({},{class:"modal-lg"}))}unsubscribe(){this.subscriptions.forEach(t=>{t.unsubscribe()}),this.subscriptions=[]}selectLastRowdetail(){setTimeout(()=>{this.gridDetail.selectedRowIndex=this.gridDetail.dataSource.length-1},150)}onSave(){if(this.formInput.valid){let t=this.formInput.value;this.dataSourceGrid.subscribe(e=>{let a=e;a.map((t,e)=>t.detailBatch=[]),a.forEach((t,e)=>{let i=0;this.dataScourceGridChild.forEach((n,r)=>{t.id_item==n.id_item&&(n.qty_pemakaian_internal=parseFloat(n.qty_pemakaian_internal),n.hpp_satuan=parseFloat(n.hpp_satuan),n.sub_total=n.qty_pemakaian_internal*n.hpp_satuan,a[e].detailBatch.push(n),i+=n.sub_total)}),a[e].nominal_pemakaian_internal=i}),t.details=a,this.pemakaianInternalService.validasiPersetujuan(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.LookupNoRegistrasi.resetValue()})})})}else alert("isi semua data")}onClickButtonNav(t){switch(t){case"Back":this.location.back();break;case"Validasi":this.onSave();break;case"Cancel":this.modalRef=this.modalService.show(this.modalCanceled,Object.assign({},{class:"modal-lg"}))}}onCalceled(){let t=document.getElementsByName("reason_canceled")[0].value;this.pemakaianInternalService.Cancel(this.id,t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Data Pemesanan Berhasil Di Cancel",t.message).then(()=>{this.onLoadDetailData(this.id),this.modalRef.hide()})})}get id_register(){return this.formInput.get("id_register")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(J.q),s.Y36(h.C),s.Y36(o.gz),s.Y36(i.Ye),s.Y36(s.Qsj),s.Y36(U.tT),s.Y36(s.sBO),s.Y36(S.t),s.Y36(Q.z))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-refund-obat-irna"]],viewQuery:function(t,e){if(1&t&&(s.Gf(pt,5),s.Gf(ht,5),s.Gf(mt,5),s.Gf(gt,5),s.Gf(ft,5),s.Gf(bt,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.LookupNoRegistrasi=t.first),s.iGM(t=s.CRH())&&(e.gridDetail=t.first),s.iGM(t=s.CRH())&&(e.LookupItem=t.first),s.iGM(t=s.CRH())&&(e.modalQty=t.first),s.iGM(t=s.CRH())&&(e.modalSatuan=t.first),s.iGM(t=s.CRH())&&(e.modalCanceled=t.first)}},decls:37,vars:55,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],[3,"lookup-url","idTitle","modal-title","columns","filter-lookup","label","onGetSelectedData"],["LookupNoRegistrasi",""],["formControlName","no_rm",3,"label","inputFieldState"],["formControlName","debitur",3,"label","inputFieldState"],["formControlName","nama_pasien",3,"label","inputFieldState"],["formControlName","tanggal_lahir",3,"label","inputFieldState"],["formControlName","depo",3,"label","inputFieldState"],["formControlName","usia",3,"label","inputFieldState"],["formControlName","alamat",3,"label","inputFieldState"],["formControlName","ruang",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],[3,"editSettings","dataSource","gridLines","allowResizing","childGrid","actionComplete","toolbarClick","load","rowSelected","dataBound"],["gridDetail",""],["field","no_urut","headerText","urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","no_bill","headerText","No Bill","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","Depo","headerText","Depo","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","user_entry","headerText","User Entry","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","waktu_entry","headerText","Waktu Entry","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","kode_item","headerText","Kode Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_item","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_jual","headerText","QTY Jual","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_telah_diretur","headerText","QTY Telah Diretur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_retur","headerText","QTY Akan Di Retur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["modalQty",""],["modalSatuan",""],["modalCanceled",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","text","id","QtyValueId",1,"form-control",3,"keydown.enter"],["qtyValueId",""],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary"],["id","SatuanValueId","multiple","",1,"form-control",3,"value","keydown.enter"],["satuanValueId",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"col-sm-4"],["for","reason_canceled"],[1,"col-sm-8"],["type","text","name","reason_canceled",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.onClickButtonNav(t)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"org-input-look-up",4,5),s.NdJ("onGetSelectedData",function(t){return e.heandleSelectedNoRegistrasi(t)}),s.qZA(),s._UZ(6,"mol-input-text",6),s._UZ(7,"mol-input-text",7),s._UZ(8,"mol-input-text",8),s._UZ(9,"mol-input-text",9),s.qZA(),s.TgZ(10,"div",3),s._UZ(11,"mol-input-text",10),s._UZ(12,"mol-input-text",11),s._UZ(13,"mol-input-text",12),s._UZ(14,"mol-input-text",13),s._UZ(15,"mol-input-text",14),s.qZA(),s.qZA(),s.TgZ(16,"ejs-grid",15,16),s.NdJ("actionComplete",function(t){return e.handleActionCompleted(t)})("toolbarClick",function(t){return e.onToolbarClick(t)})("load",function(t){return e.handleLoadGrid(t)})("rowSelected",function(t){return e.handleSelectdRow(t)})("dataBound",function(){return e.onDataBound()}),s.ALo(18,"async"),s.TgZ(19,"e-columns"),s._UZ(20,"e-column",17),s._UZ(21,"e-column",18),s._UZ(22,"e-column",19),s._UZ(23,"e-column",20),s._UZ(24,"e-column",21),s._UZ(25,"e-column",22),s._UZ(26,"e-column",23),s._UZ(27,"e-column",24),s._UZ(28,"e-column",25),s._UZ(29,"e-column",26),s._UZ(30,"e-column",27),s.qZA(),s.qZA(),s.qZA(),s.YNc(31,Tt,13,0,"ng-template",null,28,s.W1O),s.YNc(33,vt,14,2,"ng-template",null,29,s.W1O),s.YNc(35,_t,18,0,"ng-template",null,30,s.W1O),s.qZA()),2&t){const t=s.MAs(5);s.Q6J("ButtonNav",e.ButtonNav),s.xp6(1),s.Q6J("formGroup",e.formInput),s.xp6(3),s.Q6J("lookup-url",e.urlNoRegistrasi)("idTitle","no_registrasi")("modal-title","Data No Registrasi")("columns",t.columns)("filter-lookup",t.filter)("label","No Registrasi"),s.xp6(2),s.Q6J("label","No Rm")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Debitur")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Nama Pasien")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Tanggal Lahir")("inputFieldState",e.inputFieldState),s.xp6(2),s.Q6J("label","Depo Anda")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Usia")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Alamat Pasien")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Ruang / Bed")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Dokter")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("editSettings",e.GridDataEditSettings)("dataSource",s.lcZ(18,53,e.dataSourceGrid))("gridLines","Both")("allowResizing",!0)("childGrid",e.ChildGrid),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)}},directives:[u.G,n._Y,n.JL,n.sg,ct.U,H._,n.JJ,n.u,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,i.sg,n.YN,n.Kr],pipes:[i.Ov],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),t})(),At=(()=>{class t{constructor(){this.ResepRacikan=new N.X([]),this.DetailResepRacikan=new N.X([])}onGetResepRacikanDummy(){return this.ResepRacikan.next([{id_obat:1,is_racikan:!0,kode_obat:"TES1",nama_obat:"OBAT A",jumlah:5,satuan:"pcs",harga:5e3,diskon:0,subtotal:25e3,detail_racikan:[]},{id_obat:2,is_racikan:!1,kode_obat:"TES2",nama_obat:"OBAT B",jumlah:1,satuan:"",harga:5e3,diskon:0,subtotal:5e3,detail_racikan:[]},{id_obat:3,is_racikan:!0,kode_obat:"TES1",nama_obat:"OBAT A",jumlah:5,satuan:"pcs",harga:5e3,diskon:0,subtotal:25e3,detail_racikan:[]},{id_obat:4,is_racikan:!1,kode_obat:"TES2",nama_obat:"OBAT B",jumlah:1,satuan:"",harga:5e3,diskon:0,subtotal:5e3,detail_racikan:[{id_obat:4,kode_obat:"TES21",nama_obat:"HOLIMOX 500 MG",satuan:"",satuan_terkecil:"TABLET",dosis_obat:.5,dosis_yg_diinginkan:.5,jumlah:1,harga:2500,subtotal:2500},{id_obat:4,kode_obat:"TES22",nama_obat:"AZOMAX 500 MG",satuan:"",satuan_terkecil:"TABLET",dosis_obat:.5,dosis_yg_diinginkan:.5,jumlah:1,harga:2500,subtotal:2500}]}]),this.ResepRacikan.asObservable()}onGetDetailResepRacikanDummy(){const t=[];return this.ResepRacikan.value.map(e=>{t.push(...e.detail_racikan)}),this.DetailResepRacikan.next(t),this.DetailResepRacikan.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xt=["GridResepRacikan"];let Ct=(()=>{class t{constructor(t){this.resepRacikanService=t,this.GridResepRacikanDatasource=[],this.GridDetailResepRacikanDatasource=[],this.ChildGrid={dataSource:this.GridDetailResepRacikanDatasource,queryString:"id_obat",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-xs",id:"Add"}],editSettings:{allowAdding:!0},columns:[{field:"id_obat",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",width:200},{field:"satuan",headerText:"Satuan",width:100},{field:"satuan_terkecil",headerText:"Satuan Terkecil",width:100},{field:"dosis_obat",headerText:"Dosis Obat",textAlign:"Right",width:80},{field:"dosis_yg_diinginkan",headerText:"Dosis yang Diinginkan",width:100,headerTextAlign:"Center",textAlign:"Right"},{field:"jumlah",headerText:"Jumlah",textAlign:"Right",width:100,format:"N2"},{field:"harga",headerText:"Harga (Rp)",textAlign:"Right",width:100,format:"N2"},{field:"subtotal",headerText:"Subtotal (Rp)",textAlign:"Right",width:100,format:"N2"}]}}ngOnInit(){this.resepRacikanService.onGetResepRacikanDummy().subscribe(t=>{this.GridResepRacikanDatasource=t})}onLoad(t){this.resepRacikanService.onGetDetailResepRacikanDummy().subscribe(t=>{this.GridResepRacikan.childGrid.dataSource=t})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(At))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-resep-racikan"]],viewQuery:function(t,e){if(1&t&&s.Gf(xt,5),2&t){let t;s.iGM(t=s.CRH())&&(e.GridResepRacikan=t.first)}},features:[s._Bn([Y.B41])],decls:18,vars:3,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"card-header"],[1,"mb-0","text-biru-muda"],[1,"card-body","p-0"],["height","calc(100vh - 13rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","load"],["GridResepRacikan",""],["field","id_obat","headerText","Nama Obat","textAlign","Left",3,"visible"],["field","nama_obat","headerText","Nama Obat","textAlign","Left"],["field","jumlah","headerText","Jumlah","textAlign","Center","format","N1"],["field","satuan","headerText","Satuan","textAlign","Left"],["field","harga","headerText","Harga (Rp)","textAlign","Right","format","N2"],["field","diskon","headerText","Diskon (%)","textAlign","Right","format","N2"],["field","subtotal","headerText","Subtotal (Rp)","textAlign","Right","format","N2"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"h5",4),s._uU(6,"Resep Racikan Example"),s.qZA(),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"ejs-grid",6,7),s.NdJ("load",function(t){return e.onLoad(t)}),s.TgZ(10,"e-columns"),s._UZ(11,"e-column",8),s._UZ(12,"e-column",9),s._UZ(13,"e-column",10),s._UZ(14,"e-column",11),s._UZ(15,"e-column",12),s._UZ(16,"e-column",13),s._UZ(17,"e-column",14),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Q6J("dataSource",e.GridResepRacikanDatasource)("childGrid",e.ChildGrid),s.xp6(3),s.Q6J("visible",!1))},directives:[u.G,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR],styles:[".e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:10px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:10px!important}"]}),t})();const wt=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_cara_pakai_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_cara_pakai_obat","headerText":"Kode Cara Pakai Obat","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"cara_pakai_obat","headerText":"Cara Pakai Obat","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var Zt=a.t(wt,2);let It=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.SETUP_DATA.SETUP_CARA_PAKAI_OBAT,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dt=a(651),yt=a(8511),Rt=a(1753),Ft=a(8952);const Gt=["OrgTabsRef"],qt=function(){return[]};let Nt=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.utilityService=e,this.setupCaraPakaiObatService=a,this.GridConfig=Zt,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_cara_pakai_obat:[0,[]],kode_cara_pakai_obat:["",[n.kI.required]],cara_pakai_obat:["",[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(t){this.TabId=t}InitalizedGrid(t){this.GridData=t}handleSelectedRow(t){this.SelectedData=t.data}handleActionComplete(t){console.log(t),"save"==t.requestType&&t.data.is_active!=t.rowData.is_active&&this.SetActive(t.data.is_active,t.data.id_cara_pakai_obat)}handleToolbarClick(t){switch(t.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(t){console.log(t)}handleClickButtonNav(t){switch(t){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupCaraPakaiObatService.onGetAll().subscribe(t=>{this.GridDatasource=t.data})}AddDataCaraPakaiObat(){console.log("Add")}SetFrom(t){this.FormInputData.reset(),this.FormInputData.setValue(t)}SaveAndNew(){const t=this.FormInputData.value;"normal"==this.inputFieldState?this.setupCaraPakaiObatService.onPostSave(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.ResetFrom()})}):this.setupCaraPakaiObatService.onPutEdit(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",t.message).then(()=>{})})}SetActive(t,e){let a={id_cara_pakai_obat:e};console.log("data",a),console.log("is_active",t),t?this.setupCaraPakaiObatService.onPutToActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",t.message).then(()=>{})}):this.setupCaraPakaiObatService.onPutToDeActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",t.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(t){13===t.keyCode&&console.log("Enter Has Been Pressed"),46===t.keyCode&&console.log("Delete Key Has Been Pressed"),40===t.keyCode&&console.log("Delete Key Has Been Pressed")}get kode_cara_pakai_obat(){return this.FormInputData.get("kode_cara_pakai_obat")}get cara_pakai_obat(){return this.FormInputData.get("cara_pakai_obat")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(S.t),s.Y36(It))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-cara-pakai-obat"]],viewQuery:function(t,e){if(1&t&&s.Gf(Gt,7),2&t){let t;s.iGM(t=s.CRH())&&(e.OrgTabsRef=t.first)}},decls:18,vars:22,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","kode_cara_pakai_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","cara_pakai_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.handleClickButtonNav(t)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(t){return e.handleSelectedTabId(t)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Cara Pakai Obat"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)})("toolbar-click",function(t){return e.handleToolbarClick(t)})("load-grid",function(t){return e.handleLoadGrid(t)})("initialized",function(t){return e.InitalizedGrid(t)})("command-click",function(t){return e.handleClickCommandGrid(t)})("action-complete",function(t){return e.handleActionComplete(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Cara Pakai Obat"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s._UZ(16,"mol-input-text",9),s._UZ(17,"mol-input-text",10),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav","Input"==e.TabId?e.ButtonNav:s.DdM(21,qt)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height",300)("grid-DataSource",e.GridDatasource)("grid-paging",!1)("grid-editSettings",e.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",e.GridDataToolbar)("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",e.FormInputData),s.xp6(3),s.Q6J("label","Kode Cara Pakai Obat")("IsFormControlInvalid",e.kode_cara_pakai_obat.invalid)("ValidatorsCaption","Kode Cara Pakai Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState)("disabled","edit"===e.inputFieldState),s.xp6(1),s.Q6J("label","Nama Cara Pakai Obat")("IsFormControlInvalid",e.cara_pakai_obat.invalid)("ValidatorsCaption","Nama Cara Pakai Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState))},directives:[u.G,Dt.D,yt.K,Rt.x,Ft.C,K.q,n._Y,n.JL,n.sg,H._,n.JJ,n.u],styles:[""]}),t})();const Pt=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_grup_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_grup_obat","headerText":"Kode Grup Obat","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_grup_obat","headerText":"Nama Grup Obat","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var Et=a.t(Pt,2);let Ot=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.SETUP_DATA.SETUP_GRUP_OBAT,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bt=["OrgTabsRef"],Mt=function(){return[]};let Jt=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.utilityService=e,this.setupGrupObatService=a,this.GridConfig=Et,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_grup_obat:["",[]],kode_grup_obat:["",[n.kI.required]],nama_grup_obat:["",[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(t){this.TabId=t}InitalizedGrid(t){this.GridData=t}handleSelectedRow(t){this.SelectedData=t.data}handleActionComplete(t){console.log(t),"save"==t.requestType&&t.data.is_active!=t.rowData.is_active&&this.SetActive(t.data.is_active,t.data.id_grup_obat)}handleToolbarClick(t){switch(t.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(t){console.log(t)}handleClickButtonNav(t){switch(t){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupGrupObatService.onGetAll().subscribe(t=>{this.GridDatasource=t.data})}AddDataGrupObat(){console.log("Add")}SetFrom(t){delete t.user_created,delete t.time_created,delete t.user_deactived,delete t.time_deactived,this.FormInputData.reset(),this.FormInputData.setValue(t)}SaveAndNew(){const t=this.FormInputData.value;"normal"==this.inputFieldState?this.setupGrupObatService.onPostSave(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.ResetFrom()})}):this.setupGrupObatService.onPutEdit(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",t.message).then(()=>{})})}SetActive(t,e){let a={id_grup_obat:e};console.log("data",a),console.log("is_active",t),t?this.setupGrupObatService.onPutToActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",t.message).then(()=>{})}):this.setupGrupObatService.onPutToDeActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",t.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(t){13===t.keyCode&&console.log("Enter Has Been Pressed"),46===t.keyCode&&console.log("Delete Key Has Been Pressed"),40===t.keyCode&&console.log("Delete Key Has Been Pressed")}get kode_grup_obat(){return this.FormInputData.get("kode_grup_obat")}get nama_grup_obat(){return this.FormInputData.get("nama_grup_obat")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(S.t),s.Y36(Ot))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-grup-obat"]],viewQuery:function(t,e){if(1&t&&s.Gf(Bt,7),2&t){let t;s.iGM(t=s.CRH())&&(e.OrgTabsRef=t.first)}},decls:18,vars:22,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","kode_grup_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_grup_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.handleClickButtonNav(t)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(t){return e.handleSelectedTabId(t)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Grup Obat"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)})("toolbar-click",function(t){return e.handleToolbarClick(t)})("load-grid",function(t){return e.handleLoadGrid(t)})("initialized",function(t){return e.InitalizedGrid(t)})("command-click",function(t){return e.handleClickCommandGrid(t)})("action-complete",function(t){return e.handleActionComplete(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Grup Obat"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s._UZ(16,"mol-input-text",9),s._UZ(17,"mol-input-text",10),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav","Input"==e.TabId?e.ButtonNav:s.DdM(21,Mt)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height",300)("grid-DataSource",e.GridDatasource)("grid-paging",!1)("grid-editSettings",e.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",e.GridDataToolbar)("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",e.FormInputData),s.xp6(3),s.Q6J("label","Kode Grup Obat")("IsFormControlInvalid",e.kode_grup_obat.invalid)("ValidatorsCaption","Kode Grup Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState)("disabled","edit"===e.inputFieldState),s.xp6(1),s.Q6J("label","Nama Grup Obat")("IsFormControlInvalid",e.nama_grup_obat.invalid)("ValidatorsCaption","Nama Grup Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState))},directives:[u.G,Dt.D,yt.K,Rt.x,Ft.C,K.q,n._Y,n.JL,n.sg,H._,n.JJ,n.u],styles:[""]}),t})();const Ut=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_label_pemakaian_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_label_pemakaian_obat","headerText":"Kode Label","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_label_pemakaian_obat","headerText":"Nama Label","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"berapa_kali_per_hari","headerText":"Berapa Kali Per Hari","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var Qt=a.t(Ut,2),Lt=a(1123);const Ht=["OrgTabsRef"],Kt=function(){return[]};let Yt=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.utilityService=e,this.setupLabelPemakaianObatService=a,this.GridConfig=Qt,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_label_pemakaian_obat:[0,[]],kode_label_pemakaian_obat:["",[n.kI.required]],nama_label_pemakaian_obat:["",[n.kI.required]],berapa_kali_per_hari:[0,[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(t){this.TabId=t}InitalizedGrid(t){this.GridData=t}handleSelectedRow(t){this.SelectedData=t.data}handleActionComplete(t){console.log(t),"save"==t.requestType&&t.data.is_active!=t.rowData.is_active&&this.SetActive(t.data.is_active,t.data.id_label_pemakaian_obat)}handleToolbarClick(t){switch(t.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(t){console.log(t)}handleClickButtonNav(t){switch(t){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset(),this.kode_label_pemakaian_obat.setValue(""),this.nama_label_pemakaian_obat.setValue("")}GetAllData(){this.setupLabelPemakaianObatService.onGetAll().subscribe(t=>{this.GridDatasource=t.data})}AddDataLabelPemakaianObat(){console.log("Add")}SetFrom(t){this.FormInputData.reset(),this.FormInputData.setValue(t)}SaveAndNew(){const t=this.FormInputData.value;"normal"==this.inputFieldState?this.setupLabelPemakaianObatService.onPostSave(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.ResetFrom()})}):this.setupLabelPemakaianObatService.onPutEdit(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",t.message).then(()=>{})})}SetActive(t,e){let a={id_label_pemakaian_obat:e};console.log("data",a),console.log("is_active",t),t?this.setupLabelPemakaianObatService.onPutToActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",t.message).then(()=>{})}):this.setupLabelPemakaianObatService.onPutToDeActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",t.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(t){13===t.keyCode&&console.log("Enter Has Been Pressed"),46===t.keyCode&&console.log("Delete Key Has Been Pressed"),40===t.keyCode&&console.log("Delete Key Has Been Pressed")}get kode_label_pemakaian_obat(){return this.FormInputData.get("kode_label_pemakaian_obat")}get nama_label_pemakaian_obat(){return this.FormInputData.get("nama_label_pemakaian_obat")}get berapa_kali_per_hari(){return this.FormInputData.get("berapa_kali_per_hari")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(S.t),s.Y36(Lt.l))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-label-pemakaian-obat"]],viewQuery:function(t,e){if(1&t&&s.Gf(Ht,7),2&t){let t;s.iGM(t=s.CRH())&&(e.OrgTabsRef=t.first)}},decls:19,vars:24,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","kode_label_pemakaian_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_label_pemakaian_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","berapa_kali_per_hari",3,"label","inputFieldState"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.handleClickButtonNav(t)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(t){return e.handleSelectedTabId(t)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Label Pemakaian Obat"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)})("toolbar-click",function(t){return e.handleToolbarClick(t)})("load-grid",function(t){return e.handleLoadGrid(t)})("initialized",function(t){return e.InitalizedGrid(t)})("command-click",function(t){return e.handleClickCommandGrid(t)})("action-complete",function(t){return e.handleActionComplete(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Label Pemakaian Obat"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s._UZ(16,"mol-input-text",9),s._UZ(17,"mol-input-text",10),s._UZ(18,"mol-input-text",11),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav","Input"==e.TabId?e.ButtonNav:s.DdM(23,Kt)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height",300)("grid-DataSource",e.GridDatasource)("grid-paging",!1)("grid-editSettings",e.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",e.GridDataToolbar)("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",e.FormInputData),s.xp6(3),s.Q6J("label","Kode Label Pemakaian Obat")("IsFormControlInvalid",e.kode_label_pemakaian_obat.invalid)("ValidatorsCaption","Kode Label Pemakaian Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState)("disabled","edit"===e.inputFieldState),s.xp6(1),s.Q6J("label","Nama Label Pemakaian Obat")("IsFormControlInvalid",e.nama_label_pemakaian_obat.invalid)("ValidatorsCaption","Nama Label Pemakaian Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Berapa Kali Perhari")("inputFieldState",e.inputFieldState))},directives:[u.G,Dt.D,yt.K,Rt.x,Ft.C,K.q,n._Y,n.JL,n.sg,H._,n.JJ,n.u],styles:[""]}),t})();const Vt=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_outlet","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_stockroom","headerText":"Id Stokroom","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_outlet","headerText":"Kode Outlet","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_outlet","headerText":"Outlet","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_tipe_outlet","headerText":"Id Tipe Outlet","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var jt=a.t(Vt,2);let zt=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.SETUP_DATA.SETUP_OUTLET,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wt=a(2282);let Xt=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.SETUP_DATA.SETUP_TIPE_OUTLET,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $t=a(3391),te=a(4594);const ee=["OrgTabsRef"],ae=function(){return[]};let ie=(()=>{class t{constructor(t,e,a,i,r){this.formBuilder=t,this.utilityService=e,this.setupOutletService=a,this.setupStockroomService=i,this.setupTipeOutletService=r,this.MaritalTipeOutletDropdownField={text:"tipe_outlet",value:"id_tipe_outlet"},this.MaritalStockroomDropdownField={text:"nama_stockroom",value:"id_stockroom"},this.GridConfig=jt,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_outlet:[0,[]],id_stockroom:[0,[n.kI.required]],kode_outlet:["",[n.kI.required]],nama_outlet:["",[n.kI.required]],id_tipe_outlet:[0,[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData(),this.setupStockroomService.setDataSource(),this.setupTipeOutletService.setDataSource()}handleSelectedTabId(t){this.TabId=t}InitalizedGrid(t){this.GridData=t}handleSelectedRow(t){this.SelectedData=t.data}handleActionComplete(t){console.log(t),"save"==t.requestType&&t.data.is_active!=t.rowData.is_active&&this.SetActive(t.data.is_active,t.data.id_outlet)}handleToolbarClick(t){switch(t.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(t){console.log(t)}handleClickButtonNav(t){switch(t){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupOutletService.onGetAll().subscribe(t=>{this.GridDatasource=t.data})}AddDataOutlet(){console.log("Add")}SetFrom(t){this.FormInputData.reset(),this.FormInputData.setValue(t)}SaveAndNew(){const t=this.FormInputData.value;"normal"==this.inputFieldState?this.setupOutletService.onPostSave(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.ResetFrom()})}):this.setupOutletService.onPutEdit(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",t.message).then(()=>{})})}SetActive(t,e){let a={id_outlet:e};console.log("data",a),console.log("is_active",t),t?this.setupOutletService.onPutToActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",t.message).then(()=>{})}):this.setupOutletService.onPutToDeActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",t.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(t){13===t.keyCode&&console.log("Enter Has Been Pressed"),46===t.keyCode&&console.log("Delete Key Has Been Pressed"),40===t.keyCode&&console.log("Delete Key Has Been Pressed")}get id_stockroom(){return this.FormInputData.get("id_stockroom")}get kode_outlet(){return this.FormInputData.get("kode_outlet")}get nama_outlet(){return this.FormInputData.get("nama_outlet")}get id_tipe_outlet(){return this.FormInputData.get("id_tipe_outlet")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(S.t),s.Y36(zt),s.Y36(Wt.u),s.Y36(Xt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-outlet"]],viewQuery:function(t,e){if(1&t&&s.Gf(ee,7),2&t){let t;s.iGM(t=s.CRH())&&(e.OrgTabsRef=t.first)}},decls:32,vars:34,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_stockroom",3,"dataSource","fields","allowFiltering"],["MaritalStockroomDropdown",""],["formControlName","kode_outlet",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_outlet",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["id","marital","formControlName","id_tipe_outlet",3,"dataSource","fields","allowFiltering"],["MaritalTipeOutletDropdown",""]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.handleClickButtonNav(t)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(t){return e.handleSelectedTabId(t)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Outlet"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)})("toolbar-click",function(t){return e.handleToolbarClick(t)})("load-grid",function(t){return e.handleLoadGrid(t)})("initialized",function(t){return e.InitalizedGrid(t)})("command-click",function(t){return e.handleClickCommandGrid(t)})("action-complete",function(t){return e.handleActionComplete(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Outlet"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s.TgZ(16,"div",7),s.TgZ(17,"div",9),s._UZ(18,"atm-label",10),s.qZA(),s.TgZ(19,"div",11),s._UZ(20,"ejs-dropdownlist",12,13),s.ALo(22,"async"),s.qZA(),s.qZA(),s._UZ(23,"mol-input-text",14),s._UZ(24,"mol-input-text",15),s.TgZ(25,"div",7),s.TgZ(26,"div",9),s._UZ(27,"atm-label",10),s.qZA(),s.TgZ(28,"div",11),s._UZ(29,"ejs-dropdownlist",16,17),s.ALo(31,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav","Input"==e.TabId?e.ButtonNav:s.DdM(33,ae)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height",300)("grid-DataSource",e.GridDatasource)("grid-paging",!1)("grid-editSettings",e.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",e.GridDataToolbar)("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",e.FormInputData),s.xp6(5),s.Q6J("LabelCaption","Stockroom"),s.xp6(2),s.Q6J("dataSource",s.lcZ(22,29,e.setupStockroomService.dataSource))("fields",e.MaritalStockroomDropdownField)("allowFiltering",!0),s.xp6(3),s.Q6J("label","Kode Outlet")("IsFormControlInvalid",e.kode_outlet.invalid)("ValidatorsCaption","Kode Outlet Tidak Boleh Kosong")("inputFieldState",e.inputFieldState)("disabled","edit"===e.inputFieldState),s.xp6(1),s.Q6J("label","Nama Outlet")("IsFormControlInvalid",e.nama_outlet.invalid)("ValidatorsCaption","Nama Outlet Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),s.xp6(3),s.Q6J("LabelCaption","Tipe Outlet"),s.xp6(2),s.Q6J("dataSource",s.lcZ(31,31,e.setupTipeOutletService.dataSource))("fields",e.MaritalTipeOutletDropdownField)("allowFiltering",!0))},directives:[u.G,Dt.D,yt.K,Rt.x,Ft.C,K.q,n._Y,n.JL,n.sg,$t.D,te.rI,n.JJ,n.u,H._],pipes:[i.Ov],styles:[""]}),t})();const ne=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_rute_pemberian_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_rute_pemberian_obat","headerText":"Nama Rute Pemberian Obat","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"rute_pasien","headerText":"Rute Pasien","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"ordered","headerText":"Ordered","visible":true},{"allowEditing":false,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_parenteral","headerText":"Parenteral","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var re=a.t(ne,2),oe=a(4452),se=a(6740);const le=["OrgTabsRef"],de=function(){return[]};let ue=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.utilityService=e,this.setupRutePemberianObatService=a,this.GridConfig=re,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_rute_pemberian_obat:[0,[]],nama_rute_pemberian_obat:["",[n.kI.required]],rute_pasien:["",[n.kI.required]],ordered:[0,[]],is_parenteral:[!1,[]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(t){this.TabId=t}InitalizedGrid(t){this.GridData=t}handleSelectedRow(t){this.SelectedData=t.data}handleActionComplete(t){console.log(t),"save"==t.requestType&&t.data.is_active!=t.rowData.is_active&&this.SetActive(t.data.is_active,t.data.id_rute_pemberian_obat)}handleToolbarClick(t){switch(t.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(t){console.log(t)}handleClickButtonNav(t){switch(t){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupRutePemberianObatService.onGetAll().subscribe(t=>{this.GridDatasource=t.data})}AddDataRutePemberianObat(){console.log("Add")}SetFrom(t){this.FormInputData.reset(),this.FormInputData.setValue(t)}SaveAndNew(){const t=this.FormInputData.value;"normal"==this.inputFieldState?this.setupRutePemberianObatService.onPostSave(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.ResetFrom()})}):this.setupRutePemberianObatService.onPutEdit(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",t.message).then(()=>{})})}SetActive(t,e){let a={id_rute_pemberian_obat:e};console.log("data",a),console.log("is_active",t),t?this.setupRutePemberianObatService.onPutToActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",t.message).then(()=>{})}):this.setupRutePemberianObatService.onPutToDeActive(a).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",t.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(t){13===t.keyCode&&console.log("Enter Has Been Pressed"),46===t.keyCode&&console.log("Delete Key Has Been Pressed"),40===t.keyCode&&console.log("Delete Key Has Been Pressed")}get id_rute_pemberian_obat(){return this.FormInputData.get("id_rute_pemberian_obat")}get nama_rute_pemberian_obat(){return this.FormInputData.get("nama_rute_pemberian_obat")}get rute_pasien(){return this.FormInputData.get("rute_pasien")}get ordered(){return this.FormInputData.get("ordered")}get is_parenteral(){return this.FormInputData.get("is_parenteral")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(S.t),s.Y36(oe.j))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-rute-pemberian-obat"]],viewQuery:function(t,e){if(1&t&&s.Gf(le,7),2&t){let t;s.iGM(t=s.CRH())&&(e.OrgTabsRef=t.first)}},decls:20,vars:24,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","nama_rute_pemberian_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","rute_pasien",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","ordered",3,"label","inputFieldState"],["formControlName","is_parenteral","id","is_parenteral",3,"label"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.handleClickButtonNav(t)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(t){return e.handleSelectedTabId(t)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Rute Pemberian Obat"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)})("toolbar-click",function(t){return e.handleToolbarClick(t)})("load-grid",function(t){return e.handleLoadGrid(t)})("initialized",function(t){return e.InitalizedGrid(t)})("command-click",function(t){return e.handleClickCommandGrid(t)})("action-complete",function(t){return e.handleActionComplete(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Rute Pemberian Obat"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s._UZ(16,"mol-input-text",9),s._UZ(17,"mol-input-text",10),s._UZ(18,"mol-input-text",11),s._UZ(19,"mol-input-checkbox-single",12),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav","Input"==e.TabId?e.ButtonNav:s.DdM(23,de)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height",300)("grid-DataSource",e.GridDatasource)("grid-paging",!1)("grid-editSettings",e.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",e.GridDataToolbar)("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",e.FormInputData),s.xp6(3),s.Q6J("label","Nama Rute Pemberian Obat")("IsFormControlInvalid",e.nama_rute_pemberian_obat.invalid)("ValidatorsCaption","Nama Rute Pemberian Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Kode Rute Pemberian Obat")("IsFormControlInvalid",e.rute_pasien.invalid)("ValidatorsCaption","Kode Rute Pemberian Obat Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Ordered")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Parenteral"))},directives:[u.G,Dt.D,yt.K,Rt.x,Ft.C,K.q,n._Y,n.JL,n.sg,H._,n.JJ,n.u,se.O],styles:[""]}),t})();const ce=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_tipe_outlet","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tipe_outlet","headerText":"Tipe Outlet","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"keterangan","headerText":"Keterangan","visible":true}]}');var pe=a.t(ce,2);const he=["OrgTabsRef"],me=function(){return[]};let ge=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.utilityService=e,this.setupTipeOutletService=a,this.GridConfig=pe,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_tipe_outlet:[0,[]],tipe_outlet:["",[n.kI.required]],keterangan:["",[n.kI.required]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(t){this.TabId=t}InitalizedGrid(t){this.GridData=t}handleSelectedRow(t){this.SelectedData=t.data}handleToolbarClick(t){switch(t.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(t){console.log(t)}handleClickButtonNav(t){switch(t){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(t){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupTipeOutletService.onGetAll().subscribe(t=>{this.GridDatasource=t.data})}AddDataTipeOutlet(){console.log("Add")}SetFrom(t){this.FormInputData.reset(),this.FormInputData.setValue(t)}SaveAndNew(){const t=this.FormInputData.value;"normal"==this.inputFieldState?this.setupTipeOutletService.onPostSave(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.ResetFrom()})}):this.setupTipeOutletService.onPutEdit(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",t.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(t){13===t.keyCode&&console.log("Enter Has Been Pressed"),46===t.keyCode&&console.log("Delete Key Has Been Pressed"),40===t.keyCode&&console.log("Delete Key Has Been Pressed")}get tipe_outlet(){return this.FormInputData.get("tipe_outlet")}get keterangan(){return this.FormInputData.get("keterangan")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(S.t),s.Y36(Xt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-tipe-outlet"]],viewQuery:function(t,e){if(1&t&&s.Gf(he,7),2&t){let t;s.iGM(t=s.CRH())&&(e.OrgTabsRef=t.first)}},decls:18,vars:21,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","tipe_outlet",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","keterangan",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.handleClickButtonNav(t)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(t){return e.handleSelectedTabId(t)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Tipe Outlet"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)})("toolbar-click",function(t){return e.handleToolbarClick(t)})("load-grid",function(t){return e.handleLoadGrid(t)})("initialized",function(t){return e.InitalizedGrid(t)})("command-click",function(t){return e.handleClickCommandGrid(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Tipe Outlet"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s._UZ(16,"mol-input-text",9),s._UZ(17,"mol-input-text",10),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav","Input"==e.TabId?e.ButtonNav:s.DdM(20,me)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height",300)("grid-DataSource",e.GridDatasource)("grid-paging",!1)("grid-editSettings",e.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",e.GridDataToolbar)("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",e.FormInputData),s.xp6(3),s.Q6J("label","Tipe Outlet")("IsFormControlInvalid",e.tipe_outlet.invalid)("ValidatorsCaption","Tipe Outlet Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Keterangan")("IsFormControlInvalid",e.keterangan.invalid)("ValidatorsCaption","Keterangan Outlet Tidak Boleh Kosong")("inputFieldState",e.inputFieldState))},directives:[u.G,Dt.D,yt.K,Rt.x,Ft.C,K.q,n._Y,n.JL,n.sg,H._,n.JJ,n.u],styles:[""]}),t})();const fe=JSON.parse('{"GridGenerik":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_terapi_generik","headerText":"No","type":"string","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_generik","headerText":"Nama Generik","type":"string","visible":true}]},"GridSediaan":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"jenis_formularium","headerText":"F/NF","visible":true},{"allowEditing":false,"allowSorting":false,"editType":"numericEdit","field":"sediaan_obat","headerText":"Sediaan","type":"string","visible":true},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_restriksi","headerText":"Restriksi","type":"string","visible":true},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"peresepan_maksimal","headerText":"peresepan_maksimal","type":"string","visible":true}],"DataSource":[{"no":1,"fornasi":"F","ket":"Tab 10 mg, Tab 20 mg"},{"no":2,"fornasi":"NF","ket":"Caps"}]},"GridKeterangan":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no","headerText":"No","type":"string","visible":true,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"ket","headerText":"Keteranga","type":"string","visible":true}],"DataSource":[{"no":1,"ket":"Hanya untuk pemakaian pada tindakan anestesi atau perawatan di Rumah Sakit"},{"no":2,"ket":"untuk mengatasi nyeri kanker yang tidak respon terhadap analgetik non narkotik"},{"no":3,"ket":"nyeri pada serangan jantung."}]},"GridPeresepan":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no","headerText":"No","type":"string","visible":true,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"ket","headerText":"Keteranga","type":"string","visible":true}],"DataSource":[{"no":1,"ket":"Tab lepas lambat 10 mg dan 15 mg: 60 tab/bln"}]},"GridItem":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no","headerText":"No","type":"string","visible":true,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"ket","headerText":"Keteranga","type":"string","visible":true}],"DataSource":[{"no":1,"ket":"Mefinal Tab 500 mg"},{"no":2,"ket":"Ponstan Tab 500 mg"},{"no":3,"ket":"Lapistan Caps 500 mg"}]}}');var be=a.t(fe,2);let Te=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_TERAPI,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return console.log(this.API),this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Se=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_TERAPI_GENERIK,this.dataSource=new N.X([])}setDataSource(t){this.onGetAll(t).subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(t){return this.httpOperationService.defaultGetRequest(this.API.GET_BY_ID_TERAPI+"/"+t)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ve=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_GENERIK,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_e=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_FORMULARIUM,this.dataSource=new N.X([])}setDataSource(t){this.onGetAll(t).subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(t){return this.httpOperationService.defaultGetRequest(this.API.GET_BY_ID_GENERIK+"/"+t)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ke=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_JENIS_FORMULARIUM,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ae=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_SEDIAAN_OBAT,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xe=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_RESTRIKSI_OBAT,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ce=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_PERESEPAN_MAKSIMAL,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),we=(()=>{class t{constructor(t,e){this.notificationService=t,this.httpOperationService=e,this.API=g.PHARMACY.FORMULARIUM.SETUP_PARAMETER_MAKSIMAL,this.dataSource=new N.X([])}setDataSource(){this.onGetAll().subscribe(t=>{this.dataSource.next(t.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutEdit(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}onPutToDeActive(t){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,t).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(b.g),s.LFG(f.d))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ze=a(804),Ie=a(3163);const De=["modalTambahTerapi"],ye=["modalTambahTerapiGenerik"],Re=["modalTambahFormularium"],Fe=["modalSetupGenerik"],Ge=["modalSetupTerapi"],qe=["modalSetupSediaan"],Ne=["modalSetupRestriksi"],Pe=["modalSetupPeresepanMaksimal"];function Ee(t,e){1&t&&s._UZ(0,"i",30)}function Oe(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",28),s.TgZ(2,"a",8),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSubTerapi()}),s.YNc(3,Ee,1,0,"i",29),s.qZA(),s._uU(4),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(3),s.Q6J("ngIf",null==t.id_terapi_parent),s.xp6(1),s.AsE(" ",t.kode_terapi," ",t.nama_terapi," ")}}function Be(t,e){1&t&&s._UZ(0,"mol-input-text",47),2&t&&s.Q6J("inputFieldState","detail")("label","Parent Terapi")}function Me(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Tambah Terapi"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"div",36),s.TgZ(7,"div",37),s.TgZ(8,"form",38),s.TgZ(9,"div",39),s.TgZ(10,"div",40),s.YNc(11,Be,1,2,"mol-input-text",41),s._UZ(12,"mol-input-text",42),s._UZ(13,"mol-input-text",43),s._UZ(14,"mol-input-text",44),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",45),s.TgZ(16,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanTerapi()}),s._uU(17,"Simpan Terapi"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("formGroup",t.FormInputDataTerapi),s.xp6(3),s.Q6J("ngIf",!t.hideParentTarif),s.xp6(1),s.Q6J("label","Kode Terapi")("IsFormControlInvalid",t.kode_terapi.invalid)("ValidatorsCaption","Kode Terapi Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","No Terapi")("IsFormControlInvalid",t.no_terapi.invalid)("ValidatorsCaption","No Terapi Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Nama Terapi")("IsFormControlInvalid",t.nama_terapi.invalid)("ValidatorsCaption","Nama Terapi Outlet Tidak Boleh Kosong")("inputFieldState",t.inputFieldState)}}function Je(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Tambah Terapi Generik"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"div",36),s.TgZ(7,"div",37),s.TgZ(8,"form",38),s.TgZ(9,"div",39),s._UZ(10,"mol-input-text",48),s.TgZ(11,"div",49),s._UZ(12,"atm-label",50),s.qZA(),s.TgZ(13,"div",51),s._UZ(14,"ejs-dropdownlist",52,53),s.ALo(16,"async"),s.qZA(),s.TgZ(17,"div",54),s.TgZ(18,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSetupGenerik()}),s._uU(19,"Setup"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",45),s.TgZ(21,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanTerapiGenerik()}),s._uU(22,"Simpan Terapi Generik"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("formGroup",t.FormInputDataTerapiGenerik),s.xp6(2),s.Q6J("label","No")("inputFieldState",t.inputFieldState),s.xp6(2),s.Q6J("LabelCaption","Nama Generik"),s.xp6(2),s.Q6J("dataSource",s.lcZ(16,7,t.setupGenerikService.dataSource))("fields",t.MaritalGenerikDropdownField)("allowFiltering",!0)}}function Ue(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Tambah formularium"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().modalRef.hide()}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"div",36),s.TgZ(7,"div",37),s.TgZ(8,"form",38),s.TgZ(9,"div",39),s.TgZ(10,"div",37),s.TgZ(11,"div",39),s.TgZ(12,"div",49),s._UZ(13,"atm-label",50),s.qZA(),s.TgZ(14,"div",55),s._UZ(15,"ejs-dropdownlist",56,57),s.ALo(17,"async"),s.qZA(),s.qZA(),s.TgZ(18,"div",39),s.TgZ(19,"div",49),s._UZ(20,"atm-label",50),s.qZA(),s.TgZ(21,"div",58),s._UZ(22,"ejs-dropdownlist",59,60),s.ALo(24,"async"),s.qZA(),s.TgZ(25,"div",54),s.TgZ(26,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSetupSediaan()}),s._uU(27,"Setup"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(28,"div",39),s.TgZ(29,"div",49),s._UZ(30,"atm-label",50),s.qZA(),s.TgZ(31,"div",58),s._UZ(32,"ejs-dropdownlist",61,62),s.ALo(34,"async"),s.qZA(),s.TgZ(35,"div",54),s.TgZ(36,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSetupRestriksi()}),s._uU(37,"Setup"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(38,"div",39),s.TgZ(39,"div",49),s._UZ(40,"atm-label",50),s.qZA(),s.TgZ(41,"div",58),s._UZ(42,"ejs-dropdownlist",63,64),s.ALo(44,"async"),s.qZA(),s.TgZ(45,"div",54),s.TgZ(46,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSetupPeresepanMaksimal()}),s._uU(47,"Setup"),s.qZA(),s.qZA(),s.qZA(),s._UZ(48,"mol-input-textarea",65),s._UZ(49,"mol-datepicker-syncfusion",66),s._UZ(50,"mol-datepicker-syncfusion",67),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",45),s.TgZ(52,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanFormularium()}),s._uU(53,"Simpan Formularium"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("formGroup",t.FormInputDataFormularium),s.xp6(5),s.Q6J("LabelCaption","Jenis"),s.xp6(2),s.Q6J("dataSource",s.lcZ(17,22,t.setupJenisFormulariumService.dataSource))("fields",t.MaritalJenisFormulariumDropdownField)("allowFiltering",!0),s.xp6(5),s.Q6J("LabelCaption","Sediaan"),s.xp6(2),s.Q6J("dataSource",s.lcZ(24,24,t.setupSediaanObatService.dataSource))("fields",t.MaritalSediaanObatDropdownField)("allowFiltering",!0),s.xp6(8),s.Q6J("LabelCaption","Restriksi"),s.xp6(2),s.Q6J("dataSource",s.lcZ(34,26,t.setupRestriksiObatService.dataSource))("fields",t.MaritalRestriksiObatDropdownField)("allowFiltering",!0),s.xp6(8),s.Q6J("LabelCaption","Peresepan Max"),s.xp6(2),s.Q6J("dataSource",s.lcZ(44,28,t.setupPeresepanMaksimalService.dataSource))("fields",t.MaritalPeresepanMaksimalDropdownField)("allowFiltering",!0),s.xp6(6),s.Q6J("label","Keterangan"),s.xp6(1),s.Q6J("label","Tgl Berlaku")("format","dd MMMM yyyy"),s.xp6(1),s.Q6J("label","Tgl Berakhir")("format","dd MMMM yyyy")}}function Qe(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Setup Generik"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.modalRef.hide(),e.handleTambahTerapiGenerik(!1)}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"form",38),s.TgZ(7,"div",39),s.TgZ(8,"div",68),s._UZ(9,"mol-input-text",69),s._UZ(10,"mol-input-text",70),s._UZ(11,"mol-input-text",71),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",45),s.TgZ(13,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanGenerik()}),s._uU(14,"Simpan Generk"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(6),s.Q6J("formGroup",t.FormInputDataGenerik),s.xp6(3),s.Q6J("label","No Generik")("IsFormControlInvalid",t.no_generik.invalid)("ValidatorsCaption","No Generik Tidak Boleh Kosong")("inputFieldState",t.inputFieldState)("disabled","edit"===t.inputFieldState),s.xp6(1),s.Q6J("label","Nama Generik")("IsFormControlInvalid",t.nama_generik.invalid)("ValidatorsCaption","Nama Generik Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Alias")("inputFieldState",t.inputFieldState)}}function Le(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Setup Sediaan"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.modalRef.hide(),e.handleTambahFormularium(!1)}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"form",38),s.TgZ(7,"div",39),s.TgZ(8,"div",68),s._UZ(9,"mol-input-textarea",72),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",45),s.TgZ(11,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanSediaan()}),s._uU(12,"Simpan Sediaan"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(6),s.Q6J("formGroup",t.FormInputDataSediaan),s.xp6(3),s.Q6J("label","sediaan_obat")}}function He(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Setup Restriksi"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.modalRef.hide(),e.handleTambahFormularium(!1)}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"form",38),s.TgZ(7,"div",39),s.TgZ(8,"div",68),s._UZ(9,"mol-input-textarea",73),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",45),s.TgZ(11,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanRestriksi()}),s._uU(12,"Simpan Restrisi"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(6),s.Q6J("formGroup",t.FormInputDataRestriksi),s.xp6(3),s.Q6J("label","restriksi_obat")}}function Ke(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"h5",32),s._uU(2,"Setup Peresepan Maksimal"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.modalRef.hide(),e.handleTambahFormularium(!1)}),s._UZ(4,"i",34),s.qZA(),s.qZA(),s.TgZ(5,"div",35),s.TgZ(6,"form",38),s.TgZ(7,"div",39),s.TgZ(8,"div",68),s._UZ(9,"mol-input-text",74),s._UZ(10,"mol-input-text",75),s.TgZ(11,"div",39),s.TgZ(12,"div",49),s._UZ(13,"atm-label",50),s.qZA(),s.TgZ(14,"div",55),s._UZ(15,"ejs-dropdownlist",76,77),s.ALo(17,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",45),s.TgZ(19,"button",46),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleSimpanPeresepanMaksimal()}),s._uU(20,"Simpan Peresepan Maksimal"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(6),s.Q6J("formGroup",t.FormInputDataPeresepanMaksimal),s.xp6(3),s.Q6J("label","Peresepan Maksimal")("IsFormControlInvalid",t.peresepan_maksimal.invalid)("ValidatorsCaption","Peresepan Maksimal Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Nilai")("inputFieldState",t.inputFieldState),s.xp6(3),s.Q6J("LabelCaption","Parameter"),s.xp6(2),s.Q6J("dataSource",s.lcZ(17,11,t.setupParameterMaksimalService.dataSource))("fields",t.MaritalParameterMaksimalDropdownField)("allowFiltering",!0)}}let Ye=(()=>{class t{constructor(t,e,a,i,n,r,o,s,l,d,u,c){this.modalService=t,this.formBuilder=e,this.utilityService=a,this.setupTerapiService=i,this.setupTerapiGenerikService=n,this.setupGenerikService=r,this.setupFormulariumService=o,this.setupJenisFormulariumService=s,this.setupSediaanObatService=l,this.setupRestriksiObatService=d,this.setupPeresepanMaksimalService=u,this.setupParameterMaksimalService=c,this.MaritalGenerikDropdownField={text:"nama_generik",value:"id_generik"},this.MaritalJenisFormulariumDropdownField={text:"jenis_formularium",value:"id_jenis_formularium"},this.MaritalSediaanObatDropdownField={text:"sediaan_obat",value:"id_sediaan_obat"},this.MaritalRestriksiObatDropdownField={text:"nama_restriksi",value:"id_restriksi_obat"},this.MaritalPeresepanMaksimalDropdownField={text:"peresepan_maksimal",value:"id_peresepan_maksimal"},this.MaritalParameterMaksimalDropdownField={text:"parameter_maksimal",value:"id_parameter_maksimal"},this.GridSetting=be,this.hideParentTarif=!0,this.allowMultiSelection=!1,this.DataSourceGeneric=[],this.DataSourceSediaan=[],this.DataSourceRestreksi=[],this.DataSourceMax=[],this.DataSourceDagang=[]}ngOnInit(){this.wrapSettings={wrapMode:"Content"},this.FormInputDataTerapi=this.formBuilder.group({id_terapi:[0,[]],id_terapi_parent:[null,[]],parent_terapi:["",[]],no_terapi:["",[n.kI.required]],kode_terapi:["",[n.kI.required]],nama_terapi:["",[n.kI.required]],level_rekursif_terapi:[1,[n.kI.required]]}),this.FormInputDataTerapiGenerik=this.formBuilder.group({id_terapi:[0,[]],no_terapi_generik:["",[n.kI.required]],id_generik:[0,[]]}),this.FormInputDataFormularium=this.formBuilder.group({id_formularium:[0,[]],id_generik:[0,[]],id_terapi:[0,[]],id_jenis_formularium:[0,[]],id_sediaan_obat:[0,[]],id_restriksi_obat:[0,[]],id_peresepan_maksimal:[0,[]],keterangan:["",[]],tgl_berlaku:[null,[]],tgl_berakhir:[null,[]]}),this.FormInputDataGenerik=this.formBuilder.group({id_generik:[0,[]],no_generik:["",[n.kI.required]],nama_generik:["",[n.kI.required]],alias_generik:["",[]],is_active:[!1,[]]}),this.FormInputDataSediaan=this.formBuilder.group({id_sediaan_obat:[0,[]],sediaan_obat:["",[n.kI.required]]}),this.FormInputDataRestriksi=this.formBuilder.group({nama_restriksi:["",[n.kI.required]]}),this.FormInputDataPeresepanMaksimal=this.formBuilder.group({peresepan_maksimal:["",[n.kI.required]],nilai_maksimal:[0,[]],id_parameter_maksimal:["",[n.kI.required]]}),this.getAllTerapi(),this.setupGenerikService.setDataSource(),this.setupJenisFormulariumService.setDataSource(),this.setupSediaanObatService.setDataSource(),this.setupRestriksiObatService.setDataSource(),this.setupPeresepanMaksimalService.setDataSource(),this.setupParameterMaksimalService.setDataSource()}nodeSelected(t){console.log(t),this.CurrentDataTerapi=t.nodeData,this.setupTerapiGenerikService.setDataSource(this.CurrentDataTerapi.id),this.setupFormulariumService.setDataSource(0)}getAllTerapi(){this.setupTerapiService.onGetAll().subscribe(t=>{this.field={dataSource:t.data,id:"id_terapi",parentID:"id_terapi_parent",text:"nama_terapi",hasChildren:"is_parent"}})}handleSimpanTerapi(){this.setupTerapiService.onPostSave(this.FormInputDataTerapi.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.FormInputDataTerapi.reset(),this.modalRef.hide(),this.getAllTerapi()})})}handleAddTerapi(){this.id_terapi_parent.setValue(null),this.parent_terapi.setValue(""),this.level_rekursif_terapi.setValue(0),this.hideParentTarif=!0,this.modalRef=this.modalService.show(this.modalTambahTerapi,Object.assign({},{class:"modal-lg"}))}handleSubTerapi(){this.id_terapi_parent.setValue(this.CurrentDataTerapi.id),this.parent_terapi.setValue(this.CurrentDataTerapi.text),this.level_rekursif_terapi.setValue(1),this.hideParentTarif=!1,this.modalRef=this.modalService.show(this.modalTambahTerapi,Object.assign({},{class:"modal-lg"}))}handleSetupTerapi(){console.log("setup terapi"),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupTerapi,Object.assign({},{class:"modal-lg"}))}handleTambahTerapiGenerik(t){this.id_terapi_g.setValue(this.CurrentDataTerapi.id),t&&this.FormInputDataTerapiGenerik.reset(),this.modalRef=this.modalService.show(this.modalTambahTerapiGenerik,Object.assign({},{class:"modal-lg"}))}handleSimpanTerapiGenerik(){this.setupTerapiGenerikService.onPostSave(this.FormInputDataTerapiGenerik.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.FormInputDataTerapiGenerik.reset(),this.modalRef.hide(),this.setupTerapiGenerikService.setDataSource(this.CurrentDataTerapi.id)})})}handleSelectedGeneric(t){this.CurrentDataTerapiGenerik=t.data,console.log(this.CurrentDataTerapiGenerik),this.setupFormulariumService.setDataSource(this.CurrentDataTerapiGenerik.id_generik)}handleTambahFormularium(t){this.id_terapi_f.setValue(this.CurrentDataTerapi.id),this.id_generik_f.setValue(this.CurrentDataTerapiGenerik.id_generik),t&&this.FormInputDataFormularium.reset(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))}handleSimpanFormularium(){this.setupFormulariumService.onPostSave(this.FormInputDataFormularium.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.FormInputDataFormularium.reset(),this.modalRef.hide(),this.setupFormulariumService.setDataSource(this.CurrentDataTerapiGenerik.id_generik)})})}handleSetupGenerik(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupGenerik,Object.assign({},{class:"modal-lg"}))}handleSimpanGenerik(){this.setupGenerikService.onPostSave(this.FormInputDataGenerik.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.setupGenerikService.setDataSource(),this.id_generik_g.setValue(t.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahTerapiGenerik,Object.assign({},{class:"modal-lg"}))})})}handleSetupSediaan(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupSediaan,Object.assign({},{class:"modal-lg"}))}handleSimpanSediaan(){this.setupSediaanObatService.onPostSave(this.FormInputDataSediaan.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.setupSediaanObatService.setDataSource(),this.id_sediaan_obat_f.setValue(t.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))})})}handleSetupRestriksi(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupRestriksi,Object.assign({},{class:"modal-lg"}))}handleSimpanRestriksi(){this.setupRestriksiObatService.onPostSave(this.FormInputDataRestriksi.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.setupRestriksiObatService.setDataSource(),this.id_restriksi_obat_f.setValue(t.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))})})}handleSetupPeresepanMaksimal(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupPeresepanMaksimal,Object.assign({},{class:"modal-lg"}))}handleSimpanPeresepanMaksimal(){this.setupPeresepanMaksimalService.onPostSave(this.FormInputDataPeresepanMaksimal.value).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",t.message).then(()=>{this.setupPeresepanMaksimalService.setDataSource(),this.id_peresepan_maksimal_f.setValue(t.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))})})}handleSelectedSediaan(t){console.log(t),this.DataSourceRestreksi=this.GridSetting.GridKeterangan.DataSource,this.DataSourceMax=this.GridSetting.GridPeresepan.DataSource,this.DataSourceDagang=this.GridSetting.GridItem.DataSource}get parent_terapi(){return this.FormInputDataTerapi.get("parent_terapi")}get id_terapi_parent(){return this.FormInputDataTerapi.get("id_terapi_parent")}get kode_terapi(){return this.FormInputDataTerapi.get("kode_terapi")}get no_terapi(){return this.FormInputDataTerapi.get("no_terapi")}get nama_terapi(){return this.FormInputDataTerapi.get("nama_terapi")}get level_rekursif_terapi(){return this.FormInputDataTerapi.get("level_rekursif_terapi")}get id_terapi_g(){return this.FormInputDataTerapiGenerik.get("id_terapi")}get id_generik_g(){return this.FormInputDataTerapiGenerik.get("id_generik")}get no_terapi_generik(){return this.FormInputDataTerapiGenerik.get("no_terapi_generik")}get id_formularium(){return this.FormInputDataFormularium.get("id_formularium")}get id_generik_f(){return this.FormInputDataFormularium.get("id_generik")}get id_terapi_f(){return this.FormInputDataFormularium.get("id_terapi")}get id_jenis_formularium_f(){return this.FormInputDataFormularium.get("id_jenis_formularium")}get id_sediaan_obat_f(){return this.FormInputDataFormularium.get("id_sediaan_obat")}get id_restriksi_obat_f(){return this.FormInputDataFormularium.get("id_restriksi_obat")}get id_peresepan_maksimal_f(){return this.FormInputDataFormularium.get("id_peresepan_maksimal")}get keterangan(){return this.FormInputDataFormularium.get("keterangan")}get tgl_berlaku(){return this.FormInputDataFormularium.get("tgl_berlaku")}get tgl_berakhir(){return this.FormInputDataFormularium.get("tgl_berakhir")}get no_generik(){return this.FormInputDataGenerik.get("no_generik")}get nama_generik(){return this.FormInputDataGenerik.get("nama_generik")}get nilai_maksimal(){return this.FormInputDataPeresepanMaksimal.get("nilai_maksimal")}get id_parameter_maksimal(){return this.FormInputDataPeresepanMaksimal.get("id_parameter_maksimal")}get peresepan_maksimal(){return this.FormInputDataPeresepanMaksimal.get("peresepan_maksimal")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(U.tT),s.Y36(n.qu),s.Y36(S.t),s.Y36(Te),s.Y36(Se),s.Y36(ve),s.Y36(_e),s.Y36(ke),s.Y36(Ae),s.Y36(xe),s.Y36(Ce),s.Y36(we))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-setup-formularium"]],viewQuery:function(t,e){if(1&t&&(s.Gf(De,5),s.Gf(ye,5),s.Gf(Re,5),s.Gf(Fe,5),s.Gf(Ge,5),s.Gf(qe,5),s.Gf(Ne,5),s.Gf(Pe,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.modalTambahTerapi=t.first),s.iGM(t=s.CRH())&&(e.modalTambahTerapiGenerik=t.first),s.iGM(t=s.CRH())&&(e.modalTambahFormularium=t.first),s.iGM(t=s.CRH())&&(e.modalSetupGenerik=t.first),s.iGM(t=s.CRH())&&(e.modalSetupTerapi=t.first),s.iGM(t=s.CRH())&&(e.modalSetupSediaan=t.first),s.iGM(t=s.CRH())&&(e.modalSetupRestriksi=t.first),s.iGM(t=s.CRH())&&(e.modalSetupPeresepanMaksimal=t.first)}},decls:73,vars:23,consts:[[1,"row"],[1,"col-sm-3"],[1,"card"],[1,"card-header"],[1,"row","justify-content-between"],[1,"col-md-7"],[1,"m-0"],[1,"col-auto"],[3,"click"],[1,"fas","fa-plus-circle","tambah","text-primary"],[1,"card-body","p-0"],["id","treeparent"],["id","treeelement","e-nodeclick","onClick",3,"fields","allowMultiSelection","nodeSelected"],["nodeTemplate",""],[3,"grid-id","grid-height","grid-lines","columns","grid-DataSource","row-selected"],["gridDaftarOrder",""],[1,"col-sm-6"],[1,"col-sm-12","mb-3"],[3,"grid-id","grid-height","grid-lines","columns","grid-DataSource","textWrapSettings","row-selected"],[1,"col-sm-12"],[3,"grid-id","grid-height","grid-lines","columns","grid-DataSource","textWrapSettings"],["modalTambahTerapi",""],["modalTambahTerapiGenerik",""],["modalTambahFormularium",""],["modalSetupGenerik",""],["modalSetupSediaan",""],["modalSetupRestriksi",""],["modalSetupPeresepanMaksimal",""],[1,"ejob"],["class","fas fa-plus-circle tambah_terapi text-primary ",4,"ngIf"],[1,"fas","fa-plus-circle","tambah_terapi","text-primary"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","parent_terapi",3,"inputFieldState","label",4,"ngIf"],["formControlName","kode_terapi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","no_terapi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","nama_terapi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["formControlName","parent_terapi",3,"inputFieldState","label"],["formControlName","no_terapi_generik",3,"label","inputFieldState"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-6","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_generik",3,"dataSource","fields","allowFiltering"],["MaritalGenerikDropdown",""],[1,"col-sm-2"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_jenis_formularium",3,"dataSource","fields","allowFiltering"],["MaritalJenisFormulariumDropdown",""],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],["id","marital","formControlName","id_sediaan_obat",3,"dataSource","fields","allowFiltering"],["MaritalSediaanObatDropdown",""],["id","marital","formControlName","id_restriksi_obat",3,"dataSource","fields","allowFiltering"],["MaritalRestriksiObatDropdown",""],["id","marital","formControlName","id_peresepan_maksimal",3,"dataSource","fields","allowFiltering"],["MaritalPeresepanMaksimalDropdown",""],["formControlName","keterangan",3,"label"],["formControlName","tgl_berlaku",3,"label","format"],["formControlName","tgl_berakhir",3,"label","format"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],["formControlName","no_generik",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_generik",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","alias_generik",3,"label","inputFieldState"],["formControlName","sediaan_obat",3,"label"],["formControlName","nama_restriksi",3,"label"],["formControlName","peresepan_maksimal",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","nilai",3,"label","inputFieldState"],["id","marital","formControlName","id_parameter_maksimal",3,"dataSource","fields","allowFiltering"],["MaritalParameterMaksimalDropdown",""]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"h5",6),s._uU(8,"Terapi"),s.qZA(),s.qZA(),s.TgZ(9,"div",7),s.TgZ(10,"a",8),s.NdJ("click",function(){return e.handleAddTerapi()}),s._UZ(11,"i",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",10),s.TgZ(13,"div",11),s.TgZ(14,"ejs-treeview",12),s.NdJ("nodeSelected",function(t){return e.nodeSelected(t)}),s.YNc(15,Oe,5,3,"ng-template",null,13,s.W1O),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",1),s.TgZ(18,"div",2),s.TgZ(19,"div",3),s.TgZ(20,"div",4),s.TgZ(21,"div",5),s.TgZ(22,"h5",6),s._uU(23,"Generik"),s.qZA(),s.qZA(),s.TgZ(24,"div",7),s.TgZ(25,"a",8),s.NdJ("click",function(){return e.handleTambahTerapiGenerik(!0)}),s._UZ(26,"i",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",10),s.TgZ(28,"mol-grid",14,15),s.NdJ("row-selected",function(t){return e.handleSelectedGeneric(t)}),s.ALo(30,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(31,"div",16),s.TgZ(32,"div",0),s.TgZ(33,"div",17),s.TgZ(34,"div",2),s.TgZ(35,"div",3),s.TgZ(36,"div",4),s.TgZ(37,"div",5),s.TgZ(38,"h5",6),s._uU(39,"Formularium"),s.qZA(),s.qZA(),s.TgZ(40,"div",7),s.TgZ(41,"a",8),s.NdJ("click",function(){return e.handleTambahFormularium(!0)}),s._UZ(42,"i",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"div",10),s.TgZ(44,"mol-grid",18,15),s.NdJ("row-selected",function(t){return e.handleSelectedSediaan(t)}),s.ALo(46,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(47,"div",19),s.TgZ(48,"div",2),s.TgZ(49,"div",3),s.TgZ(50,"div",4),s.TgZ(51,"div",7),s.TgZ(52,"h5",6),s._uU(53,"Nama Dagang"),s.qZA(),s.qZA(),s.TgZ(54,"div",7),s._UZ(55,"i",9),s.qZA(),s.qZA(),s.qZA(),s.TgZ(56,"div",10),s._UZ(57,"mol-grid",20,15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(59,Me,18,14,"ng-template",null,21,s.W1O),s.YNc(61,Je,23,9,"ng-template",null,22,s.W1O),s.YNc(63,Ue,54,30,"ng-template",null,23,s.W1O),s.YNc(65,Qe,15,12,"ng-template",null,24,s.W1O),s.YNc(67,Le,13,2,"ng-template",null,25,s.W1O),s.YNc(69,He,13,2,"ng-template",null,26,s.W1O),s.YNc(71,Ke,21,13,"ng-template",null,27,s.W1O),s.qZA()),2&t&&(s.xp6(14),s.Q6J("fields",e.field)("allowMultiSelection",e.allowMultiSelection),s.xp6(14),s.Q6J("grid-id","GridDaftarOrder")("grid-height","calc(100vh - 250px)")("grid-lines","Both")("columns",e.GridSetting.GridGenerik.columns)("grid-DataSource",s.lcZ(30,19,e.setupTerapiGenerikService.dataSource)),s.xp6(16),s.Q6J("grid-id","GridDaftarOrder")("grid-height","calc((100vh - 350px)/2)")("grid-lines","Both")("columns",e.GridSetting.GridSediaan.columns)("grid-DataSource",s.lcZ(46,21,e.setupFormulariumService.dataSource))("textWrapSettings",e.wrapSettings),s.xp6(13),s.Q6J("grid-id","GridDaftarOrder")("grid-height","calc((100vh - 350px)/2)")("grid-lines","Both")("columns",e.GridSetting.GridItem.columns)("grid-DataSource",e.DataSourceDagang)("textWrapSettings",e.wrapSettings))},directives:[u.G,Ze.kD,K.q,i.O5,n._Y,n.JL,n.sg,H._,n.JJ,n.u,$t.D,te.rI,Ie.h,L.i],pipes:[i.Ov],styles:["#treeparent[_ngcontent-%COMP%]{display:block;max-width:400px;height:calc(100vh - 210px);margin:auto;overflow:auto;border:1px solid #ddd;border-radius:3px}#treeelement[_ngcontent-%COMP%]{max-height:calc(100vh - 210px);overflow:auto}.tambah[_ngcontent-%COMP%]{font-size:23px;margin-top:1px}.tambah_terapi[_ngcontent-%COMP%]{font-size:18px;margin-top:1px}"]}),t})();const Ve=JSON.parse('{"GridColumns":[{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":50}]}');var je=a.t(Ve,2),ze=a(7232),We=a(3864);const Xe=["LookupRacikan"],$e=["GridResepRacikan"],ta=["itemTemplate"],ea=["modalTambahanHariResep"],aa=function(){return{wrapMode:"Both"}};let ia=(()=>{class t{constructor(t,e,a,i,n,r,o,s){this.resepDokterService=t,this.transaksiObatIrjaService=e,this.router=a,this.encryptionService=i,this.activatedRoute=n,this.utilityService=r,this.utilityHelperService=o,this.formBuilder=s,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"},{Id:"simpan",Captions:"Simpan Penjualan Resep",Icons1:"fa-save fa-sm"}],this.GridConfig=je,this.inputFieldState="detail",this.keterangan=(t,e)=>e.nama_obat+", "+e.ket_label+", "+e.ket_aturan,this.quantity=(t,e)=>e.qty_resep+" "+e.nama_satuan,this.totalharga=(t,e)=>e.is_racikan?e.harga_jual_apotek:e.qty_resep*e.harga_jual_apotek,this.dataSourceChild=[],this.dataSource=[],this.dataHeader=[]}ngOnInit(){this.formInput=this.formBuilder.group({pasien:["",[]],poli:["",[]],dokter:["",[]],umur:["",[]],total_bayar_resep:[0,[]]}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}ngAfterViewInit(){let t=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(t),this.onLoadDetailData(t)}onLoadDetailData(t){this.resepDokterService.onGetById(t).subscribe(t=>{this.dataHeader=t.data,this.dataSource=t.data.details,this.GridResepRacikan.refresh(),this.mapingRacikan(t.data.details),this.utilityHelperService.getAge(t.data.tgl_lahir),this.formInput.setValue({poli:t.data.nama_poli,pasien:t.data.nama_pasien,dokter:t.data.nama_dokter,umur:t.data.tgl_lahir,total_bayar_resep:0}),this.imageSrc=t.data.nama_foto})}mapingRacikan(t){this.dataSourceChild=[],t.map(t=>{this.dataSourceChild.push(...t.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}rowDataBound(t){t.data.is_racikan||(t.row.querySelector("td").innerHTML=" ",t.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleSelected(t){let e=0;this.GridResepRacikan.getSelectedRecords().map(t=>{e+=t.is_racikan?t.harga_jual_apotek:t.qty_resep*t.harga_jual_apotek,this.total_bayar_resep.setValue(e)})}onClickButtonNav(t){switch(t){case"kembali":this.router.navigateByUrl("dashboard/Pharmacy/antrian-farmasi");break;case"simpan":let t=this.dataHeader;t.details=this.GridResepRacikan.getSelectedRecords(),this.transaksiObatIrjaService.Insert(t).subscribe(t=>{this.utilityService.onShowingCustomAlert("success","Data Berhasil Tersimpan",t.message).then(()=>{this.router.navigateByUrl("dashboard/Pharmacy/antrian-farmasi")})})}}get total_bayar_resep(){return this.formInput.get("total_bayar_resep")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.f),s.Y36(T),s.Y36(o.F0),s.Y36(h.C),s.Y36(o.gz),s.Y36(S.t),s.Y36(ze.j),s.Y36(n.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-transaksi-obat-irja"]],viewQuery:function(t,e){if(1&t&&(s.Gf(Xe,5),s.Gf($e,5),s.Gf(ta,5),s.Gf(ea,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.LookupRacikan=t.first),s.iGM(t=s.CRH())&&(e.GridResepRacikan=t.first),s.iGM(t=s.CRH())&&(e.itemTemplate=t.first),s.iGM(t=s.CRH())&&(e.modalTambahanHariResep=t.first)}},decls:26,vars:40,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row"],[1,"col-sm-4"],[1,"row","mb-3"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"img-thumbnail",2,"width","120px","max-width","120px","height","150px","max-height","150px",3,"src"],["formControlName","poli",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],[1,"col-sm-8"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 20rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound","rowSelected","rowDeselected"],["GridResepRacikan",""],[3,"width","field","visible","type","textAlign","headerTextAlign"],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","harga_jual_apotek","headerText","Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width"],["field","harga_jual_apotek","headerText","Total","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width","valueAccessor"],[1,"row","pe-2"],[1,"col-sm-5"],[1,"col-sm-7"],["formControlName","total_bayar_resep",3,"label","isFooter","inputFieldState"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(t){return e.onClickButtonNav(t)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s._UZ(6,"img",6),s.qZA(),s.qZA(),s._UZ(7,"mol-input-text",7),s._UZ(8,"mol-input-text",8),s._UZ(9,"mol-input-text",9),s._UZ(10,"mol-input-text",10),s.qZA(),s.TgZ(11,"div",11),s.TgZ(12,"div",12),s.TgZ(13,"div",13),s.TgZ(14,"ejs-grid",14,15),s.NdJ("rowDataBound",function(t){return e.rowDataBound(t)})("dataBound",function(){return e.onDataBound()})("rowSelected",function(t){return e.handleSelected(t)})("rowDeselected",function(t){return e.handleSelected(t)}),s.TgZ(16,"e-columns"),s._UZ(17,"e-column",16),s._UZ(18,"e-column",17),s._UZ(19,"e-column",18),s._UZ(20,"e-column",19),s._UZ(21,"e-column",20),s.qZA(),s.qZA(),s.TgZ(22,"div",21),s._UZ(23,"div",22),s.TgZ(24,"div",23),s._UZ(25,"mol-input-numeric",24),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("ButtonNav",e.ButtonNav),s.xp6(1),s.Q6J("formGroup",e.formInput),s.xp6(5),s.Q6J("src",e.imageSrc?e.imageSrc:"../../../../../../assets/image/pendaftaran-ulang-pasien/blank.png",s.LSH),s.xp6(1),s.Q6J("label","Poli")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Dokter")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Pasien")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Umur")("inputFieldState",e.inputFieldState),s.xp6(4),s.Q6J("dataSource",e.dataSource)("childGrid",e.childGrid)("allowTextWrap",!0)("textWrapSettings",s.DdM(39,aa)),s.xp6(3),s.Q6J("width",50)("field","Checkbox")("visible",!0)("type","checkbox")("textAlign","Center")("headerTextAlign","Center"),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",e.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",120)("valueAccessor",e.quantity),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",120),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",e.totalharga),s.xp6(4),s.Q6J("label","Total Bayar Resep")("isFooter",!0)("inputFieldState","detail")("inputFieldState",e.inputFieldState))},directives:[u.G,n._Y,n.JL,n.sg,H._,n.JJ,n.u,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,We.G],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),t})();const na=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"id_poli","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_poli","headerText":"Kode Ruangan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_poli","headerText":"Nama Ruangan","type":"string","visible":true}],"filter":[{"field":"kode_poli","filter":"like","title":"Kode Ruangan"},{"field":"nama_ruangan","filter":"like","title":"Nama Ruangan"}]}');var ra=a.t(na,2);const oa=JSON.parse('{"GridColumns":[{"field":"id_register","headerText":"Id","type":"number","format":"","textAlign":"left","visible":false,"editType":"defaultEdit"},{"field":"nama_pasien","headerText":"Nama Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"bed_no","headerText":"Bed","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Nama Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}]}');var sa=a.t(oa,2);const la=JSON.parse('{"GridColumns":[{"field":"id_register","headerText":"Id","type":"number","format":"","textAlign":"left","visible":false,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Nomor Resep","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"status_resep","headerText":"Status Resep","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":100}]}');var da=a.t(la,2),ua=a(6498),ca=a(1009);let pa=(()=>{class t{constructor(t,e){this.httpOperationService=t,this.notificationService=e,this.API=g.PHARMACY.TRANSAKSI_OBAT.TRANSAKSI_OBAT_IRNA,this.dataResep=new N.X([])}Insert(t){return this.httpOperationService.defaultPostRequest(this.API.INSERT+"/"+t,[]).pipe((0,m.K)(t=>{this.notificationService.onShowToast(t.statusText,t.status+" "+t.statusText,{},!0)}))}setResep(t){this.dataResep.next(t)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(f.d),s.LFG(b.g))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ha=a(7958),ma=a(6296);const ga=["LookupKodeRuangan"],fa=["GridDetailResep"],ba=["GridPasien"];function Ta(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"span"),s.TgZ(1,"mol-grid",4,16),s.NdJ("row-selected",function(e){return s.CHM(t),s.oxw().handleSelectedRowResep(e)}),s.ALo(3,"async"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(1),s.Q6J("grid-height","calc(100vh - 20rem)")("grid-DataSource",s.lcZ(3,5,t.transaksiObatIrnaService.dataResep))("grid-paging",!1)("grid-lines","Both")("columns",t.GridConfigResep.GridColumns)}}const Sa=function(){return{wrapMode:"Both"}};function va(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"span"),s.TgZ(1,"button",17),s.NdJ("click",function(){return s.CHM(t),s.oxw().handelClickLihatresep()}),s._UZ(2,"i",18),s._uU(3," Lihat Resep"),s.qZA(),s.TgZ(4,"button",19),s.NdJ("click",function(){return s.CHM(t),s.oxw().handleClickSimpan()}),s._UZ(5,"i",20),s._uU(6," Simpan Transaksi Obat"),s.qZA(),s.TgZ(7,"ejs-grid",21,22),s.NdJ("rowDataBound",function(e){return s.CHM(t),s.oxw().rowDataBound(e)})("dataBound",function(){return s.CHM(t),s.oxw().onDataBound()}),s.TgZ(9,"e-columns"),s._UZ(10,"e-column",23),s._UZ(11,"e-column",24),s._UZ(12,"e-column",25),s._UZ(13,"e-column",26),s.qZA(),s.qZA(),s.TgZ(14,"div",27),s._UZ(15,"div",28),s.TgZ(16,"div",29),s._UZ(17,"mol-input-numeric",30),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(7),s.Q6J("dataSource",t.DataSourceDetailResep)("childGrid",t.childGrid)("allowTextWrap",!0)("textWrapSettings",s.DdM(22,Sa)),s.xp6(3),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",t.quantity),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",130),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",t.hargajual),s.xp6(4),s.Q6J("label","Total Bayar Resep")("isFooter",!0)("inputFieldState","detail")("inputFieldState",t.inputFieldState)}}const _a=[{path:"",component:null,data:{title:"Pharmacy"}},{path:"antrian-farmasi",component:G,data:{title:"Antrian Pharmacy"}},{path:"setup-formularium",component:Ye,data:{title:"Setup Formularium"}},{path:"resep-racikan",component:Ct,data:{title:"Resep Racikan"}},{path:"setup-data",component:null,data:{title:"Setup Data"},children:[{path:"setup-tipe-outlet",component:ge,data:{title:"Setup Tipe Outlet"}},{path:"setup-outlet",component:ie,data:{title:"Setup Outlet"}},{path:"setup-grup-obat",component:Jt,data:{title:"Setup Grup Obat"}},{path:"setup-cara-pakai-obat",component:Nt,data:{title:"Setup Cara Pakai Obat"}},{path:"setup-rute-pemberian-obat",component:ue,data:{title:"Setup rute Pemberian Obat"}},{path:"setup-label-pemakaian-obat",component:Yt,data:{title:"Setup Label Pemakaian Obat"}}]},{path:"transaksi-obat",component:null,data:{title:"Transaksi Obat"},children:[{path:"transaksi-obat-irja/:id/:key",component:ia,data:{title:"Transaksi Obat Rawat Jalan"}},{path:"transaksi-obat-irna",component:(()=>{class t{constructor(t,e,a,i){this.formBuilder=t,this.resepDokterIrnaService=e,this.transaksiObatIrnaService=a,this.admisiPasienRawatInapService=i,this.urlRuangan=ua.API_BILLING.SETUP_DATA.SETUP_POLI.GET_ALL_POLI_FOR_LOOKUP_RAWAT_INAP,this.LookupGridRuangan=ra,this.GridConfig=sa,this.GridConfigResep=da,this.DataSourcePasien=[],this.DataSourceResep=[],this.DataSourceDetailResep=[],this.DataSourceDetailResepRacikan=[],this.inputFieldState="detail",this.handleClickResep=!1,this.currentResepId=null,this.currentRegisterId=1,this.keterangan=(t,e)=>e.nama_obat+", "+e.ket_label+", "+e.ket_aturan,this.quantity=(t,e)=>e.qty_harian+" "+e.nama_satuan,this.hargajual=(t,e)=>e.harga_jual_apotek*e.qty_harian}ngOnInit(){this.formInput=this.formBuilder.group({nama_pasien:["",[]],umur:["",[]],bed:["",[]],dokter:["",[]],nomor_rm:["",[]],nomor_registrasi:["",[]],total_bayar_resep:[0,[]]}),this.childGrid={dataSource:this.DataSourceDetailResepRacikan,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfigResep.columnsChild},this.set(1)}heandleSelectedRuangan(t){console.log(t),this.admisiPasienRawatInapService.onGetPasienByPoli(t.id_poli).subscribe(t=>{this.DataSourcePasien=t.data,this.GridPasien.Grid.refresh()}),this.handleClickResep=!1}set(t){this.resepDokterIrnaService.onGetByIdRegisterToTrans(t).subscribe(t=>{this.transaksiObatIrnaService.setResep(t.data),console.log(t.data)})}handleSelectedRow(t){console.log(t),this.currentRegisterId=t.data.id_register,this.formInput.setValue({nama_pasien:t.data.nama_pasien,umur:"",bed:t.data.bed_no,dokter:t.data.nama_dokter,nomor_rm:t.data.no_rekam_medis,nomor_registrasi:t.data.no_register,total_bayar_resep:0}),this.resepDokterIrnaService.onGetByIdRegisterToTrans(this.currentRegisterId).subscribe(t=>{this.transaksiObatIrnaService.setResep(t.data)})}handleSelectedRowResep(t){this.handleClickResep=!0,this.onLoadDetailData(t.data.resep_id),this.currentResepId=t.data.resep_id}rowDataBound(t){t.data.is_racikan||(t.row.querySelector("td").innerHTML=" ",t.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridDetailResep.detailRowModule.expandAll()}onLoadDetailData(t){this.resepDokterIrnaService.onGetById(t).subscribe(t=>{this.DataSourceDetailResep=t.data.details,this.GridDetailResep.refresh(),this.mapingRacikan(t.data.details);let e=0;this.DataSourceDetailResep.map(t=>{e+=t.is_racikan?t.harga_jual_apotek:t.qty_resep*t.harga_jual_apotek,this.total_bayar_resep.setValue(e)})})}mapingRacikan(t){this.DataSourceDetailResepRacikan=[],t.map(t=>{this.DataSourceDetailResepRacikan.push(...t.racikans)}),this.childGrid={dataSource:this.DataSourceDetailResepRacikan,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfigResep.columnsChild}}handelClickLihatresep(){this.handleClickResep=!1}handleClickSimpan(){this.transaksiObatIrnaService.Insert(this.currentResepId).subscribe(t=>{this.handleClickResep=!1,this.resepDokterIrnaService.onGetByIdRegisterToTrans(this.currentRegisterId).subscribe(t=>{this.transaksiObatIrnaService.setResep(t.data)})})}get total_bayar_resep(){return this.formInput.get("total_bayar_resep")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.qu),s.Y36(ca.Z),s.Y36(pa),s.Y36(ha.l))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-transaksi-obat-irna"]],viewQuery:function(t,e){if(1&t&&(s.Gf(ga,5),s.Gf(fa,5),s.Gf(ba,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.LookupKodeRuangan=t.first),s.iGM(t=s.CRH())&&(e.GridDetailResep=t.first),s.iGM(t=s.CRH())&&(e.GridPasien=t.first)}},decls:20,vars:27,consts:[[1,"row"],[1,"col-sm-4"],[3,"lookup-url","idKode","modal-title","idTitle","columns","filter-lookup","label","onGetSelectedData"],["LookupKodeRuangan",""],[3,"grid-height","grid-DataSource","grid-paging","grid-lines","columns","row-selected"],["GridPasien",""],[1,"col-sm-8"],[3,"formGroup"],[1,"col-sm-6"],["formControlName","nama_pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],["formControlName","bed",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","nomor_rm",3,"label","inputFieldState"],["formControlName","nomor_registrasi",3,"label","inputFieldState"],[4,"ngIf"],["GridResep",""],["type","button",1,"app-btn-master","me-5","btn","btn-sm","btn-primary-outline",3,"click"],[1,"fas","fa-arrow-left"],["type","button",1,"app-btn-master","btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-save"],["height","calc(100vh - 23rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound"],["GridDetailResep",""],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","harga_jual_apotek","headerText","Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width"],["field","harga_jual_apotek","headerText","Total Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width","valueAccessor"],[1,"row","pe-2"],[1,"col-sm-5"],[1,"col-sm-7"],["formControlName","total_bayar_resep",3,"label","isFooter","inputFieldState"]],template:function(t,e){1&t&&(s.TgZ(0,"org-card-layout"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s.TgZ(3,"org-input-look-up-kode",2,3),s.NdJ("onGetSelectedData",function(t){return e.heandleSelectedRuangan(t)}),s.qZA(),s.TgZ(5,"mol-grid",4,5),s.NdJ("row-selected",function(t){return e.handleSelectedRow(t)}),s.qZA(),s.qZA(),s.TgZ(7,"div",6),s.TgZ(8,"form",7),s.TgZ(9,"div",0),s.TgZ(10,"div",8),s._UZ(11,"mol-input-text",9),s._UZ(12,"mol-input-text",10),s._UZ(13,"mol-input-text",11),s.qZA(),s.TgZ(14,"div",8),s._UZ(15,"mol-input-text",12),s._UZ(16,"mol-input-text",13),s._UZ(17,"mol-input-text",14),s.qZA(),s.qZA(),s.YNc(18,Ta,4,7,"span",15),s.YNc(19,va,18,23,"span",15),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("lookup-url",e.urlRuangan)("idKode","kode_poli")("modal-title","Data Ruangan")("idTitle","nama_poli")("columns",e.LookupGridRuangan.columns)("filter-lookup",e.LookupGridRuangan.filter)("label","Ruangan"),s.xp6(2),s.Q6J("grid-height","calc(100vh - 16rem)")("grid-DataSource",e.DataSourcePasien)("grid-paging",!1)("grid-lines","Both")("columns",e.GridConfig.GridColumns),s.xp6(3),s.Q6J("formGroup",e.formInput),s.xp6(3),s.Q6J("label","Pasien")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Umur")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","Bed")("inputFieldState",e.inputFieldState),s.xp6(2),s.Q6J("label","Dokter")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","No Rm")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("label","No Reg")("inputFieldState",e.inputFieldState),s.xp6(1),s.Q6J("ngIf",!e.handleClickResep),s.xp6(1),s.Q6J("ngIf",e.handleClickResep))},directives:[u.G,ma.E,K.q,n._Y,n.JL,n.sg,H._,n.JJ,n.u,i.O5,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,We.G],pipes:[i.Ov],styles:[""]}),t})(),data:{title:"Transaksi Obat Rawat Inap"}}]},{path:"refund-obat",component:null,data:{title:"Refund Obat"},children:[{path:"refund-obat-irja",component:it,data:{title:"Refund Obat Rawat Jalan"}},{path:"refund-obat-irna",component:kt,data:{title:"Refund Obat Rawat Inap"}}]}];let ka=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(_a)],o.Bz]}),t})(),Aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.ez,n.u5,n.UX,r.m,ka]]}),t})()}}]);