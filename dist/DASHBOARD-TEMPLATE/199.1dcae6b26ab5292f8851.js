(self.webpackChunkdashboard_template=self.webpackChunkdashboard_template||[]).push([[199],{1199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PharmacyModule:()=>oi});var i=a(1116),n=a(1041),r=a(4839),o=a(5424),l=a(5366),s=a(7085),d=a(4703),u=a(5343),c=a(5959),p=a(1131),h=a(8757),m=a(7727),g=a(2696),b=a(7369),f=a(3393);let _=(()=>{class e{constructor(e,t){this.httpOperationService=e,this.notificationService=t,this.API=g.PHARMACY.TRANSAKSI_OBAT.TRANSAKSI_OBAT_IRJA}Insert(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}obatDiserahakan(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATEPENYERAHAN,{penjualan_obat_id:e}).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(b.d),l.LFG(f.g))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var T=a(5228);let S=(()=>{class e{constructor(){this.onCardHeaderToggleClicked=new l.vpe}ngOnInit(){this.WindowWidth=window.innerWidth}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["atm-card-header"]],inputs:{CardHeaderIcon:"CardHeaderIcon",CardHeaderColor:"CardHeaderColor",CardHeaderCaption:"CardHeaderCaption"},outputs:{onCardHeaderToggleClicked:"onCardHeaderToggleClicked"},decls:7,vars:10,consts:[[1,"row","px-2"],[1,"col-lg-1","col-md-2","col-sm-2","col-xs-2","px-0","text-center","DivIconCardHeader"],[1,"font-cabin","mb-0"],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10"],[1,"font-cabin","mb-0","text-white"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"p",2),l._UZ(3,"i"),l.qZA(),l.qZA(),l.TgZ(4,"div",3),l.TgZ(5,"p",4),l._uU(6),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Udp("color",t.CardHeaderColor),l.xp6(1),l.Gre("fas ",t.CardHeaderIcon,""),l.ekj("fa-sm",t.WindowWidth>=1025)("fa-xs",t.WindowWidth<1025),l.xp6(3),l.hij(" ",t.CardHeaderCaption," "))},styles:[".DivIconCardHeader[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.IconCardHeader[_ngcontent-%COMP%]{margin-left:2px}"]}),e})();function v(e,t){if(1&e&&(l.TgZ(0,"li",22),l.TgZ(1,"p",23),l._uU(2),l.qZA(),l.qZA()),2&e){const e=t.$implicit;l.Q6J("id",e.Id),l.xp6(2),l.lnq(" ",e.NamaObat," - ",e.Qty," ",e.Satuan," ")}}function k(e,t){if(1&e&&(l.TgZ(0,"div",19),l.TgZ(1,"ul",20),l.YNc(2,v,3,4,"li",21),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.Q6J("ngForOf",e.DetailResep)}}function A(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"div",25),l.TgZ(2,"button",26),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.onMarkResepSudahDilayani(t.Id)}),l._UZ(3,"i",27),l._uU(4,"\xa0 Sedang Dilayani "),l.qZA(),l.qZA(),l.qZA()}}function x(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"div",25),l.TgZ(2,"button",26),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.onMarkResepAsComplete(t.Id)}),l._UZ(3,"i",27),l._uU(4,"\xa0 Resep Telah Selesai "),l.qZA(),l.qZA(),l.qZA()}}function w(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"div",25),l.TgZ(2,"button",26),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.onResepPindahKeAntrian(t.NoRegister)}),l._UZ(3,"i",27),l._uU(4,"\xa0 Pindah Ke Antrian "),l.qZA(),l.qZA(),l.qZA()}}let Z=(()=>{class e{constructor(e){this.utilityService=e,this.onClickedCardButton=new l.vpe,this.ShowDetailObat=!1,this.onMarkedResepAsComplete=new l.vpe,this.onMarkedResepSudahDilayani=new l.vpe,this.onPindahKeAntrian=new l.vpe}ngOnInit(){this.onGenerateCustomColor(),console.log(this.Status)}onClickCardButton(e,t,a,i,n,r){this.onClickedCardButton.emit({NamaPasien:e,Waktu:t,Status:a,NamaDokter:i,KodeResep:n,DetailResep:r})}onGenerateCustomColor(){this.BorderLeft="border-left: 0.25em solid "+this.utilityService.onGenerateCustomColor()+";"}onTogglingDetailObat(e){this.ShowDetailObat=!this.ShowDetailObat;let t=document.getElementById(e+"Caret");this.ShowDetailObat?(t.classList.remove("fa-caret-down"),t.classList.add("fa-caret-up")):(t.classList.add("fa-caret-down"),t.classList.remove("fa-caret-up"))}onMarkResepAsComplete(e){this.onMarkedResepAsComplete.emit(e)}onResepPindahKeAntrian(e){this.onPindahKeAntrian.emit(e)}onMarkResepSudahDilayani(e){this.onMarkedResepSudahDilayani.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(T.t))},e.\u0275cmp=l.Xpm({type:e,selectors:[["atm-card"]],inputs:{Id:"Id",NamaPasien:"NamaPasien",Waktu:"Waktu",Status:"Status",NamaDokter:"NamaDokter",KodeResep:"KodeResep",NoRegister:"NoRegister",NomorAntrian:"NomorAntrian",DetailResep:"DetailResep"},outputs:{onClickedCardButton:"onClickedCardButton",onMarkedResepAsComplete:"onMarkedResepAsComplete",onMarkedResepSudahDilayani:"onMarkedResepSudahDilayani",onPindahKeAntrian:"onPindahKeAntrian"},decls:37,vars:17,consts:[[1,"card","shadow-sm",3,"id","click"],[1,"card-body","p-2"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-1"],[1,"row","align-items-center"],[1,"font-cabin","mb-0","text-hitam","textSubTitle","fw-bold","text-center"],[1,"col-lg-7","col-md-7","col-sm-7","col-xs-7","pe-0"],[1,"font-cabin","mb-0","text-hitam","textSubTitle","fw-bold"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5","text-end","ps-0"],[1,"font-cabin","mb-0","text-hitam-muda","textSubText"],[1,"font-cabin","mb-0","text-biru-tua"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","pe-0"],[1,"badge","bg-warning"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","text-end","ps-0",2,"cursor","pointer",3,"click"],[1,"font-cabin","mb-0","text-hitam-muda",2,"font-size","13px"],[1,"fas","fa-caret-down",3,"id"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-3",4,"ngIf"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-3"],[1,"list-group"],["class","list-group-item px-2",3,"id",4,"ngFor","ngForOf"],[1,"list-group-item","px-2",3,"id"],[1,"font-cabin","mb-0","text-hitam-muda",2,"font-size","12px"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-check","fa-sm"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return t.onClickCardButton(t.NamaPasien,t.Waktu,t.Status,t.NamaDokter,t.KodeResep,t.DetailResep)}),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"p",5),l._uU(6),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",3),l.TgZ(8,"div",4),l.TgZ(9,"div",6),l.TgZ(10,"p",7),l._uU(11),l.qZA(),l.qZA(),l.TgZ(12,"div",8),l.TgZ(13,"p",9),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",3),l.TgZ(16,"div",4),l.TgZ(17,"div",6),l.TgZ(18,"p",10),l._uU(19),l.qZA(),l.qZA(),l.TgZ(20,"div",8),l.TgZ(21,"p",9),l._uU(22),l.ALo(23,"date"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(24,"div",11),l.TgZ(25,"div",4),l.TgZ(26,"div",12),l.TgZ(27,"span",13),l._uU(28),l.qZA(),l.qZA(),l.TgZ(29,"div",14),l.NdJ("click",function(){return t.onTogglingDetailObat(t.KodeResep)}),l.TgZ(30,"p",15),l._UZ(31,"i",16),l._uU(32,"\xa0 Lihat Detail Resep "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(33,k,3,1,"div",17),l.YNc(34,A,5,0,"div",18),l.YNc(35,x,5,0,"div",18),l.YNc(36,w,5,0,"div",18),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Akn(t.BorderLeft),l.Q6J("id",t.Id),l.xp6(6),l.hij(" ",t.NomorAntrian," "),l.xp6(5),l.hij(" ",t.NamaPasien," "),l.xp6(3),l.hij(" No.Reg ",t.NoRegister," "),l.xp6(5),l.hij(" ",t.NamaDokter," "),l.xp6(3),l.hij(" ",l.xi3(23,14,t.Waktu,"dd MMM yy, HH:mm:ss")," "),l.xp6(6),l.hij(" ",t.KodeResep," "),l.xp6(3),l.MGl("id","",t.KodeResep,"Caret"),l.xp6(2),l.Q6J("ngIf",t.ShowDetailObat),l.xp6(1),l.Q6J("ngIf","SiapDiracik"==t.Status),l.xp6(1),l.Q6J("ngIf","SedangDiracik"==t.Status),l.xp6(1),l.Q6J("ngIf","Data"==t.Status))},directives:[i.O5,i.sg],pipes:[i.uU],styles:[".textSubTitle[_ngcontent-%COMP%]{font-size:1.2rem}.badge[_ngcontent-%COMP%], .textSubText[_ngcontent-%COMP%]{font-size:13px}@media only screen and (min-width:992.98px) and (max-width:1199.98px){.textSubTitle[_ngcontent-%COMP%]{font-size:.85rem}.badge[_ngcontent-%COMP%]{font-size:12px}}"]}),e})();var C=a(8453);function D(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",7),l.TgZ(1,"div",9),l.TgZ(2,"input",10,11),l.NdJ("keyup",function(){l.CHM(e);const t=l.MAs(3);return l.oxw().onSearchFilter(t.value)})("change",function(){return l.CHM(e),l.oxw().onChangeSearchFilter()}),l.qZA(),l.qZA(),l.qZA()}}function y(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",12),l.TgZ(1,"atm-card",13),l.NdJ("onClickedCardButton",function(t){return l.CHM(e),l.oxw().onClickCard(t)})("onMarkedResepAsComplete",function(t){l.CHM(e);const a=l.oxw();return a.onMarkResepAsComplete(t,a.CardBodyData)})("onMarkedResepSudahDilayani",function(t){l.CHM(e);const a=l.oxw();return a.onMarkResepSudahDilayani(t,a.CardBodyData)})("onPindahKeAntrian",function(t){l.CHM(e);const a=l.oxw();return a.onPindahKeAntrian(t,a.CardBodyData)}),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,a=l.oxw();l.MGl("id","",a.CdkDropListId,"List"),l.xp6(1),l.Q6J("Id",e.Id)("NoRegister",e.NoRegister)("NamaPasien",e.NamaPasien)("NomorAntrian",e.NomorAntrian)("Waktu",e.Waktu)("NamaDokter",e.NamaDokter)("KodeResep",e.KodeResep)("DetailResep",e.DetailResep)("Status",e.Status)}}function I(e,t){1&e&&(l.TgZ(0,"div",7),l.TgZ(1,"div",14),l.TgZ(2,"p",15),l._uU(3,"No Record To Display"),l.qZA(),l.qZA(),l.qZA())}let R=(()=>{class e{constructor(e,t,a,i,n){this.router=e,this.encryptionService=t,this.resepDokterService=a,this.transaksiObatIrjaService=i,this.utilityService=n,this.onClickedCard=new l.vpe,this.PindahKeAntrian=new l.vpe,this.HideBoard=!1}ngOnInit(){}onSortCardByDate(){this.CardBodyData.sort((e,t)=>new Date(t.Waktu).getTime()-new Date(e.Waktu).getTime())}onClickCard(e){}drop(e){e.previousContainer===e.container?(0,p.bA)(e.container.data,e.previousIndex,e.currentIndex):(0,p.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.onChangeStatusAfterDrop(e.container.id,e.container.data),this.onSortCardByDate()}onChangeStatusAfterDrop(e,t){return t.forEach(t=>{t.Status=e}),t}onSearchFilter(e){this.Search=e}onMarkResepAsComplete(e,t){this.transaksiObatIrjaService.obatDiserahakan(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Data Berhasil Diserahkan",e.message).then(()=>{this.resepDokterService.onGetAntrian()})})}onMarkResepSudahDilayani(e,t){const a=this.encryptionService.encrypt(JSON.stringify(e));this.router.navigate(["dashboard/Pharmacy/transaksi-obat/transaksi-obat-irja",a,"GRAHCIS"])}onPindahKeAntrian(e){this.PindahKeAntrian.emit(e)}onChangeSearchFilter(){console.log(this.FilterPencarianGlobal)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.F0),l.Y36(h.C),l.Y36(s.f),l.Y36(_),l.Y36(T.t))},e.\u0275cmp=l.Xpm({type:e,selectors:[["atm-board"]],inputs:{CdkDropListId:"CdkDropListId",CardHeaderBackgroundColor:"CardHeaderBackgroundColor",CardHeaderIcon:"CardHeaderIcon",CardHeaderCaption:"CardHeaderCaption",CardBodyData:"CardBodyData",ConnectedTo:"ConnectedTo",FilterPencarianGlobal:"FilterPencarianGlobal"},outputs:{onClickedCard:"onClickedCard",PindahKeAntrian:"PindahKeAntrian"},decls:11,vars:15,consts:[["cdkDropListGroup","",1,"row"],["cdkDropList","",1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2","px-2",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],[1,"card","border-0"],[1,"card-header","border-0"],[3,"CardHeaderIcon","CardHeaderColor","CardHeaderCaption"],[1,"card-body","px-1","pt-2","BoardHeight",3,"hidden"],["class","row",4,"ngIf"],[1,"row"],["cdkDrag","","class","col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-2","style","cursor: move;",3,"id",4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],["id","FilterPencarian","type","text","placeholder","Pencarian",1,"form-control",3,"keyup","change"],["FilterPencarian",""],["cdkDrag","",1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2",2,"cursor","move",3,"id"],[3,"Id","NoRegister","NamaPasien","NomorAntrian","Waktu","NamaDokter","KodeResep","DetailResep","Status","onClickedCardButton","onMarkedResepAsComplete","onMarkedResepSudahDilayani","onPindahKeAntrian"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pt-2"],[1,"font-cabin","mb-0","text-hitam-muda"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.NdJ("cdkDropListDropped",function(e){return t.drop(e)}),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l._UZ(4,"atm-card-header",4),l.qZA(),l.TgZ(5,"div",5),l.YNc(6,D,4,0,"div",6),l.TgZ(7,"div",7),l.YNc(8,y,2,10,"div",8),l.ALo(9,"filter"),l.qZA(),l.YNc(10,I,4,0,"div",6),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.s9C("id",t.CdkDropListId),l.Q6J("cdkDropListConnectedTo",t.ConnectedTo)("cdkDropListData",t.CardBodyData),l.xp6(2),l.Udp("background-color",t.CardHeaderBackgroundColor),l.xp6(1),l.Q6J("CardHeaderIcon",t.CardHeaderIcon)("CardHeaderColor",t.CardHeaderBackgroundColor)("CardHeaderCaption",t.CardHeaderCaption),l.xp6(1),l.Q6J("hidden",t.HideBoard),l.xp6(1),l.Q6J("ngIf",(null==t.CardBodyData?null:t.CardBodyData.length)>0),l.xp6(2),l.Q6J("ngForOf",l.xi3(9,12,t.CardBodyData,t.Search)),l.xp6(2),l.Q6J("ngIf",(null==t.CardBodyData?null:t.CardBodyData.length)<1))},directives:[p.Fd,p.Wj,S,i.O5,i.sg,p.Zt,Z],pipes:[C.Z],styles:[".cdk-drag[_ngcontent-%COMP%]:hover{transition:all .25s;padding-left:.5rem;padding-right:.5rem;border:none!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{background-color:#f5f5f5;transition:all .25s}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.BoardHeight[_ngcontent-%COMP%]{height:calc(100vh - 16rem);max-height:calc(100vh - 16rem);overflow-y:auto;overflow-x:hidden}#FilterPencarian[_ngcontent-%COMP%]:focus{border-color:none!important;box-shadow:none!important}"]}),e})();function q(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"atm-board",2),l.NdJ("PindahKeAntrian",function(t){return l.CHM(e),l.oxw().PindahKeAntrian(t)}),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,a=l.oxw();l.IyS("col-lg-",12/(null==a.Columns?null:a.Columns.length)," col-md-",24/(null==a.Columns?null:a.Columns.length)," col-sm-",48/(null==a.Columns?null:a.Columns.length),""),l.xp6(1),l.Q6J("CdkDropListId",e.KeyField)("CardHeaderBackgroundColor",e.HeaderBackgroundColor)("CardHeaderIcon",e.ColumnIcon)("CardHeaderCaption",e.HeaderText)("CardBodyData",e.Data)("ConnectedTo",e.ConnectedTo)("FilterPencarianGlobal",a.FilterPencarianGlobal)}}let E=(()=>{class e{constructor(){this.onPindahKeAntrian=new l.vpe,this.ConnectedTo=[],this.FilterPencarianGlobal=new c.xQ}ngOnInit(){}onFilterPencarianGlobal(e){this.FilterPencarianGlobal.next(e)}PindahKeAntrian(e){this.onPindahKeAntrian.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["mol-kanban-v1"]],inputs:{Columns:"Columns"},outputs:{onPindahKeAntrian:"onPindahKeAntrian"},decls:2,vars:1,consts:[[1,"row"],[3,"class",4,"ngFor","ngForOf"],[3,"CdkDropListId","CardHeaderBackgroundColor","CardHeaderIcon","CardHeaderCaption","CardBodyData","ConnectedTo","FilterPencarianGlobal","PindahKeAntrian"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,q,2,12,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.Columns))},directives:[i.sg,R],styles:[""]}),e})(),F=(()=>{class e{constructor(e,t){this.resepDokterService=e,this.socket=t}ngOnInit(){this.resepDokterService.onGetAntrian(),this.onSocketAntrian(),this.onSocketPembayaran(),this.onSocketResep(),this.ButtonNav=[{Id:"buatResep",Captions:"Buat Resep",Icons1:"fa-file-prescription"}]}onSocketResep(){return this.socket.fromEvent("resep-callback").subscribe(e=>{console.log(e),this.resepDokterService.onGetAntrian()})}onSocketAntrian(){return this.socket.fromEvent("antrian-callback").subscribe(e=>{console.log(e),this.resepDokterService.onGetAntrian()})}onSocketPembayaran(){return this.socket.fromEvent("pembayaran-callback").subscribe(e=>{console.log(e),this.resepDokterService.onGetAntrian()})}onClickButtonNav(e){}onTransferItem(){let e;e=this.Columns[0].Data[0],this.Columns[0].Data.splice(0,1),this.Columns[1].Data.push(e)}onTransferItemUsingDataDetailId(e,t,a){let i,n=this.Columns.filter(t=>t.KeyField==e),r=this.Columns.filter(e=>e.KeyField==t),o=n[0].Data.findIndex(e=>e.Id==a);-1!==o&&(i=n[0].Data[o],n[0].Data.splice(o,1),r[0].Data.push(i),i={})}handePindahAntrian(e){this.resepDokterService.generadeNoAntrian(e).subscribe(e=>{this.resepDokterService.onGetAntrian()})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.f),l.Y36(d.sk))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-antrian-farmasi"]],decls:3,vars:4,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"Columns","onPindahKeAntrian"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),l.TgZ(1,"mol-kanban-v1",1),l.NdJ("onPindahKeAntrian",function(e){return t.handePindahAntrian(e)}),l.ALo(2,"async"),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav",t.ButtonNav),l.xp6(1),l.Q6J("Columns",l.lcZ(2,2,t.resepDokterService.dataAntrianIrja)))},directives:[u.G,E],pipes:[i.Ov],styles:[""]}),e})();var N=a(654),G=a(8512),O=a(1305);const P=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_item","headerText":"Kode","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_item","headerText":"Nama Barang","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"barcode","headerText":"Barcode","type":"string","visible":true}],"filter":[{"field":"kode_item","filter":"like","title":"KODE"},{"field":"nama_item","filter":"like","title":"NAMA"},{"field":"nama_item","filter":"barcode","title":"BARCODE"}]}');var B=a.t(P,2);const J=JSON.parse('{"GridColumns":[{"field":"no_bill","headerText":"No Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_bill","headerText":"Tgl Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"depo","headerText":"Depo","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"pasien","headerText":"Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_rm","headerText":"No Rm","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_register","headerText":"No Register","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_masuk","headerText":"Tgl Masuk","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_pasien","headerText":"Nama Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"gender","headerText":"Sex","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_debitur","headerText":"Nama Debitur","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}]}');var M=a.t(J,2),U=a(2901),Q=a(5470),L=a(3166),H=a(151),K=a(1998),Y=a(9456),j=a(1876);const V=["gridDetail"],z=["LookupItem"],W=["modalQty"],X=["modalSatuan"],$=["modalCanceled"];function ee(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"h5",29),l._uU(2,"Edit Qty"),l.qZA(),l.TgZ(3,"button",30),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",31),l.qZA(),l.qZA(),l.TgZ(5,"div",32),l.TgZ(6,"div",33),l.TgZ(7,"div",34),l.TgZ(8,"input",35,36),l.NdJ("keydown.enter",function(){l.CHM(e);const t=l.MAs(9);return l.oxw().handleQtyChange(t.value)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",37),l.TgZ(11,"button",38),l._uU(12,"Oke"),l.qZA(),l.qZA()}}function te(e,t){if(1&e&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.Q6J("ngValue",e.kode_satuan),l.xp6(1),l.hij("",e.kode_satuan," ")}}function ae(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"h5",29),l._uU(2,"Edit Satuan"),l.qZA(),l.TgZ(3,"button",30),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",31),l.qZA(),l.qZA(),l.TgZ(5,"div",32),l.TgZ(6,"div",33),l.TgZ(7,"div",34),l.TgZ(8,"select",39,40),l.NdJ("keydown.enter",function(){l.CHM(e);const t=l.MAs(9);return l.oxw().handleSatuanChange(t.value)}),l.YNc(10,te,2,2,"option",41),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",37),l.TgZ(12,"button",38),l._uU(13,"Oke"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(8),l.Q6J("value",e.detailSelected.kode_satuan_besar),l.xp6(2),l.Q6J("ngForOf",e.datasatuan)}}function ie(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"h5",29),l._uU(2,"Canceled"),l.qZA(),l.TgZ(3,"button",30),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",31),l.qZA(),l.qZA(),l.TgZ(5,"div",32),l.TgZ(6,"div",33),l.TgZ(7,"div",43),l.TgZ(8,"label",44),l.TgZ(9,"strong"),l._uU(10,"Reason Cancel"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",45),l._UZ(12,"input",46),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",37),l.TgZ(14,"button",47),l.NdJ("click",function(){return l.CHM(e),l.oxw().onCalceled()}),l._uU(15,"Cancel Data"),l.qZA(),l.TgZ(16,"button",48),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._uU(17,"Batal"),l.qZA(),l.qZA()}}let ne=(()=>{class e{constructor(e,t,a,i,n,r,o,l,s,d){this.formBuilder=e,this.pemakaianInternalService=t,this.encryptionService=a,this.activatedRoute=i,this.location=n,this.renderer=r,this.modalService=o,this.changeDetection=l,this.utilityService=s,this.setupItemService=d,this.inputFieldState="detail",this.ButtonNav=[{Id:"Simpan",Captions:"simpan",Icons1:"fa-save"}],this.GridDataEditSettings={allowEditing:!0},this.GridLookUpItem=B,this.GridConfig=M,this.subscriptions=[],this.counterChildGrid=0,this.datasatuan=[],this.childGridSatuan=[],this.id_stockroom=0,this.dataSourceGrid=new G.X([]),this.dataScourceGridChild=[],this.totalJumlahItem=new G.X(0),this.itemBatch=[],this.id_item=new G.X(0),this.id=0}ngOnInit(){this.formInput=this.formBuilder.group({tanggal_transaksi:[null],depo:[""],no_bill:[""],nama_pasien:[""],no_rm:[""],no_register:[""]});let e=this.id_item,t=null;this.satuanParams={create:()=>(this.satuanElem=document.createElement("input"),this.satuanElem),read:()=>this.satuanObj.text,destroy:()=>{this.satuanObj.destroy()},write:()=>{this.childGridSatuan=this.pemakaianInternalService.getSatuanDetail(this.id_item.value),this.satuanObj=new N.NB({value:"",dataSource:this.childGridSatuan,fields:{value:"kode_satuan",text:"kode_satuan"},enabled:!0,placeholder:"Select a Satuan",floatLabelType:"Never"}),this.satuanObj.appendTo(this.satuanElem),t&&(this.satuanObj.value=t.satuan)}},this.itemsParams={create:()=>(this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.setupItemService.onGetEDItem(this.id_stockroom,e.value).subscribe(t=>{this.itemsObj=new N.NB({value:"",dataSource:t.data,fields:{value:"batch_number",text:"batch_number"},enabled:!0,placeholder:"Select a Batch",floatLabelType:"Never",change:(function(t){this.setFormGrif(t),e.next(t.itemData.id_item)}).bind(this)}),this.itemsObj.appendTo(this.itemsElem)}),t&&setTimeout(()=>{this.itemsObj.value=t.batch_number},500)}};let a=this.dataScourceGridChild,i=this.counterChildGrid,n=this.dataSourceGrid,r=this.totalJumlahItem;this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"id_item",rowHeight:30,allowResizing:!0,allowTextWrap:!1,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"no_urut",headerText:"urut",visible:!1},{field:"id_item",headerText:"id_item",width:100,visible:!1},{field:"batch_number",headerText:"Batch Number",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"expired_date",headerText:"Expired Date",textAlign:"Right",width:80,allowEditing:!1},{field:"qty_besar",headerText:"Banyak",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"satuan",headerText:"Satuan",visible:!1,editType:"dropdownedit",edit:this.satuanParams,width:200},{field:"isi",headerText:"Isi",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"qty",headerText:"Qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!0},{field:"nama_satuan",headerText:"Satuan",headerTextAlign:"Center",textAlign:"Left",width:100,format:"N2",allowEditing:!1,visible:!1},{field:"hpp_satuan",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1},{field:"sub_total",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1}],rowSelected(e){t=e.data},actionBegin(t){"add"===t.requestType&&(t.data.id_item=this.parentDetails.parentRowData.id_item,t.data.counterChildGrid=i++,e.next(this.parentDetails.parentRowData.id_item),console.log(e.value))},actionComplete(e){if("save"===e.requestType){if(console.log("complete",e),"add"===e.action&&a.push(e.data),"edit"===e.action){let t=a.map(e=>e.counterChildGrid).indexOf(e.data.counterChildGrid);a[t]=e.data}let t=[];n.value.forEach((e,i)=>{let n=0;a.forEach((t,a)=>{e.id_item==t.id_item&&(n+=parseInt(t.qty_pemakaian_internal))}),e.qty=n,t.push(e)}),setTimeout(()=>{n.next(t),r.next(t.sum("qty_pemakaian_internal")),console.log(t)},500)}if("delete"===e.requestType){let t=a.map(e=>e.counterChildGrid).indexOf(e.data[0].counterChildGrid);a.splice(t,1);let i=[];n.value.forEach((e,t)=>{let n=0;a.forEach((t,a)=>{e.id_item==t.id_item&&(n+=parseInt(t.qty_pemakaian_internal))}),e.qty=n,i.push(e)}),setTimeout(()=>{n.next(i),console.log(i)},500)}}},this.globalListenFunc=this.renderer.listen("document","keydown",e=>{112==e.keyCode&&(this.LookupItem.onOpenModal(),e.preventDefault())}),this.GridDetailToolbar=[{text:"| [*]=Ubah Banyak | [+]=Satuan |"}]}ngAfterViewInit(){let e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(e),this.onLoadDetailData(e)}onDataBound(){this.gridDetail.detailRowModule.expandAll()}setFormGrif(e){document.getElementsByName("expired_date")[0].value=e.itemData.expired_date,document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("hpp_satuan")[0].value=e.itemData.harga_satuan_netto}handleClickRefesh(){}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}handleSelectedPasien(e){}handleSelectdRow(e){this.currentIndex=e.rowIndex,this.datasatuan=e.data.satuans,this.detailSelected=e.data,this.satuanVal=e.data.kode_satuan_besar}handleActionCompleted(e){"save"==e.requestType&&(console.log(e),this.pemakaianInternalService.updateFromInline(e.rowIndex,e.data,e.rowData),this.gridDetail.refresh())}KeyDownHandler(e){106===e.keyCode&&this.onOpenQty(),46===e.keyCode&&(this.pemakaianInternalService.removeDataDetail(this.currentIndex),this.gridDetail.refresh(),setTimeout(()=>{0!=this.currentIndex&&(this.gridDetail.selectedRowIndex=0)},100)),107===e.keyCode&&this.onOpenSatuan()}onToolbarClick(e){switch(e.item.id){case"add":this.LookupItem.onOpenModal()}}onLoadDetailData(e){this.pemakaianInternalService.onGetById(e).subscribe(t=>{this.id=parseInt(e),this.formInput.setValue({pemakaian_internal_id:parseInt(e),pic_pemberi:"",pic_penerima:"",time_serah_terima:new Date,total_transaksi:0}),this.id_stockroom=t.data.id_stockroom,this.pemakaianInternalService.getDetail(e).subscribe(e=>{e.data.map((e,t)=>e.qty=0),this.dataSourceGrid.next(e.data)})})}onOpenQty(){const e=(0,O.aj)(this.modalService.onShow,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("QtyValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(e=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(e),this.modalRef=this.modalService.show(this.modalQty,Object.assign({},{class:"modal-lg"}))}onOpenSatuan(){const e=(0,O.aj)(this.modalService.onShown,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("SatuanValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(e=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(e),this.modalRef=this.modalService.show(this.modalSatuan,Object.assign({},{class:"modal-lg"}))}unsubscribe(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.subscriptions=[]}selectLastRowdetail(){setTimeout(()=>{this.gridDetail.selectedRowIndex=this.gridDetail.dataSource.length-1},150)}onSave(){if(this.formInput.valid){let e=this.formInput.value;this.dataSourceGrid.subscribe(t=>{let a=t;a.map((e,t)=>e.detailBatch=[]),a.forEach((e,t)=>{let i=0;this.dataScourceGridChild.forEach((n,r)=>{e.id_item==n.id_item&&(n.qty_pemakaian_internal=parseFloat(n.qty_pemakaian_internal),n.hpp_satuan=parseFloat(n.hpp_satuan),n.sub_total=n.qty_pemakaian_internal*n.hpp_satuan,a[t].detailBatch.push(n),i+=n.sub_total)}),a[t].nominal_pemakaian_internal=i}),e.details=a,this.pemakaianInternalService.validasiPersetujuan(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{})})})}else alert("isi semua data")}onClickButtonNav(e){switch(e){case"Back":this.location.back();break;case"Validasi":this.onSave();break;case"Cancel":this.modalRef=this.modalService.show(this.modalCanceled,Object.assign({},{class:"modal-lg"}))}}onCalceled(){let e=document.getElementsByName("reason_canceled")[0].value;this.pemakaianInternalService.Cancel(this.id,e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Data Pemesanan Berhasil Di Cancel",e.message).then(()=>{this.onLoadDetailData(this.id),this.modalRef.hide()})})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(U.q),l.Y36(h.C),l.Y36(o.gz),l.Y36(i.Ye),l.Y36(l.Qsj),l.Y36(Q.tT),l.Y36(l.sBO),l.Y36(T.t),l.Y36(L.z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-refund-obat-irja"]],viewQuery:function(e,t){if(1&e&&(l.Gf(V,5),l.Gf(z,5),l.Gf(W,5),l.Gf(X,5),l.Gf($,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.gridDetail=e.first),l.iGM(e=l.CRH())&&(t.LookupItem=e.first),l.iGM(e=l.CRH())&&(t.modalQty=e.first),l.iGM(e=l.CRH())&&(t.modalSatuan=e.first),l.iGM(e=l.CRH())&&(t.modalCanceled=e.first)}},decls:36,vars:39,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4","mb-2"],["formControlName","tanggal_transaksi",3,"label","format"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","mb-2"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","depo",3,"label","inputFieldState"],[3,"grid-height","grid-DataSource","grid-paging","grid-lines","columns","row-selected"],["GridResep",""],[1,"row","mb-2","mt-2"],["formControlName","no_bill",3,"label","inputFieldState"],["formControlName","nama_pasien",3,"label","inputFieldState"],["formControlName","no_rm",3,"label","inputFieldState"],["formControlName","no_register",3,"label","inputFieldState"],[3,"editSettings","dataSource","gridLines","allowResizing","childGrid","actionComplete","toolbarClick","load","rowSelected","dataBound"],["gridDetail",""],["field","no_urut","headerText","urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","kode_item","headerText","Kode Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_item","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_jual","headerText","QTY Jual","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_telah_diretur","headerText","QTY Telah Diretur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_retur","headerText","QTY Akan Di Retur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["modalQty",""],["modalSatuan",""],["modalCanceled",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","text","id","QtyValueId",1,"form-control",3,"keydown.enter"],["qtyValueId",""],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary"],["id","SatuanValueId","multiple","",1,"form-control",3,"value","keydown.enter"],["satuanValueId",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"col-sm-4"],["for","reason_canceled"],[1,"col-sm-8"],["type","text","name","reason_canceled",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),l.TgZ(1,"form",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l._UZ(4,"mol-datepicker-syncfusion",4),l.qZA(),l.TgZ(5,"div",5),l.TgZ(6,"button",6),l.NdJ("click",function(){return t.handleClickRefesh()}),l._uU(7,"Refresh"),l.qZA(),l.qZA(),l.TgZ(8,"div",7),l._UZ(9,"mol-input-text",8),l.qZA(),l.qZA(),l.TgZ(10,"mol-grid",9,10),l.NdJ("row-selected",function(e){return t.handleSelectedPasien(e)}),l.qZA(),l.TgZ(12,"div",11),l.TgZ(13,"div",7),l._UZ(14,"mol-input-text",12),l._UZ(15,"mol-input-text",13),l.qZA(),l.TgZ(16,"div",7),l._UZ(17,"mol-input-text",14),l._UZ(18,"mol-input-text",15),l.qZA(),l.qZA(),l.TgZ(19,"ejs-grid",16,17),l.NdJ("actionComplete",function(e){return t.handleActionCompleted(e)})("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.handleLoadGrid(e)})("rowSelected",function(e){return t.handleSelectdRow(e)})("dataBound",function(){return t.onDataBound()}),l.ALo(21,"async"),l.TgZ(22,"e-columns"),l._UZ(23,"e-column",18),l._UZ(24,"e-column",19),l._UZ(25,"e-column",20),l._UZ(26,"e-column",21),l._UZ(27,"e-column",22),l._UZ(28,"e-column",23),l._UZ(29,"e-column",24),l.qZA(),l.qZA(),l.qZA(),l.YNc(30,ee,13,0,"ng-template",null,25,l.W1O),l.YNc(32,ae,14,2,"ng-template",null,26,l.W1O),l.YNc(34,ie,18,0,"ng-template",null,27,l.W1O),l.qZA()),2&e&&(l.Q6J("ButtonNav",t.ButtonNav),l.xp6(1),l.Q6J("formGroup",t.formInput),l.xp6(3),l.Q6J("label","Tanggal")("format","dd MMMM yyyy"),l.xp6(5),l.Q6J("label","Depo")("inputFieldState","detail"),l.xp6(1),l.Q6J("grid-height","6rem")("grid-paging",!1)("grid-lines","Both")("columns",t.GridConfig.GridColumns),l.xp6(4),l.Q6J("label","No. Bill")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Nama Pasien")("inputFieldState",t.inputFieldState),l.xp6(2),l.Q6J("label","No. RM")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","No. Register")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("editSettings",t.GridDataEditSettings)("dataSource",l.lcZ(21,37,t.dataSourceGrid))("gridLines","Both")("allowResizing",!0)("childGrid",t.ChildGrid),l.xp6(4),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1))},directives:[u.G,n._Y,n.JL,n.sg,H.i,n.JJ,n.u,K._,Y.q,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR,i.sg,n.YN,n.Kr],pipes:[i.Ov],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),e})();const re=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_item","headerText":"Kode","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_item","headerText":"Nama Barang","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"barcode","headerText":"Barcode","type":"string","visible":true}],"filter":[{"field":"kode_item","filter":"like","title":"KODE"},{"field":"nama_item","filter":"like","title":"NAMA"},{"field":"nama_item","filter":"barcode","title":"BARCODE"}]}');var oe=a.t(re,2);const le=JSON.parse('{"GridColumns":[{"field":"no_bill","headerText":"No Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_bill","headerText":"Tgl Bill","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"depo","headerText":"Depo","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"pasien","headerText":"Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_rm","headerText":"No Rm","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"no_register","headerText":"No Register","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"tanggal_masuk","headerText":"Tgl Masuk","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_pasien","headerText":"Nama Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"gender","headerText":"Sex","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_debitur","headerText":"Nama Debitur","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}]}');var se=a.t(le,2),de=a(8830);const ue=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_item","headerText":"Kode","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_item","headerText":"Nama Barang","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"barcode","headerText":"Barcode","type":"string","visible":true}],"filter":[{"field":"kode_item","filter":"like","title":"KODE"},{"field":"nama_item","filter":"like","title":"NAMA"},{"field":"nama_item","filter":"barcode","title":"BARCODE"}]}');var ce=a.t(ue,2),pe=a(4550);const he=["LookupNoRegistrasi"],me=["gridDetail"],ge=["LookupItem"],be=["modalQty"],fe=["modalSatuan"],_e=["modalCanceled"];function Te(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Edit Qty"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"div",36),l.TgZ(7,"div",37),l.TgZ(8,"input",38,39),l.NdJ("keydown.enter",function(){l.CHM(e);const t=l.MAs(9);return l.oxw().handleQtyChange(t.value)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",40),l.TgZ(11,"button",41),l._uU(12,"Oke"),l.qZA(),l.qZA()}}function Se(e,t){if(1&e&&(l.TgZ(0,"option",45),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.Q6J("ngValue",e.kode_satuan),l.xp6(1),l.hij("",e.kode_satuan," ")}}function ve(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Edit Satuan"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"div",36),l.TgZ(7,"div",37),l.TgZ(8,"select",42,43),l.NdJ("keydown.enter",function(){l.CHM(e);const t=l.MAs(9);return l.oxw().handleSatuanChange(t.value)}),l.YNc(10,Se,2,2,"option",44),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",40),l.TgZ(12,"button",41),l._uU(13,"Oke"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(8),l.Q6J("value",e.detailSelected.kode_satuan_besar),l.xp6(2),l.Q6J("ngForOf",e.datasatuan)}}function ke(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Canceled"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"div",36),l.TgZ(7,"div",46),l.TgZ(8,"label",47),l.TgZ(9,"strong"),l._uU(10,"Reason Cancel"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",48),l._UZ(12,"input",49),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",40),l.TgZ(14,"button",50),l.NdJ("click",function(){return l.CHM(e),l.oxw().onCalceled()}),l._uU(15,"Cancel Data"),l.qZA(),l.TgZ(16,"button",51),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._uU(17,"Batal"),l.qZA(),l.qZA()}}let Ae=(()=>{class e{constructor(e,t,a,i,n,r,o,l,s,d){this.formBuilder=e,this.pemakaianInternalService=t,this.encryptionService=a,this.activatedRoute=i,this.location=n,this.renderer=r,this.modalService=o,this.changeDetection=l,this.utilityService=s,this.setupItemService=d,this.urlNoRegistrasi=de.MM.SETUP_DATA.SETUP_COA.GET_ALL_BY_PARMS,this.LookupGridNoRegistrasi=ce,this.inputFieldState="detail",this.ButtonNav=[{Id:"Simpan",Captions:"simpan",Icons1:"fa-save"}],this.GridDataEditSettings={allowEditing:!0},this.GridLookUpItem=oe,this.GridConfig=se,this.subscriptions=[],this.counterChildGrid=0,this.datasatuan=[],this.childGridSatuan=[],this.id_stockroom=0,this.dataSourceGrid=new G.X([]),this.dataScourceGridChild=[],this.totalJumlahItem=new G.X(0),this.itemBatch=[],this.id_item=new G.X(0),this.id=0}ngOnInit(){this.formInput=this.formBuilder.group({id_register:[""],depo:[""],debitur:[""],nama_pasien:[""],no_rm:[""],no_register:[""],dokter:[""],tanggal_lahir:[""],usia:[""],alamat:[""],ruang:[""],bed:[""]});let e=this.id_item,t=null;this.satuanParams={create:()=>(this.satuanElem=document.createElement("input"),this.satuanElem),read:()=>this.satuanObj.text,destroy:()=>{this.satuanObj.destroy()},write:()=>{this.childGridSatuan=this.pemakaianInternalService.getSatuanDetail(this.id_item.value),this.satuanObj=new N.NB({value:"",dataSource:this.childGridSatuan,fields:{value:"kode_satuan",text:"kode_satuan"},enabled:!0,placeholder:"Select a Satuan",floatLabelType:"Never"}),this.satuanObj.appendTo(this.satuanElem),t&&(this.satuanObj.value=t.satuan)}},this.itemsParams={create:()=>(this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.setupItemService.onGetEDItem(this.id_stockroom,e.value).subscribe(t=>{this.itemsObj=new N.NB({value:"",dataSource:t.data,fields:{value:"batch_number",text:"batch_number"},enabled:!0,placeholder:"Select a Batch",floatLabelType:"Never",change:(function(t){this.setFormGrif(t),e.next(t.itemData.id_item)}).bind(this)}),this.itemsObj.appendTo(this.itemsElem)}),t&&setTimeout(()=>{this.itemsObj.value=t.batch_number},500)}};let a=this.dataScourceGridChild,i=this.counterChildGrid,n=this.dataSourceGrid,r=this.totalJumlahItem;this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"id_item",rowHeight:30,allowResizing:!0,allowTextWrap:!1,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"no_urut",headerText:"urut",visible:!1},{field:"id_item",headerText:"id_item",width:100,visible:!1},{field:"batch_number",headerText:"Batch Number",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"expired_date",headerText:"Expired Date",textAlign:"Right",width:80,allowEditing:!1},{field:"qty_besar",headerText:"Banyak",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"satuan",headerText:"Satuan",visible:!1,editType:"dropdownedit",edit:this.satuanParams,width:200},{field:"isi",headerText:"Isi",visible:!1,headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"qty",headerText:"Qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!0},{field:"nama_satuan",headerText:"Satuan",headerTextAlign:"Center",textAlign:"Left",width:100,format:"N2",allowEditing:!1,visible:!1},{field:"hpp_satuan",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1},{field:"sub_total",headerText:"",headerTextAlign:"Center",textAlign:"Right",width:1,format:"N2",allowEditing:!1,visible:!1}],rowSelected(e){t=e.data},actionBegin(t){"add"===t.requestType&&(t.data.id_item=this.parentDetails.parentRowData.id_item,t.data.counterChildGrid=i++,e.next(this.parentDetails.parentRowData.id_item),console.log(e.value))},actionComplete(e){if("save"===e.requestType){if(console.log("complete",e),"add"===e.action&&a.push(e.data),"edit"===e.action){let t=a.map(e=>e.counterChildGrid).indexOf(e.data.counterChildGrid);a[t]=e.data}let t=[];n.value.forEach((e,i)=>{let n=0;a.forEach((t,a)=>{e.id_item==t.id_item&&(n+=parseInt(t.qty_pemakaian_internal))}),e.qty=n,t.push(e)}),setTimeout(()=>{n.next(t),r.next(t.sum("qty_pemakaian_internal")),console.log(t)},500)}if("delete"===e.requestType){let t=a.map(e=>e.counterChildGrid).indexOf(e.data[0].counterChildGrid);a.splice(t,1);let i=[];n.value.forEach((e,t)=>{let n=0;a.forEach((t,a)=>{e.id_item==t.id_item&&(n+=parseInt(t.qty_pemakaian_internal))}),e.qty=n,i.push(e)}),setTimeout(()=>{n.next(i),console.log(i)},500)}}},this.globalListenFunc=this.renderer.listen("document","keydown",e=>{112==e.keyCode&&(this.LookupItem.onOpenModal(),e.preventDefault())}),this.GridDetailToolbar=[{text:"| [*]=Ubah Banyak | [+]=Satuan |"}]}ngAfterViewInit(){let e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(e),this.onLoadDetailData(e)}onDataBound(){this.gridDetail.detailRowModule.expandAll()}setFormGrif(e){document.getElementsByName("expired_date")[0].value=e.itemData.expired_date,document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("hpp_satuan")[0].value=e.itemData.harga_satuan_netto}heandleSelectedNoRegistrasi(e){this.id_register.setValue(e.no_registrasi)}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}handleSelectedPasien(e){}handleSelectdRow(e){this.currentIndex=e.rowIndex,this.datasatuan=e.data.satuans,this.detailSelected=e.data,this.satuanVal=e.data.kode_satuan_besar}handleActionCompleted(e){"save"==e.requestType&&(console.log(e),this.pemakaianInternalService.updateFromInline(e.rowIndex,e.data,e.rowData),this.gridDetail.refresh())}KeyDownHandler(e){106===e.keyCode&&this.onOpenQty(),46===e.keyCode&&(this.pemakaianInternalService.removeDataDetail(this.currentIndex),this.gridDetail.refresh(),setTimeout(()=>{0!=this.currentIndex&&(this.gridDetail.selectedRowIndex=0)},100)),107===e.keyCode&&this.onOpenSatuan()}onToolbarClick(e){switch(e.item.id){case"add":this.LookupItem.onOpenModal()}}onLoadDetailData(e){this.pemakaianInternalService.onGetById(e).subscribe(t=>{this.id=parseInt(e),this.formInput.setValue({pemakaian_internal_id:parseInt(e),pic_pemberi:"",pic_penerima:"",time_serah_terima:new Date,total_transaksi:0}),this.id_stockroom=t.data.id_stockroom,this.pemakaianInternalService.getDetail(e).subscribe(e=>{e.data.map((e,t)=>e.qty=0),this.dataSourceGrid.next(e.data)})})}onOpenQty(){const e=(0,O.aj)(this.modalService.onShow,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("QtyValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(e=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(e),this.modalRef=this.modalService.show(this.modalQty,Object.assign({},{class:"modal-lg"}))}onOpenSatuan(){const e=(0,O.aj)(this.modalService.onShown,this.modalService.onHidden).subscribe(()=>this.changeDetection.markForCheck());this.subscriptions.push(this.modalService.onShown.subscribe(()=>{setTimeout(()=>{document.getElementById("SatuanValueId").focus()},100)})),this.subscriptions.push(this.modalService.onHidden.subscribe(e=>{this.gridDetail.selectedRowIndex=this.currentIndex,this.gridDetail.selectRows([this.currentIndex]),this.unsubscribe()})),this.subscriptions.push(e),this.modalRef=this.modalService.show(this.modalSatuan,Object.assign({},{class:"modal-lg"}))}unsubscribe(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.subscriptions=[]}selectLastRowdetail(){setTimeout(()=>{this.gridDetail.selectedRowIndex=this.gridDetail.dataSource.length-1},150)}onSave(){if(this.formInput.valid){let e=this.formInput.value;this.dataSourceGrid.subscribe(t=>{let a=t;a.map((e,t)=>e.detailBatch=[]),a.forEach((e,t)=>{let i=0;this.dataScourceGridChild.forEach((n,r)=>{e.id_item==n.id_item&&(n.qty_pemakaian_internal=parseFloat(n.qty_pemakaian_internal),n.hpp_satuan=parseFloat(n.hpp_satuan),n.sub_total=n.qty_pemakaian_internal*n.hpp_satuan,a[t].detailBatch.push(n),i+=n.sub_total)}),a[t].nominal_pemakaian_internal=i}),e.details=a,this.pemakaianInternalService.validasiPersetujuan(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.LookupNoRegistrasi.resetValue()})})})}else alert("isi semua data")}onClickButtonNav(e){switch(e){case"Back":this.location.back();break;case"Validasi":this.onSave();break;case"Cancel":this.modalRef=this.modalService.show(this.modalCanceled,Object.assign({},{class:"modal-lg"}))}}onCalceled(){let e=document.getElementsByName("reason_canceled")[0].value;this.pemakaianInternalService.Cancel(this.id,e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Data Pemesanan Berhasil Di Cancel",e.message).then(()=>{this.onLoadDetailData(this.id),this.modalRef.hide()})})}get id_register(){return this.formInput.get("id_register")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(U.q),l.Y36(h.C),l.Y36(o.gz),l.Y36(i.Ye),l.Y36(l.Qsj),l.Y36(Q.tT),l.Y36(l.sBO),l.Y36(T.t),l.Y36(L.z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-refund-obat-irna"]],viewQuery:function(e,t){if(1&e&&(l.Gf(he,5),l.Gf(me,5),l.Gf(ge,5),l.Gf(be,5),l.Gf(fe,5),l.Gf(_e,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.LookupNoRegistrasi=e.first),l.iGM(e=l.CRH())&&(t.gridDetail=e.first),l.iGM(e=l.CRH())&&(t.LookupItem=e.first),l.iGM(e=l.CRH())&&(t.modalQty=e.first),l.iGM(e=l.CRH())&&(t.modalSatuan=e.first),l.iGM(e=l.CRH())&&(t.modalCanceled=e.first)}},decls:37,vars:55,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],[3,"lookup-url","idTitle","modal-title","columns","filter-lookup","label","onGetSelectedData"],["LookupNoRegistrasi",""],["formControlName","no_rm",3,"label","inputFieldState"],["formControlName","debitur",3,"label","inputFieldState"],["formControlName","nama_pasien",3,"label","inputFieldState"],["formControlName","tanggal_lahir",3,"label","inputFieldState"],["formControlName","depo",3,"label","inputFieldState"],["formControlName","usia",3,"label","inputFieldState"],["formControlName","alamat",3,"label","inputFieldState"],["formControlName","ruang",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],[3,"editSettings","dataSource","gridLines","allowResizing","childGrid","actionComplete","toolbarClick","load","rowSelected","dataBound"],["gridDetail",""],["field","no_urut","headerText","urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","no_bill","headerText","No Bill","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","Depo","headerText","Depo","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","user_entry","headerText","User Entry","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","waktu_entry","headerText","Waktu Entry","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","kode_item","headerText","Kode Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_item","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_jual","headerText","QTY Jual","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_telah_diretur","headerText","QTY Telah Diretur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","qty_retur","headerText","QTY Akan Di Retur","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["modalQty",""],["modalSatuan",""],["modalCanceled",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","text","id","QtyValueId",1,"form-control",3,"keydown.enter"],["qtyValueId",""],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary"],["id","SatuanValueId","multiple","",1,"form-control",3,"value","keydown.enter"],["satuanValueId",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"col-sm-4"],["for","reason_canceled"],[1,"col-sm-8"],["type","text","name","reason_canceled",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),l.TgZ(1,"form",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"org-input-look-up",4,5),l.NdJ("onGetSelectedData",function(e){return t.heandleSelectedNoRegistrasi(e)}),l.qZA(),l._UZ(6,"mol-input-text",6),l._UZ(7,"mol-input-text",7),l._UZ(8,"mol-input-text",8),l._UZ(9,"mol-input-text",9),l.qZA(),l.TgZ(10,"div",3),l._UZ(11,"mol-input-text",10),l._UZ(12,"mol-input-text",11),l._UZ(13,"mol-input-text",12),l._UZ(14,"mol-input-text",13),l._UZ(15,"mol-input-text",14),l.qZA(),l.qZA(),l.TgZ(16,"ejs-grid",15,16),l.NdJ("actionComplete",function(e){return t.handleActionCompleted(e)})("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.handleLoadGrid(e)})("rowSelected",function(e){return t.handleSelectdRow(e)})("dataBound",function(){return t.onDataBound()}),l.ALo(18,"async"),l.TgZ(19,"e-columns"),l._UZ(20,"e-column",17),l._UZ(21,"e-column",18),l._UZ(22,"e-column",19),l._UZ(23,"e-column",20),l._UZ(24,"e-column",21),l._UZ(25,"e-column",22),l._UZ(26,"e-column",23),l._UZ(27,"e-column",24),l._UZ(28,"e-column",25),l._UZ(29,"e-column",26),l._UZ(30,"e-column",27),l.qZA(),l.qZA(),l.qZA(),l.YNc(31,Te,13,0,"ng-template",null,28,l.W1O),l.YNc(33,ve,14,2,"ng-template",null,29,l.W1O),l.YNc(35,ke,18,0,"ng-template",null,30,l.W1O),l.qZA()),2&e){const e=l.MAs(5);l.Q6J("ButtonNav",t.ButtonNav),l.xp6(1),l.Q6J("formGroup",t.formInput),l.xp6(3),l.Q6J("lookup-url",t.urlNoRegistrasi)("idTitle","no_registrasi")("modal-title","Data No Registrasi")("columns",e.columns)("filter-lookup",e.filter)("label","No Registrasi"),l.xp6(2),l.Q6J("label","No Rm")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Debitur")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Nama Pasien")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Tanggal Lahir")("inputFieldState",t.inputFieldState),l.xp6(2),l.Q6J("label","Depo Anda")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Usia")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Alamat Pasien")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Ruang / Bed")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Dokter")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("editSettings",t.GridDataEditSettings)("dataSource",l.lcZ(18,53,t.dataSourceGrid))("gridLines","Both")("allowResizing",!0)("childGrid",t.ChildGrid),l.xp6(4),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1)}},directives:[u.G,n._Y,n.JL,n.sg,pe.U,K._,n.JJ,n.u,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR,i.sg,n.YN,n.Kr],pipes:[i.Ov],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),e})(),xe=(()=>{class e{constructor(){this.ResepRacikan=new G.X([]),this.DetailResepRacikan=new G.X([])}onGetResepRacikanDummy(){return this.ResepRacikan.next([{id_obat:1,is_racikan:!0,kode_obat:"TES1",nama_obat:"OBAT A",jumlah:5,satuan:"pcs",harga:5e3,diskon:0,subtotal:25e3,detail_racikan:[]},{id_obat:2,is_racikan:!1,kode_obat:"TES2",nama_obat:"OBAT B",jumlah:1,satuan:"",harga:5e3,diskon:0,subtotal:5e3,detail_racikan:[]},{id_obat:3,is_racikan:!0,kode_obat:"TES1",nama_obat:"OBAT A",jumlah:5,satuan:"pcs",harga:5e3,diskon:0,subtotal:25e3,detail_racikan:[]},{id_obat:4,is_racikan:!1,kode_obat:"TES2",nama_obat:"OBAT B",jumlah:1,satuan:"",harga:5e3,diskon:0,subtotal:5e3,detail_racikan:[{id_obat:4,kode_obat:"TES21",nama_obat:"HOLIMOX 500 MG",satuan:"",satuan_terkecil:"TABLET",dosis_obat:.5,dosis_yg_diinginkan:.5,jumlah:1,harga:2500,subtotal:2500},{id_obat:4,kode_obat:"TES22",nama_obat:"AZOMAX 500 MG",satuan:"",satuan_terkecil:"TABLET",dosis_obat:.5,dosis_yg_diinginkan:.5,jumlah:1,harga:2500,subtotal:2500}]}]),this.ResepRacikan.asObservable()}onGetDetailResepRacikanDummy(){const e=[];return this.ResepRacikan.value.map(t=>{e.push(...t.detail_racikan)}),this.DetailResepRacikan.next(e),this.DetailResepRacikan.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const we=["GridResepRacikan"];let Ze=(()=>{class e{constructor(e){this.resepRacikanService=e,this.GridResepRacikanDatasource=[],this.GridDetailResepRacikanDatasource=[],this.ChildGrid={dataSource:this.GridDetailResepRacikanDatasource,queryString:"id_obat",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-xs",id:"Add"}],editSettings:{allowAdding:!0},columns:[{field:"id_obat",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",width:200},{field:"satuan",headerText:"Satuan",width:100},{field:"satuan_terkecil",headerText:"Satuan Terkecil",width:100},{field:"dosis_obat",headerText:"Dosis Obat",textAlign:"Right",width:80},{field:"dosis_yg_diinginkan",headerText:"Dosis yang Diinginkan",width:100,headerTextAlign:"Center",textAlign:"Right"},{field:"jumlah",headerText:"Jumlah",textAlign:"Right",width:100,format:"N2"},{field:"harga",headerText:"Harga (Rp)",textAlign:"Right",width:100,format:"N2"},{field:"subtotal",headerText:"Subtotal (Rp)",textAlign:"Right",width:100,format:"N2"}]}}ngOnInit(){this.resepRacikanService.onGetResepRacikanDummy().subscribe(e=>{this.GridResepRacikanDatasource=e})}onLoad(e){this.resepRacikanService.onGetDetailResepRacikanDummy().subscribe(e=>{this.GridResepRacikan.childGrid.dataSource=e})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(xe))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-resep-racikan"]],viewQuery:function(e,t){if(1&e&&l.Gf(we,5),2&e){let e;l.iGM(e=l.CRH())&&(t.GridResepRacikan=e.first)}},features:[l._Bn([j.B41])],decls:18,vars:3,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"card-header"],[1,"mb-0","text-biru-muda"],[1,"card-body","p-0"],["height","calc(100vh - 13rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","load"],["GridResepRacikan",""],["field","id_obat","headerText","Nama Obat","textAlign","Left",3,"visible"],["field","nama_obat","headerText","Nama Obat","textAlign","Left"],["field","jumlah","headerText","Jumlah","textAlign","Center","format","N1"],["field","satuan","headerText","Satuan","textAlign","Left"],["field","harga","headerText","Harga (Rp)","textAlign","Right","format","N2"],["field","diskon","headerText","Diskon (%)","textAlign","Right","format","N2"],["field","subtotal","headerText","Subtotal (Rp)","textAlign","Right","format","N2"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"h5",4),l._uU(6,"Resep Racikan Example"),l.qZA(),l.qZA(),l.TgZ(7,"div",5),l.TgZ(8,"ejs-grid",6,7),l.NdJ("load",function(e){return t.onLoad(e)}),l.TgZ(10,"e-columns"),l._UZ(11,"e-column",8),l._UZ(12,"e-column",9),l._UZ(13,"e-column",10),l._UZ(14,"e-column",11),l._UZ(15,"e-column",12),l._UZ(16,"e-column",13),l._UZ(17,"e-column",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("dataSource",t.GridResepRacikanDatasource)("childGrid",t.ChildGrid),l.xp6(3),l.Q6J("visible",!1))},directives:[u.G,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR],styles:[".e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:10px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:10px!important}"]}),e})();const Ce=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_cara_pakai_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_cara_pakai_obat","headerText":"Kode Cara Pakai Obat","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"cara_pakai_obat","headerText":"Cara Pakai Obat","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var De=a.t(Ce,2),ye=a(1329),Ie=a(651),Re=a(8511),qe=a(1753),Ee=a(8952);const Fe=["OrgTabsRef"],Ne=function(){return[]};let Ge=(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.utilityService=t,this.setupCaraPakaiObatService=a,this.GridConfig=De,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_cara_pakai_obat:[0,[]],kode_cara_pakai_obat:["",[n.kI.required]],cara_pakai_obat:["",[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(e){this.TabId=e}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){console.log(e),"save"==e.requestType&&e.data.is_active!=e.rowData.is_active&&this.SetActive(e.data.is_active,e.data.id_cara_pakai_obat)}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(e){console.log(e)}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupCaraPakaiObatService.onGetAll().subscribe(e=>{this.GridDatasource=e.data})}AddDataCaraPakaiObat(){console.log("Add")}SetFrom(e){this.FormInputData.reset(),this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?this.setupCaraPakaiObatService.onPostSave(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.ResetFrom()})}):this.setupCaraPakaiObatService.onPutEdit(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{})})}SetActive(e,t){let a={id_cara_pakai_obat:t};console.log("data",a),console.log("is_active",e),e?this.setupCaraPakaiObatService.onPutToActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",e.message).then(()=>{})}):this.setupCaraPakaiObatService.onPutToDeActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",e.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(e){13===e.keyCode&&console.log("Enter Has Been Pressed"),46===e.keyCode&&console.log("Delete Key Has Been Pressed"),40===e.keyCode&&console.log("Delete Key Has Been Pressed")}get kode_cara_pakai_obat(){return this.FormInputData.get("kode_cara_pakai_obat")}get cara_pakai_obat(){return this.FormInputData.get("cara_pakai_obat")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(T.t),l.Y36(ye.n))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-cara-pakai-obat"]],viewQuery:function(e,t){if(1&e&&l.Gf(Fe,7),2&e){let e;l.iGM(e=l.CRH())&&(t.OrgTabsRef=e.first)}},decls:18,vars:22,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","kode_cara_pakai_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","cara_pakai_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),l.TgZ(1,"org-tabs",1,2),l.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),l.TgZ(3,"org-tabs-item"),l.TgZ(4,"org-tabs-label",3),l._uU(5,"Data Cara Pakai Obat"),l.qZA(),l.TgZ(6,"org-tabs-body"),l.TgZ(7,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("load-grid",function(e){return t.handleLoadGrid(e)})("initialized",function(e){return t.InitalizedGrid(e)})("command-click",function(e){return t.handleClickCommandGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"org-tabs-item"),l.TgZ(10,"org-tabs-label",3),l._uU(11,"Input Cara Pakai Obat"),l.qZA(),l.TgZ(12,"org-tabs-body"),l.TgZ(13,"form",6),l.TgZ(14,"div",7),l.TgZ(15,"div",8),l._UZ(16,"mol-input-text",9),l._UZ(17,"mol-input-text",10),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:l.DdM(21,Ne)),l.xp6(1),l.Q6J("showHeader",!1),l.xp6(3),l.Q6J("Id","Data"),l.xp6(3),l.Q6J("grid-height",300)("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("Id","Input"),l.xp6(3),l.Q6J("formGroup",t.FormInputData),l.xp6(3),l.Q6J("label","Kode Cara Pakai Obat")("IsFormControlInvalid",t.kode_cara_pakai_obat.invalid)("ValidatorsCaption","Kode Cara Pakai Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState)("disabled","edit"===t.inputFieldState),l.xp6(1),l.Q6J("label","Nama Cara Pakai Obat")("IsFormControlInvalid",t.cara_pakai_obat.invalid)("ValidatorsCaption","Nama Cara Pakai Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState))},directives:[u.G,Ie.D,Re.K,qe.x,Ee.C,Y.q,n._Y,n.JL,n.sg,K._,n.JJ,n.u],styles:[""]}),e})();const Oe=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_grup_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_grup_obat","headerText":"Kode Grup Obat","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_grup_obat","headerText":"Nama Grup Obat","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var Pe=a.t(Oe,2),Be=a(3186);const Je=["OrgTabsRef"],Me=function(){return[]};let Ue=(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.utilityService=t,this.setupGrupObatService=a,this.GridConfig=Pe,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_grup_obat:["",[]],kode_grup_obat:["",[n.kI.required]],nama_grup_obat:["",[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(e){this.TabId=e}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){console.log(e),"save"==e.requestType&&e.data.is_active!=e.rowData.is_active&&this.SetActive(e.data.is_active,e.data.id_grup_obat)}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(e){console.log(e)}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupGrupObatService.onGetAll().subscribe(e=>{this.GridDatasource=e.data})}AddDataGrupObat(){console.log("Add")}SetFrom(e){delete e.user_created,delete e.time_created,delete e.user_deactived,delete e.time_deactived,this.FormInputData.reset(),this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?this.setupGrupObatService.onPostSave(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.ResetFrom()})}):this.setupGrupObatService.onPutEdit(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{})})}SetActive(e,t){let a={id_grup_obat:t};console.log("data",a),console.log("is_active",e),e?this.setupGrupObatService.onPutToActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",e.message).then(()=>{})}):this.setupGrupObatService.onPutToDeActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",e.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(e){13===e.keyCode&&console.log("Enter Has Been Pressed"),46===e.keyCode&&console.log("Delete Key Has Been Pressed"),40===e.keyCode&&console.log("Delete Key Has Been Pressed")}get kode_grup_obat(){return this.FormInputData.get("kode_grup_obat")}get nama_grup_obat(){return this.FormInputData.get("nama_grup_obat")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(T.t),l.Y36(Be.$))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-grup-obat"]],viewQuery:function(e,t){if(1&e&&l.Gf(Je,7),2&e){let e;l.iGM(e=l.CRH())&&(t.OrgTabsRef=e.first)}},decls:18,vars:22,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","kode_grup_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_grup_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),l.TgZ(1,"org-tabs",1,2),l.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),l.TgZ(3,"org-tabs-item"),l.TgZ(4,"org-tabs-label",3),l._uU(5,"Data Grup Obat"),l.qZA(),l.TgZ(6,"org-tabs-body"),l.TgZ(7,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("load-grid",function(e){return t.handleLoadGrid(e)})("initialized",function(e){return t.InitalizedGrid(e)})("command-click",function(e){return t.handleClickCommandGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"org-tabs-item"),l.TgZ(10,"org-tabs-label",3),l._uU(11,"Input Grup Obat"),l.qZA(),l.TgZ(12,"org-tabs-body"),l.TgZ(13,"form",6),l.TgZ(14,"div",7),l.TgZ(15,"div",8),l._UZ(16,"mol-input-text",9),l._UZ(17,"mol-input-text",10),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:l.DdM(21,Me)),l.xp6(1),l.Q6J("showHeader",!1),l.xp6(3),l.Q6J("Id","Data"),l.xp6(3),l.Q6J("grid-height",300)("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("Id","Input"),l.xp6(3),l.Q6J("formGroup",t.FormInputData),l.xp6(3),l.Q6J("label","Kode Grup Obat")("IsFormControlInvalid",t.kode_grup_obat.invalid)("ValidatorsCaption","Kode Grup Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState)("disabled","edit"===t.inputFieldState),l.xp6(1),l.Q6J("label","Nama Grup Obat")("IsFormControlInvalid",t.nama_grup_obat.invalid)("ValidatorsCaption","Nama Grup Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState))},directives:[u.G,Ie.D,Re.K,qe.x,Ee.C,Y.q,n._Y,n.JL,n.sg,K._,n.JJ,n.u],styles:[""]}),e})();const Qe=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_label_pemakaian_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_label_pemakaian_obat","headerText":"Kode Label","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_label_pemakaian_obat","headerText":"Nama Label","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"berapa_kali_per_hari","headerText":"Berapa Kali Per Hari","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var Le=a.t(Qe,2),He=a(1123);const Ke=["OrgTabsRef"],Ye=function(){return[]};let je=(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.utilityService=t,this.setupLabelPemakaianObatService=a,this.GridConfig=Le,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_label_pemakaian_obat:[0,[]],kode_label_pemakaian_obat:["",[n.kI.required]],nama_label_pemakaian_obat:["",[n.kI.required]],berapa_kali_per_hari:[0,[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(e){this.TabId=e}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){console.log(e),"save"==e.requestType&&e.data.is_active!=e.rowData.is_active&&this.SetActive(e.data.is_active,e.data.id_label_pemakaian_obat)}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(e){console.log(e)}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset(),this.kode_label_pemakaian_obat.setValue(""),this.nama_label_pemakaian_obat.setValue("")}GetAllData(){this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.GridDatasource=e.data})}AddDataLabelPemakaianObat(){console.log("Add")}SetFrom(e){this.FormInputData.reset(),this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?this.setupLabelPemakaianObatService.onPostSave(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.ResetFrom()})}):this.setupLabelPemakaianObatService.onPutEdit(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{})})}SetActive(e,t){let a={id_label_pemakaian_obat:t};console.log("data",a),console.log("is_active",e),e?this.setupLabelPemakaianObatService.onPutToActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",e.message).then(()=>{})}):this.setupLabelPemakaianObatService.onPutToDeActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",e.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(e){13===e.keyCode&&console.log("Enter Has Been Pressed"),46===e.keyCode&&console.log("Delete Key Has Been Pressed"),40===e.keyCode&&console.log("Delete Key Has Been Pressed")}get kode_label_pemakaian_obat(){return this.FormInputData.get("kode_label_pemakaian_obat")}get nama_label_pemakaian_obat(){return this.FormInputData.get("nama_label_pemakaian_obat")}get berapa_kali_per_hari(){return this.FormInputData.get("berapa_kali_per_hari")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(T.t),l.Y36(He.l))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-label-pemakaian-obat"]],viewQuery:function(e,t){if(1&e&&l.Gf(Ke,7),2&e){let e;l.iGM(e=l.CRH())&&(t.OrgTabsRef=e.first)}},decls:19,vars:24,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","kode_label_pemakaian_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_label_pemakaian_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","berapa_kali_per_hari",3,"label","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),l.TgZ(1,"org-tabs",1,2),l.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),l.TgZ(3,"org-tabs-item"),l.TgZ(4,"org-tabs-label",3),l._uU(5,"Data Label Pemakaian Obat"),l.qZA(),l.TgZ(6,"org-tabs-body"),l.TgZ(7,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("load-grid",function(e){return t.handleLoadGrid(e)})("initialized",function(e){return t.InitalizedGrid(e)})("command-click",function(e){return t.handleClickCommandGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"org-tabs-item"),l.TgZ(10,"org-tabs-label",3),l._uU(11,"Input Label Pemakaian Obat"),l.qZA(),l.TgZ(12,"org-tabs-body"),l.TgZ(13,"form",6),l.TgZ(14,"div",7),l.TgZ(15,"div",8),l._UZ(16,"mol-input-text",9),l._UZ(17,"mol-input-text",10),l._UZ(18,"mol-input-text",11),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:l.DdM(23,Ye)),l.xp6(1),l.Q6J("showHeader",!1),l.xp6(3),l.Q6J("Id","Data"),l.xp6(3),l.Q6J("grid-height",300)("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("Id","Input"),l.xp6(3),l.Q6J("formGroup",t.FormInputData),l.xp6(3),l.Q6J("label","Kode Label Pemakaian Obat")("IsFormControlInvalid",t.kode_label_pemakaian_obat.invalid)("ValidatorsCaption","Kode Label Pemakaian Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState)("disabled","edit"===t.inputFieldState),l.xp6(1),l.Q6J("label","Nama Label Pemakaian Obat")("IsFormControlInvalid",t.nama_label_pemakaian_obat.invalid)("ValidatorsCaption","Nama Label Pemakaian Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Berapa Kali Perhari")("inputFieldState",t.inputFieldState))},directives:[u.G,Ie.D,Re.K,qe.x,Ee.C,Y.q,n._Y,n.JL,n.sg,K._,n.JJ,n.u],styles:[""]}),e})();const Ve=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_outlet","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_stockroom","headerText":"Id Stokroom","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_outlet","headerText":"Kode Outlet","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_outlet","headerText":"Outlet","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_tipe_outlet","headerText":"Id Tipe Outlet","visible":true},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var ze=a.t(Ve,2),We=a(7862),Xe=a(2282);let $e=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.SETUP_DATA.SETUP_TIPE_OUTLET,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var et=a(3391),tt=a(4594);const at=["OrgTabsRef"],it=function(){return[]};let nt=(()=>{class e{constructor(e,t,a,i,r){this.formBuilder=e,this.utilityService=t,this.setupOutletService=a,this.setupStockroomService=i,this.setupTipeOutletService=r,this.MaritalTipeOutletDropdownField={text:"tipe_outlet",value:"id_tipe_outlet"},this.MaritalStockroomDropdownField={text:"nama_stockroom",value:"id_stockroom"},this.GridConfig=ze,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_outlet:[0,[]],id_stockroom:[0,[n.kI.required]],kode_outlet:["",[n.kI.required]],nama_outlet:["",[n.kI.required]],id_tipe_outlet:[0,[n.kI.required]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData(),this.setupStockroomService.setDataSource(),this.setupTipeOutletService.setDataSource()}handleSelectedTabId(e){this.TabId=e}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){console.log(e),"save"==e.requestType&&e.data.is_active!=e.rowData.is_active&&this.SetActive(e.data.is_active,e.data.id_outlet)}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(e){console.log(e)}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupOutletService.onGetAll().subscribe(e=>{this.GridDatasource=e.data})}AddDataOutlet(){console.log("Add")}SetFrom(e){this.FormInputData.reset(),this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?this.setupOutletService.onPostSave(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.ResetFrom()})}):this.setupOutletService.onPutEdit(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{})})}SetActive(e,t){let a={id_outlet:t};console.log("data",a),console.log("is_active",e),e?this.setupOutletService.onPutToActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",e.message).then(()=>{})}):this.setupOutletService.onPutToDeActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",e.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(e){13===e.keyCode&&console.log("Enter Has Been Pressed"),46===e.keyCode&&console.log("Delete Key Has Been Pressed"),40===e.keyCode&&console.log("Delete Key Has Been Pressed")}get id_stockroom(){return this.FormInputData.get("id_stockroom")}get kode_outlet(){return this.FormInputData.get("kode_outlet")}get nama_outlet(){return this.FormInputData.get("nama_outlet")}get id_tipe_outlet(){return this.FormInputData.get("id_tipe_outlet")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(T.t),l.Y36(We.A),l.Y36(Xe.u),l.Y36($e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-outlet"]],viewQuery:function(e,t){if(1&e&&l.Gf(at,7),2&e){let e;l.iGM(e=l.CRH())&&(t.OrgTabsRef=e.first)}},decls:32,vars:34,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_stockroom",3,"dataSource","fields","allowFiltering"],["MaritalStockroomDropdown",""],["formControlName","kode_outlet",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_outlet",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["id","marital","formControlName","id_tipe_outlet",3,"dataSource","fields","allowFiltering"],["MaritalTipeOutletDropdown",""]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),l.TgZ(1,"org-tabs",1,2),l.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),l.TgZ(3,"org-tabs-item"),l.TgZ(4,"org-tabs-label",3),l._uU(5,"Data Outlet"),l.qZA(),l.TgZ(6,"org-tabs-body"),l.TgZ(7,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("load-grid",function(e){return t.handleLoadGrid(e)})("initialized",function(e){return t.InitalizedGrid(e)})("command-click",function(e){return t.handleClickCommandGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"org-tabs-item"),l.TgZ(10,"org-tabs-label",3),l._uU(11,"Input Outlet"),l.qZA(),l.TgZ(12,"org-tabs-body"),l.TgZ(13,"form",6),l.TgZ(14,"div",7),l.TgZ(15,"div",8),l.TgZ(16,"div",7),l.TgZ(17,"div",9),l._UZ(18,"atm-label",10),l.qZA(),l.TgZ(19,"div",11),l._UZ(20,"ejs-dropdownlist",12,13),l.ALo(22,"async"),l.qZA(),l.qZA(),l._UZ(23,"mol-input-text",14),l._UZ(24,"mol-input-text",15),l.TgZ(25,"div",7),l.TgZ(26,"div",9),l._UZ(27,"atm-label",10),l.qZA(),l.TgZ(28,"div",11),l._UZ(29,"ejs-dropdownlist",16,17),l.ALo(31,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:l.DdM(33,it)),l.xp6(1),l.Q6J("showHeader",!1),l.xp6(3),l.Q6J("Id","Data"),l.xp6(3),l.Q6J("grid-height",300)("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("Id","Input"),l.xp6(3),l.Q6J("formGroup",t.FormInputData),l.xp6(5),l.Q6J("LabelCaption","Stockroom"),l.xp6(2),l.Q6J("dataSource",l.lcZ(22,29,t.setupStockroomService.dataSource))("fields",t.MaritalStockroomDropdownField)("allowFiltering",!0),l.xp6(3),l.Q6J("label","Kode Outlet")("IsFormControlInvalid",t.kode_outlet.invalid)("ValidatorsCaption","Kode Outlet Tidak Boleh Kosong")("inputFieldState",t.inputFieldState)("disabled","edit"===t.inputFieldState),l.xp6(1),l.Q6J("label","Nama Outlet")("IsFormControlInvalid",t.nama_outlet.invalid)("ValidatorsCaption","Nama Outlet Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),l.xp6(3),l.Q6J("LabelCaption","Tipe Outlet"),l.xp6(2),l.Q6J("dataSource",l.lcZ(31,31,t.setupTipeOutletService.dataSource))("fields",t.MaritalTipeOutletDropdownField)("allowFiltering",!0))},directives:[u.G,Ie.D,Re.K,qe.x,Ee.C,Y.q,n._Y,n.JL,n.sg,et.D,tt.rI,n.JJ,n.u,K._],pipes:[i.Ov],styles:[""]}),e})();const rt=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_rute_pemberian_obat","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_rute_pemberian_obat","headerText":"Nama Rute Pemberian Obat","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"rute_pasien","headerText":"Rute Pasien","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"ordered","headerText":"Ordered","visible":true},{"allowEditing":false,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_parenteral","headerText":"Parenteral","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100},{"allowEditing":true,"allowSorting":false,"allowFiltering":false,"editType":"booleanedit","field":"is_active","headerText":"Status Active","type":"boolean","displayAsCheckBox":true,"visible":true,"width":100}]}');var ot=a.t(rt,2),lt=a(4452),st=a(6740);const dt=["OrgTabsRef"],ut=function(){return[]};let ct=(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.utilityService=t,this.setupRutePemberianObatService=a,this.GridConfig=ot,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_rute_pemberian_obat:[0,[]],nama_rute_pemberian_obat:["",[n.kI.required]],rute_pasien:["",[n.kI.required]],ordered:[0,[]],is_parenteral:[!1,[]],is_active:[!1,[]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(e){this.TabId=e}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){console.log(e),"save"==e.requestType&&e.data.is_active!=e.rowData.is_active&&this.SetActive(e.data.is_active,e.data.id_rute_pemberian_obat)}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(e){console.log(e)}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupRutePemberianObatService.onGetAll().subscribe(e=>{this.GridDatasource=e.data})}AddDataRutePemberianObat(){console.log("Add")}SetFrom(e){this.FormInputData.reset(),this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?this.setupRutePemberianObatService.onPostSave(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.ResetFrom()})}):this.setupRutePemberianObatService.onPutEdit(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{})})}SetActive(e,t){let a={id_rute_pemberian_obat:t};console.log("data",a),console.log("is_active",e),e?this.setupRutePemberianObatService.onPutToActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Aktifkan",e.message).then(()=>{})}):this.setupRutePemberianObatService.onPutToDeActive(a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Di Non Aktifkan",e.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(e){13===e.keyCode&&console.log("Enter Has Been Pressed"),46===e.keyCode&&console.log("Delete Key Has Been Pressed"),40===e.keyCode&&console.log("Delete Key Has Been Pressed")}get id_rute_pemberian_obat(){return this.FormInputData.get("id_rute_pemberian_obat")}get nama_rute_pemberian_obat(){return this.FormInputData.get("nama_rute_pemberian_obat")}get rute_pasien(){return this.FormInputData.get("rute_pasien")}get ordered(){return this.FormInputData.get("ordered")}get is_parenteral(){return this.FormInputData.get("is_parenteral")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(T.t),l.Y36(lt.j))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-rute-pemberian-obat"]],viewQuery:function(e,t){if(1&e&&l.Gf(dt,7),2&e){let e;l.iGM(e=l.CRH())&&(t.OrgTabsRef=e.first)}},decls:20,vars:24,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","nama_rute_pemberian_obat",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","rute_pasien",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","ordered",3,"label","inputFieldState"],["formControlName","is_parenteral","id","is_parenteral",3,"label"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),l.TgZ(1,"org-tabs",1,2),l.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),l.TgZ(3,"org-tabs-item"),l.TgZ(4,"org-tabs-label",3),l._uU(5,"Data Rute Pemberian Obat"),l.qZA(),l.TgZ(6,"org-tabs-body"),l.TgZ(7,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("load-grid",function(e){return t.handleLoadGrid(e)})("initialized",function(e){return t.InitalizedGrid(e)})("command-click",function(e){return t.handleClickCommandGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"org-tabs-item"),l.TgZ(10,"org-tabs-label",3),l._uU(11,"Input Rute Pemberian Obat"),l.qZA(),l.TgZ(12,"org-tabs-body"),l.TgZ(13,"form",6),l.TgZ(14,"div",7),l.TgZ(15,"div",8),l._UZ(16,"mol-input-text",9),l._UZ(17,"mol-input-text",10),l._UZ(18,"mol-input-text",11),l._UZ(19,"mol-input-checkbox-single",12),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:l.DdM(23,ut)),l.xp6(1),l.Q6J("showHeader",!1),l.xp6(3),l.Q6J("Id","Data"),l.xp6(3),l.Q6J("grid-height",300)("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("Id","Input"),l.xp6(3),l.Q6J("formGroup",t.FormInputData),l.xp6(3),l.Q6J("label","Nama Rute Pemberian Obat")("IsFormControlInvalid",t.nama_rute_pemberian_obat.invalid)("ValidatorsCaption","Nama Rute Pemberian Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Kode Rute Pemberian Obat")("IsFormControlInvalid",t.rute_pasien.invalid)("ValidatorsCaption","Kode Rute Pemberian Obat Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Ordered")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Parenteral"))},directives:[u.G,Ie.D,Re.K,qe.x,Ee.C,Y.q,n._Y,n.JL,n.sg,K._,n.JJ,n.u,st.O],styles:[""]}),e})();const pt=JSON.parse('{"GridColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_tipe_outlet","headerText":"Id","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tipe_outlet","headerText":"Tipe Outlet","visible":true},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"keterangan","headerText":"Keterangan","visible":true}]}');var ht=a.t(pt,2);const mt=["OrgTabsRef"],gt=function(){return[]};let bt=(()=>{class e{constructor(e,t,a){this.formBuilder=e,this.utilityService=t,this.setupTipeOutletService=a,this.GridConfig=ht,this.inputFieldState="normal",this.TabId="Data",this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_tipe_outlet:[0,[]],tipe_outlet:["",[n.kI.required]],keterangan:["",[n.kI.required]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}handleSelectedTabId(e){this.TabId=e}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickCommandGrid(e){console.log(e)}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}handleLoadGrid(e){document.getElementsByClassName("e-grid")[0].addEventListener("keydown",this.KeyDownHandler.bind(this))}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"},{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.FormInputData.reset()}GetAllData(){this.setupTipeOutletService.onGetAll().subscribe(e=>{this.GridDatasource=e.data})}AddDataTipeOutlet(){console.log("Add")}SetFrom(e){this.FormInputData.reset(),this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?this.setupTipeOutletService.onPostSave(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.ResetFrom()})}):this.setupTipeOutletService.onPutEdit(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}KeyDownHandler(e){13===e.keyCode&&console.log("Enter Has Been Pressed"),46===e.keyCode&&console.log("Delete Key Has Been Pressed"),40===e.keyCode&&console.log("Delete Key Has Been Pressed")}get tipe_outlet(){return this.FormInputData.get("tipe_outlet")}get keterangan(){return this.FormInputData.get("keterangan")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(T.t),l.Y36($e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-tipe-outlet"]],viewQuery:function(e,t){if(1&e&&l.Gf(mt,7),2&e){let e;l.iGM(e=l.CRH())&&(t.OrgTabsRef=e.first)}},decls:18,vars:21,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","load-grid","initialized","command-click"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","tipe_outlet",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","keterangan",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),l.TgZ(1,"org-tabs",1,2),l.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),l.TgZ(3,"org-tabs-item"),l.TgZ(4,"org-tabs-label",3),l._uU(5,"Data Tipe Outlet"),l.qZA(),l.TgZ(6,"org-tabs-body"),l.TgZ(7,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("load-grid",function(e){return t.handleLoadGrid(e)})("initialized",function(e){return t.InitalizedGrid(e)})("command-click",function(e){return t.handleClickCommandGrid(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"org-tabs-item"),l.TgZ(10,"org-tabs-label",3),l._uU(11,"Input Tipe Outlet"),l.qZA(),l.TgZ(12,"org-tabs-body"),l.TgZ(13,"form",6),l.TgZ(14,"div",7),l.TgZ(15,"div",8),l._UZ(16,"mol-input-text",9),l._UZ(17,"mol-input-text",10),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:l.DdM(20,gt)),l.xp6(1),l.Q6J("showHeader",!1),l.xp6(3),l.Q6J("Id","Data"),l.xp6(3),l.Q6J("grid-height",300)("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("Id","Input"),l.xp6(3),l.Q6J("formGroup",t.FormInputData),l.xp6(3),l.Q6J("label","Tipe Outlet")("IsFormControlInvalid",t.tipe_outlet.invalid)("ValidatorsCaption","Tipe Outlet Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Keterangan")("IsFormControlInvalid",t.keterangan.invalid)("ValidatorsCaption","Keterangan Outlet Tidak Boleh Kosong")("inputFieldState",t.inputFieldState))},directives:[u.G,Ie.D,Re.K,qe.x,Ee.C,Y.q,n._Y,n.JL,n.sg,K._,n.JJ,n.u],styles:[""]}),e})();const ft=JSON.parse('{"GridGenerik":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_terapi_generik","headerText":"No","type":"string","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_generik","headerText":"Nama Generik","type":"string","visible":true}]},"GridSediaan":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"jenis_formularium","headerText":"F/NF","visible":true},{"allowEditing":false,"allowSorting":false,"editType":"numericEdit","field":"sediaan_obat","headerText":"Sediaan","type":"string","visible":true},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_restriksi","headerText":"Restriksi","type":"string","visible":true},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"peresepan_maksimal","headerText":"peresepan_maksimal","type":"string","visible":true}],"DataSource":[{"no":1,"fornasi":"F","ket":"Tab 10 mg, Tab 20 mg"},{"no":2,"fornasi":"NF","ket":"Caps"}]},"GridKeterangan":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no","headerText":"No","type":"string","visible":true,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"ket","headerText":"Keteranga","type":"string","visible":true}],"DataSource":[{"no":1,"ket":"Hanya untuk pemakaian pada tindakan anestesi atau perawatan di Rumah Sakit"},{"no":2,"ket":"untuk mengatasi nyeri kanker yang tidak respon terhadap analgetik non narkotik"},{"no":3,"ket":"nyeri pada serangan jantung."}]},"GridPeresepan":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no","headerText":"No","type":"string","visible":true,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"ket","headerText":"Keteranga","type":"string","visible":true}],"DataSource":[{"no":1,"ket":"Tab lepas lambat 10 mg dan 15 mg: 60 tab/bln"}]},"GridItem":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no","headerText":"No","type":"string","visible":true,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"ket","headerText":"Keteranga","type":"string","visible":true}],"DataSource":[{"no":1,"ket":"Mefinal Tab 500 mg"},{"no":2,"ket":"Ponstan Tab 500 mg"},{"no":3,"ket":"Lapistan Caps 500 mg"}]}}');var _t=a.t(ft,2);let Tt=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_TERAPI,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return console.log(this.API),this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),St=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_TERAPI_GENERIK,this.dataSource=new G.X([])}setDataSource(e){this.onGetAll(e).subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(e){return this.httpOperationService.defaultGetRequest(this.API.GET_BY_ID_TERAPI+"/"+e)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vt=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_GENERIK,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kt=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_FORMULARIUM,this.dataSource=new G.X([])}setDataSource(e){this.onGetAll(e).subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(e){return this.httpOperationService.defaultGetRequest(this.API.GET_BY_ID_GENERIK+"/"+e)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),At=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_JENIS_FORMULARIUM,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xt=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_SEDIAAN_OBAT,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var wt=a(5712);let Zt=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_PERESEPAN_MAKSIMAL,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ct=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=g.PHARMACY.FORMULARIUM.SETUP_PARAMETER_MAKSIMAL,this.dataSource=new G.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETOACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutToDeActive(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATETODEACTIVE,e).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(f.g),l.LFG(b.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Dt=a(804),yt=a(3163);const It=["modalTambahTerapi"],Rt=["modalTambahTerapiGenerik"],qt=["modalTambahFormularium"],Et=["modalSetupGenerik"],Ft=["modalSetupTerapi"],Nt=["modalSetupSediaan"],Gt=["modalSetupRestriksi"],Ot=["modalSetupPeresepanMaksimal"];function Pt(e,t){1&e&&l._UZ(0,"i",30)}function Bt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",28),l.TgZ(2,"a",8),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSubTerapi()}),l.YNc(3,Pt,1,0,"i",29),l.qZA(),l._uU(4),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit;l.xp6(3),l.Q6J("ngIf",null==e.id_terapi_parent),l.xp6(1),l.AsE(" ",e.kode_terapi," ",e.nama_terapi," ")}}function Jt(e,t){1&e&&l._UZ(0,"mol-input-text",47),2&e&&l.Q6J("inputFieldState","detail")("label","Parent Terapi")}function Mt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Tambah Terapi"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"div",36),l.TgZ(7,"div",37),l.TgZ(8,"form",38),l.TgZ(9,"div",39),l.TgZ(10,"div",40),l.YNc(11,Jt,1,2,"mol-input-text",41),l._UZ(12,"mol-input-text",42),l._UZ(13,"mol-input-text",43),l._UZ(14,"mol-input-text",44),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",45),l.TgZ(16,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanTerapi()}),l._uU(17,"Simpan Terapi"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(8),l.Q6J("formGroup",e.FormInputDataTerapi),l.xp6(3),l.Q6J("ngIf",!e.hideParentTarif),l.xp6(1),l.Q6J("label","Kode Terapi")("IsFormControlInvalid",e.kode_terapi.invalid)("ValidatorsCaption","Kode Terapi Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),l.xp6(1),l.Q6J("label","No Terapi")("IsFormControlInvalid",e.no_terapi.invalid)("ValidatorsCaption","No Terapi Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),l.xp6(1),l.Q6J("label","Nama Terapi")("IsFormControlInvalid",e.nama_terapi.invalid)("ValidatorsCaption","Nama Terapi Outlet Tidak Boleh Kosong")("inputFieldState",e.inputFieldState)}}function Ut(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Tambah Terapi Generik"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"div",36),l.TgZ(7,"div",37),l.TgZ(8,"form",38),l.TgZ(9,"div",39),l._UZ(10,"mol-input-text",48),l.TgZ(11,"div",49),l._UZ(12,"atm-label",50),l.qZA(),l.TgZ(13,"div",51),l._UZ(14,"ejs-dropdownlist",52,53),l.ALo(16,"async"),l.qZA(),l.TgZ(17,"div",54),l.TgZ(18,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSetupGenerik()}),l._uU(19,"Setup"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",45),l.TgZ(21,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanTerapiGenerik()}),l._uU(22,"Simpan Terapi Generik"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(8),l.Q6J("formGroup",e.FormInputDataTerapiGenerik),l.xp6(2),l.Q6J("label","No")("inputFieldState",e.inputFieldState),l.xp6(2),l.Q6J("LabelCaption","Nama Generik"),l.xp6(2),l.Q6J("dataSource",l.lcZ(16,7,e.setupGenerikService.dataSource))("fields",e.MaritalGenerikDropdownField)("allowFiltering",!0)}}function Qt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Tambah formularium"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"div",36),l.TgZ(7,"div",37),l.TgZ(8,"form",38),l.TgZ(9,"div",39),l.TgZ(10,"div",37),l.TgZ(11,"div",39),l.TgZ(12,"div",49),l._UZ(13,"atm-label",50),l.qZA(),l.TgZ(14,"div",55),l._UZ(15,"ejs-dropdownlist",56,57),l.ALo(17,"async"),l.qZA(),l.qZA(),l.TgZ(18,"div",39),l.TgZ(19,"div",49),l._UZ(20,"atm-label",50),l.qZA(),l.TgZ(21,"div",58),l._UZ(22,"ejs-dropdownlist",59,60),l.ALo(24,"async"),l.qZA(),l.TgZ(25,"div",54),l.TgZ(26,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSetupSediaan()}),l._uU(27,"Setup"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",39),l.TgZ(29,"div",49),l._UZ(30,"atm-label",50),l.qZA(),l.TgZ(31,"div",58),l._UZ(32,"ejs-dropdownlist",61,62),l.ALo(34,"async"),l.qZA(),l.TgZ(35,"div",54),l.TgZ(36,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSetupRestriksi()}),l._uU(37,"Setup"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(38,"div",39),l.TgZ(39,"div",49),l._UZ(40,"atm-label",50),l.qZA(),l.TgZ(41,"div",58),l._UZ(42,"ejs-dropdownlist",63,64),l.ALo(44,"async"),l.qZA(),l.TgZ(45,"div",54),l.TgZ(46,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSetupPeresepanMaksimal()}),l._uU(47,"Setup"),l.qZA(),l.qZA(),l.qZA(),l._UZ(48,"mol-input-textarea",65),l._UZ(49,"mol-datepicker-syncfusion",66),l._UZ(50,"mol-datepicker-syncfusion",67),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"div",45),l.TgZ(52,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanFormularium()}),l._uU(53,"Simpan Formularium"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(8),l.Q6J("formGroup",e.FormInputDataFormularium),l.xp6(5),l.Q6J("LabelCaption","Jenis"),l.xp6(2),l.Q6J("dataSource",l.lcZ(17,22,e.setupJenisFormulariumService.dataSource))("fields",e.MaritalJenisFormulariumDropdownField)("allowFiltering",!0),l.xp6(5),l.Q6J("LabelCaption","Sediaan"),l.xp6(2),l.Q6J("dataSource",l.lcZ(24,24,e.setupSediaanObatService.dataSource))("fields",e.MaritalSediaanObatDropdownField)("allowFiltering",!0),l.xp6(8),l.Q6J("LabelCaption","Restriksi"),l.xp6(2),l.Q6J("dataSource",l.lcZ(34,26,e.setupRestriksiObatService.dataSource))("fields",e.MaritalRestriksiObatDropdownField)("allowFiltering",!0),l.xp6(8),l.Q6J("LabelCaption","Peresepan Max"),l.xp6(2),l.Q6J("dataSource",l.lcZ(44,28,e.setupPeresepanMaksimalService.dataSource))("fields",e.MaritalPeresepanMaksimalDropdownField)("allowFiltering",!0),l.xp6(6),l.Q6J("label","Keterangan"),l.xp6(1),l.Q6J("label","Tgl Berlaku")("format","dd MMMM yyyy"),l.xp6(1),l.Q6J("label","Tgl Berakhir")("format","dd MMMM yyyy")}}function Lt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Setup Generik"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.modalRef.hide(),t.handleTambahTerapiGenerik(!1)}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"form",38),l.TgZ(7,"div",39),l.TgZ(8,"div",68),l._UZ(9,"mol-input-text",69),l._UZ(10,"mol-input-text",70),l._UZ(11,"mol-input-text",71),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"div",45),l.TgZ(13,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanGenerik()}),l._uU(14,"Simpan Generk"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(6),l.Q6J("formGroup",e.FormInputDataGenerik),l.xp6(3),l.Q6J("label","No Generik")("IsFormControlInvalid",e.no_generik.invalid)("ValidatorsCaption","No Generik Tidak Boleh Kosong")("inputFieldState",e.inputFieldState)("disabled","edit"===e.inputFieldState),l.xp6(1),l.Q6J("label","Nama Generik")("IsFormControlInvalid",e.nama_generik.invalid)("ValidatorsCaption","Nama Generik Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),l.xp6(1),l.Q6J("label","Alias")("inputFieldState",e.inputFieldState)}}function Ht(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Setup Sediaan"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.modalRef.hide(),t.handleTambahFormularium(!1)}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"form",38),l.TgZ(7,"div",39),l.TgZ(8,"div",68),l._UZ(9,"mol-input-textarea",72),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",45),l.TgZ(11,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanSediaan()}),l._uU(12,"Simpan Sediaan"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(6),l.Q6J("formGroup",e.FormInputDataSediaan),l.xp6(3),l.Q6J("label","sediaan_obat")}}function Kt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Setup Restriksi"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.modalRef.hide(),t.handleTambahFormularium(!1)}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"form",38),l.TgZ(7,"div",39),l.TgZ(8,"div",68),l._UZ(9,"mol-input-textarea",73),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",45),l.TgZ(11,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanRestriksi()}),l._uU(12,"Simpan Restrisi"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(6),l.Q6J("formGroup",e.FormInputDataRestriksi),l.xp6(3),l.Q6J("label","restriksi_obat")}}function Yt(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",31),l.TgZ(1,"h5",32),l._uU(2,"Setup Peresepan Maksimal"),l.qZA(),l.TgZ(3,"button",33),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.modalRef.hide(),t.handleTambahFormularium(!1)}),l._UZ(4,"i",34),l.qZA(),l.qZA(),l.TgZ(5,"div",35),l.TgZ(6,"form",38),l.TgZ(7,"div",39),l.TgZ(8,"div",68),l._UZ(9,"mol-input-text",74),l._UZ(10,"mol-input-text",75),l.TgZ(11,"div",39),l.TgZ(12,"div",49),l._UZ(13,"atm-label",50),l.qZA(),l.TgZ(14,"div",55),l._UZ(15,"ejs-dropdownlist",76,77),l.ALo(17,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",45),l.TgZ(19,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleSimpanPeresepanMaksimal()}),l._uU(20,"Simpan Peresepan Maksimal"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(6),l.Q6J("formGroup",e.FormInputDataPeresepanMaksimal),l.xp6(3),l.Q6J("label","Peresepan Maksimal")("IsFormControlInvalid",e.peresepan_maksimal.invalid)("ValidatorsCaption","Peresepan Maksimal Tidak Boleh Kosong")("inputFieldState",e.inputFieldState),l.xp6(1),l.Q6J("label","Nilai")("inputFieldState",e.inputFieldState),l.xp6(3),l.Q6J("LabelCaption","Parameter"),l.xp6(2),l.Q6J("dataSource",l.lcZ(17,11,e.setupParameterMaksimalService.dataSource))("fields",e.MaritalParameterMaksimalDropdownField)("allowFiltering",!0)}}let jt=(()=>{class e{constructor(e,t,a,i,n,r,o,l,s,d,u,c){this.modalService=e,this.formBuilder=t,this.utilityService=a,this.setupTerapiService=i,this.setupTerapiGenerikService=n,this.setupGenerikService=r,this.setupFormulariumService=o,this.setupJenisFormulariumService=l,this.setupSediaanObatService=s,this.setupRestriksiObatService=d,this.setupPeresepanMaksimalService=u,this.setupParameterMaksimalService=c,this.MaritalGenerikDropdownField={text:"nama_generik",value:"id_generik"},this.MaritalJenisFormulariumDropdownField={text:"jenis_formularium",value:"id_jenis_formularium"},this.MaritalSediaanObatDropdownField={text:"sediaan_obat",value:"id_sediaan_obat"},this.MaritalRestriksiObatDropdownField={text:"nama_restriksi",value:"id_restriksi_obat"},this.MaritalPeresepanMaksimalDropdownField={text:"peresepan_maksimal",value:"id_peresepan_maksimal"},this.MaritalParameterMaksimalDropdownField={text:"parameter_maksimal",value:"id_parameter_maksimal"},this.GridSetting=_t,this.hideParentTarif=!0,this.allowMultiSelection=!1,this.DataSourceGeneric=[],this.DataSourceSediaan=[],this.DataSourceRestreksi=[],this.DataSourceMax=[],this.DataSourceDagang=[]}ngOnInit(){this.wrapSettings={wrapMode:"Content"},this.FormInputDataTerapi=this.formBuilder.group({id_terapi:[0,[]],id_terapi_parent:[null,[]],parent_terapi:["",[]],no_terapi:["",[n.kI.required]],kode_terapi:["",[n.kI.required]],nama_terapi:["",[n.kI.required]],level_rekursif_terapi:[1,[n.kI.required]]}),this.FormInputDataTerapiGenerik=this.formBuilder.group({id_terapi:[0,[]],no_terapi_generik:["",[n.kI.required]],id_generik:[0,[]]}),this.FormInputDataFormularium=this.formBuilder.group({id_formularium:[0,[]],id_generik:[0,[]],id_terapi:[0,[]],id_jenis_formularium:[0,[]],id_sediaan_obat:[0,[]],id_restriksi_obat:[0,[]],id_peresepan_maksimal:[0,[]],keterangan:["",[]],tgl_berlaku:[null,[]],tgl_berakhir:[null,[]]}),this.FormInputDataGenerik=this.formBuilder.group({id_generik:[0,[]],no_generik:["",[n.kI.required]],nama_generik:["",[n.kI.required]],alias_generik:["",[]],is_active:[!1,[]]}),this.FormInputDataSediaan=this.formBuilder.group({id_sediaan_obat:[0,[]],sediaan_obat:["",[n.kI.required]]}),this.FormInputDataRestriksi=this.formBuilder.group({nama_restriksi:["",[n.kI.required]]}),this.FormInputDataPeresepanMaksimal=this.formBuilder.group({peresepan_maksimal:["",[n.kI.required]],nilai_maksimal:[0,[]],id_parameter_maksimal:["",[n.kI.required]]}),this.getAllTerapi(),this.setupGenerikService.setDataSource(),this.setupJenisFormulariumService.setDataSource(),this.setupSediaanObatService.setDataSource(),this.setupRestriksiObatService.setDataSource(),this.setupPeresepanMaksimalService.setDataSource(),this.setupParameterMaksimalService.setDataSource()}nodeSelected(e){console.log(e),this.CurrentDataTerapi=e.nodeData,this.setupTerapiGenerikService.setDataSource(this.CurrentDataTerapi.id),this.setupFormulariumService.setDataSource(0)}getAllTerapi(){this.setupTerapiService.onGetAll().subscribe(e=>{this.field={dataSource:e.data,id:"id_terapi",parentID:"id_terapi_parent",text:"nama_terapi",hasChildren:"is_parent"}})}handleSimpanTerapi(){this.setupTerapiService.onPostSave(this.FormInputDataTerapi.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.FormInputDataTerapi.reset(),this.modalRef.hide(),this.getAllTerapi()})})}handleAddTerapi(){this.id_terapi_parent.setValue(null),this.parent_terapi.setValue(""),this.level_rekursif_terapi.setValue(0),this.hideParentTarif=!0,this.modalRef=this.modalService.show(this.modalTambahTerapi,Object.assign({},{class:"modal-lg"}))}handleSubTerapi(){this.id_terapi_parent.setValue(this.CurrentDataTerapi.id),this.parent_terapi.setValue(this.CurrentDataTerapi.text),this.level_rekursif_terapi.setValue(1),this.hideParentTarif=!1,this.modalRef=this.modalService.show(this.modalTambahTerapi,Object.assign({},{class:"modal-lg"}))}handleSetupTerapi(){console.log("setup terapi"),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupTerapi,Object.assign({},{class:"modal-lg"}))}handleTambahTerapiGenerik(e){this.id_terapi_g.setValue(this.CurrentDataTerapi.id),e&&this.FormInputDataTerapiGenerik.reset(),this.modalRef=this.modalService.show(this.modalTambahTerapiGenerik,Object.assign({},{class:"modal-lg"}))}handleSimpanTerapiGenerik(){this.setupTerapiGenerikService.onPostSave(this.FormInputDataTerapiGenerik.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.FormInputDataTerapiGenerik.reset(),this.modalRef.hide(),this.setupTerapiGenerikService.setDataSource(this.CurrentDataTerapi.id)})})}handleSelectedGeneric(e){this.CurrentDataTerapiGenerik=e.data,console.log(this.CurrentDataTerapiGenerik),this.setupFormulariumService.setDataSource(this.CurrentDataTerapiGenerik.id_generik)}handleTambahFormularium(e){this.id_terapi_f.setValue(this.CurrentDataTerapi.id),this.id_generik_f.setValue(this.CurrentDataTerapiGenerik.id_generik),e&&this.FormInputDataFormularium.reset(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))}handleSimpanFormularium(){this.setupFormulariumService.onPostSave(this.FormInputDataFormularium.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.FormInputDataFormularium.reset(),this.modalRef.hide(),this.setupFormulariumService.setDataSource(this.CurrentDataTerapiGenerik.id_generik)})})}handleSetupGenerik(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupGenerik,Object.assign({},{class:"modal-lg"}))}handleSimpanGenerik(){this.setupGenerikService.onPostSave(this.FormInputDataGenerik.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.setupGenerikService.setDataSource(),this.id_generik_g.setValue(e.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahTerapiGenerik,Object.assign({},{class:"modal-lg"}))})})}handleSetupSediaan(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupSediaan,Object.assign({},{class:"modal-lg"}))}handleSimpanSediaan(){this.setupSediaanObatService.onPostSave(this.FormInputDataSediaan.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.setupSediaanObatService.setDataSource(),this.id_sediaan_obat_f.setValue(e.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))})})}handleSetupRestriksi(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupRestriksi,Object.assign({},{class:"modal-lg"}))}handleSimpanRestriksi(){this.setupRestriksiObatService.onPostSave(this.FormInputDataRestriksi.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.setupRestriksiObatService.setDataSource(),this.id_restriksi_obat_f.setValue(e.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))})})}handleSetupPeresepanMaksimal(){this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalSetupPeresepanMaksimal,Object.assign({},{class:"modal-lg"}))}handleSimpanPeresepanMaksimal(){this.setupPeresepanMaksimalService.onPostSave(this.FormInputDataPeresepanMaksimal.value).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.setupPeresepanMaksimalService.setDataSource(),this.id_peresepan_maksimal_f.setValue(e.data),this.modalRef.hide(),this.modalRef=this.modalService.show(this.modalTambahFormularium,Object.assign({},{class:"modal-lg"}))})})}handleSelectedSediaan(e){console.log(e),this.DataSourceRestreksi=this.GridSetting.GridKeterangan.DataSource,this.DataSourceMax=this.GridSetting.GridPeresepan.DataSource,this.DataSourceDagang=this.GridSetting.GridItem.DataSource}get parent_terapi(){return this.FormInputDataTerapi.get("parent_terapi")}get id_terapi_parent(){return this.FormInputDataTerapi.get("id_terapi_parent")}get kode_terapi(){return this.FormInputDataTerapi.get("kode_terapi")}get no_terapi(){return this.FormInputDataTerapi.get("no_terapi")}get nama_terapi(){return this.FormInputDataTerapi.get("nama_terapi")}get level_rekursif_terapi(){return this.FormInputDataTerapi.get("level_rekursif_terapi")}get id_terapi_g(){return this.FormInputDataTerapiGenerik.get("id_terapi")}get id_generik_g(){return this.FormInputDataTerapiGenerik.get("id_generik")}get no_terapi_generik(){return this.FormInputDataTerapiGenerik.get("no_terapi_generik")}get id_formularium(){return this.FormInputDataFormularium.get("id_formularium")}get id_generik_f(){return this.FormInputDataFormularium.get("id_generik")}get id_terapi_f(){return this.FormInputDataFormularium.get("id_terapi")}get id_jenis_formularium_f(){return this.FormInputDataFormularium.get("id_jenis_formularium")}get id_sediaan_obat_f(){return this.FormInputDataFormularium.get("id_sediaan_obat")}get id_restriksi_obat_f(){return this.FormInputDataFormularium.get("id_restriksi_obat")}get id_peresepan_maksimal_f(){return this.FormInputDataFormularium.get("id_peresepan_maksimal")}get keterangan(){return this.FormInputDataFormularium.get("keterangan")}get tgl_berlaku(){return this.FormInputDataFormularium.get("tgl_berlaku")}get tgl_berakhir(){return this.FormInputDataFormularium.get("tgl_berakhir")}get no_generik(){return this.FormInputDataGenerik.get("no_generik")}get nama_generik(){return this.FormInputDataGenerik.get("nama_generik")}get nilai_maksimal(){return this.FormInputDataPeresepanMaksimal.get("nilai_maksimal")}get id_parameter_maksimal(){return this.FormInputDataPeresepanMaksimal.get("id_parameter_maksimal")}get peresepan_maksimal(){return this.FormInputDataPeresepanMaksimal.get("peresepan_maksimal")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(Q.tT),l.Y36(n.qu),l.Y36(T.t),l.Y36(Tt),l.Y36(St),l.Y36(vt),l.Y36(kt),l.Y36(At),l.Y36(xt),l.Y36(wt.C),l.Y36(Zt),l.Y36(Ct))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-setup-formularium"]],viewQuery:function(e,t){if(1&e&&(l.Gf(It,5),l.Gf(Rt,5),l.Gf(qt,5),l.Gf(Et,5),l.Gf(Ft,5),l.Gf(Nt,5),l.Gf(Gt,5),l.Gf(Ot,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.modalTambahTerapi=e.first),l.iGM(e=l.CRH())&&(t.modalTambahTerapiGenerik=e.first),l.iGM(e=l.CRH())&&(t.modalTambahFormularium=e.first),l.iGM(e=l.CRH())&&(t.modalSetupGenerik=e.first),l.iGM(e=l.CRH())&&(t.modalSetupTerapi=e.first),l.iGM(e=l.CRH())&&(t.modalSetupSediaan=e.first),l.iGM(e=l.CRH())&&(t.modalSetupRestriksi=e.first),l.iGM(e=l.CRH())&&(t.modalSetupPeresepanMaksimal=e.first)}},decls:73,vars:23,consts:[[1,"row"],[1,"col-sm-3"],[1,"card"],[1,"card-header"],[1,"row","justify-content-between"],[1,"col-md-7"],[1,"m-0"],[1,"col-auto"],[3,"click"],[1,"fas","fa-plus-circle","tambah","text-primary"],[1,"card-body","p-0"],["id","treeparent"],["id","treeelement","e-nodeclick","onClick",3,"fields","allowMultiSelection","nodeSelected"],["nodeTemplate",""],[3,"grid-id","grid-height","grid-lines","columns","grid-DataSource","row-selected"],["gridDaftarOrder",""],[1,"col-sm-6"],[1,"col-sm-12","mb-3"],[3,"grid-id","grid-height","grid-lines","columns","grid-DataSource","textWrapSettings","row-selected"],[1,"col-sm-12"],[3,"grid-id","grid-height","grid-lines","columns","grid-DataSource","textWrapSettings"],["modalTambahTerapi",""],["modalTambahTerapiGenerik",""],["modalTambahFormularium",""],["modalSetupGenerik",""],["modalSetupSediaan",""],["modalSetupRestriksi",""],["modalSetupPeresepanMaksimal",""],[1,"ejob"],["class","fas fa-plus-circle tambah_terapi text-primary ",4,"ngIf"],[1,"fas","fa-plus-circle","tambah_terapi","text-primary"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","parent_terapi",3,"inputFieldState","label",4,"ngIf"],["formControlName","kode_terapi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","no_terapi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","nama_terapi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["formControlName","parent_terapi",3,"inputFieldState","label"],["formControlName","no_terapi_generik",3,"label","inputFieldState"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-6","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_generik",3,"dataSource","fields","allowFiltering"],["MaritalGenerikDropdown",""],[1,"col-sm-2"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_jenis_formularium",3,"dataSource","fields","allowFiltering"],["MaritalJenisFormulariumDropdown",""],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],["id","marital","formControlName","id_sediaan_obat",3,"dataSource","fields","allowFiltering"],["MaritalSediaanObatDropdown",""],["id","marital","formControlName","id_restriksi_obat",3,"dataSource","fields","allowFiltering"],["MaritalRestriksiObatDropdown",""],["id","marital","formControlName","id_peresepan_maksimal",3,"dataSource","fields","allowFiltering"],["MaritalPeresepanMaksimalDropdown",""],["formControlName","keterangan",3,"label"],["formControlName","tgl_berlaku",3,"label","format"],["formControlName","tgl_berakhir",3,"label","format"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],["formControlName","no_generik",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState","disabled"],["formControlName","nama_generik",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","alias_generik",3,"label","inputFieldState"],["formControlName","sediaan_obat",3,"label"],["formControlName","nama_restriksi",3,"label"],["formControlName","peresepan_maksimal",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],["formControlName","nilai",3,"label","inputFieldState"],["id","marital","formControlName","id_parameter_maksimal",3,"dataSource","fields","allowFiltering"],["MaritalParameterMaksimalDropdown",""]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l.TgZ(7,"h5",6),l._uU(8,"Terapi"),l.qZA(),l.qZA(),l.TgZ(9,"div",7),l.TgZ(10,"a",8),l.NdJ("click",function(){return t.handleAddTerapi()}),l._UZ(11,"i",9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"div",10),l.TgZ(13,"div",11),l.TgZ(14,"ejs-treeview",12),l.NdJ("nodeSelected",function(e){return t.nodeSelected(e)}),l.YNc(15,Bt,5,3,"ng-template",null,13,l.W1O),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",1),l.TgZ(18,"div",2),l.TgZ(19,"div",3),l.TgZ(20,"div",4),l.TgZ(21,"div",5),l.TgZ(22,"h5",6),l._uU(23,"Generik"),l.qZA(),l.qZA(),l.TgZ(24,"div",7),l.TgZ(25,"a",8),l.NdJ("click",function(){return t.handleTambahTerapiGenerik(!0)}),l._UZ(26,"i",9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(27,"div",10),l.TgZ(28,"mol-grid",14,15),l.NdJ("row-selected",function(e){return t.handleSelectedGeneric(e)}),l.ALo(30,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",16),l.TgZ(32,"div",0),l.TgZ(33,"div",17),l.TgZ(34,"div",2),l.TgZ(35,"div",3),l.TgZ(36,"div",4),l.TgZ(37,"div",5),l.TgZ(38,"h5",6),l._uU(39,"Formularium"),l.qZA(),l.qZA(),l.TgZ(40,"div",7),l.TgZ(41,"a",8),l.NdJ("click",function(){return t.handleTambahFormularium(!0)}),l._UZ(42,"i",9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(43,"div",10),l.TgZ(44,"mol-grid",18,15),l.NdJ("row-selected",function(e){return t.handleSelectedSediaan(e)}),l.ALo(46,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(47,"div",19),l.TgZ(48,"div",2),l.TgZ(49,"div",3),l.TgZ(50,"div",4),l.TgZ(51,"div",7),l.TgZ(52,"h5",6),l._uU(53,"Nama Dagang"),l.qZA(),l.qZA(),l.TgZ(54,"div",7),l._UZ(55,"i",9),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"div",10),l._UZ(57,"mol-grid",20,15),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(59,Mt,18,14,"ng-template",null,21,l.W1O),l.YNc(61,Ut,23,9,"ng-template",null,22,l.W1O),l.YNc(63,Qt,54,30,"ng-template",null,23,l.W1O),l.YNc(65,Lt,15,12,"ng-template",null,24,l.W1O),l.YNc(67,Ht,13,2,"ng-template",null,25,l.W1O),l.YNc(69,Kt,13,2,"ng-template",null,26,l.W1O),l.YNc(71,Yt,21,13,"ng-template",null,27,l.W1O),l.qZA()),2&e&&(l.xp6(14),l.Q6J("fields",t.field)("allowMultiSelection",t.allowMultiSelection),l.xp6(14),l.Q6J("grid-id","GridDaftarOrder")("grid-height","calc(100vh - 250px)")("grid-lines","Both")("columns",t.GridSetting.GridGenerik.columns)("grid-DataSource",l.lcZ(30,19,t.setupTerapiGenerikService.dataSource)),l.xp6(16),l.Q6J("grid-id","GridDaftarOrder")("grid-height","calc((100vh - 350px)/2)")("grid-lines","Both")("columns",t.GridSetting.GridSediaan.columns)("grid-DataSource",l.lcZ(46,21,t.setupFormulariumService.dataSource))("textWrapSettings",t.wrapSettings),l.xp6(13),l.Q6J("grid-id","GridDaftarOrder")("grid-height","calc((100vh - 350px)/2)")("grid-lines","Both")("columns",t.GridSetting.GridItem.columns)("grid-DataSource",t.DataSourceDagang)("textWrapSettings",t.wrapSettings))},directives:[u.G,Dt.kD,Y.q,i.O5,n._Y,n.JL,n.sg,K._,n.JJ,n.u,et.D,tt.rI,yt.h,H.i],pipes:[i.Ov],styles:["#treeparent[_ngcontent-%COMP%]{display:block;max-width:400px;height:calc(100vh - 210px);margin:auto;overflow:auto;border:1px solid #ddd;border-radius:3px}#treeelement[_ngcontent-%COMP%]{max-height:calc(100vh - 210px);overflow:auto}.tambah[_ngcontent-%COMP%]{font-size:23px;margin-top:1px}.tambah_terapi[_ngcontent-%COMP%]{font-size:18px;margin-top:1px}"]}),e})();var Vt=a(4762),zt=a(5776);const Wt=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var Xt=a.t(Wt,2);const $t=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_template","headerText":"Nama Template Resep","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_resep","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var ea=a.t($t,2);const ta=JSON.parse('{"GridInputResep":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rx","headerText":"Rx","type":"string","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_urut","headerText":"No","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_resep","headerText":"Kode Resep","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Obat","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"satuan","headerText":"Satuan","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"qty_obat","headerText":"Qty","format":"N","textAlign":"Right","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"aturan_pakai","headerText":"Jumlah Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_pakai","headerText":"Aturan Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"waktu_pakai","headerText":"Waktu Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"catatan","headerText":"Catatan","type":"string","visible":true,"width":100}]},"GridHistoryResep":{"columns":[],"dataSource":[]}}');var aa=a.t(ta,2),ia=a(2501),na=a.n(ia);const ra=JSON.parse('{"LookupPasien":{"columns":[{"allowEditing":true,"allowSorting":true,"displayAsCheckBox":true,"editType":"booleanEdit","field":"cek","headerText":"CEK","visible":false,"width":150},{"allowEditing":true,"allowSorting":true,"editType":"numericEdit","field":"id_person","format":"N2","headerText":"PERSON ID","type":"number","visible":false,"width":150},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"no_register","headerText":"NO. REGISTER","type":"string","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_pasien","headerText":"NAMA PASIEN","type":"string","visible":true,"width":200},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"no_rekam_medis","headerText":"NO. RM","type":"string","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"tgl_admisi","headerText":"TGL. ADMISI","type":"Date","format":"dd/MM/yyyy","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_kelas","headerText":"KELAS","type":"string","visible":true,"width":70},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_debitur","headerText":"DEBITUR","type":"string","visible":true,"width":150}],"filter":[{"field":"p.no_identitas","filter":"like","title":"NO. IDENTITAS"},{"field":"tp.no_register","filter":"like","title":"NO. REGISTER"},{"field":"concat(p.nama_depan, \' \',p.nama_belakang)","filter":"like","title":"NAMA PASIEN"},{"field":"tp.no_rekam_medis","filter":"like","title":"NO. RM"}]}}');var oa=a.t(ra,2),la=a(6498),sa=a(1344),da=a(917),ua=a(5521),ca=a(266),pa=a(5740),ha=a(6296),ma=a(7696),ga=a(389);const ba=["LookupRacikan"],fa=["LookupTemplateResep"],_a=["GridResepRacikan"],Ta=["itemTemplate"],Sa=["modalTemplateResep"];function va(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",7),l.TgZ(1,"div",6),l.TgZ(2,"div",17),l.TgZ(3,"label",18),l._uU(4,"Nama Obat"),l.qZA(),l.qZA(),l.TgZ(5,"div",17),l.TgZ(6,"div",4),l.TgZ(7,"div",61),l.TgZ(8,"ejs-dropdownlist",62,63),l.NdJ("filtering",function(t){return l.CHM(e),l.oxw().onFiltering(t)})("change",function(t){return l.CHM(e),l.oxw().handleChangeObat(t)}),l.qZA(),l.qZA(),l.TgZ(10,"div",64),l.TgZ(11,"span",65),l._uU(12),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(8),l.Q6J("allowFiltering",!0)("dataSource",e.data)("fields",e.fields)("placeholder",e.text)("query",e.query)("sortOrder",e.sorting)("allowFiltering",!0),l.xp6(4),l.hij(" ",e.nama_satuan.value," ")}}function ka(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",66),l.TgZ(1,"div",6),l.TgZ(2,"div",17),l.TgZ(3,"label",18),l._uU(4,"Nama Racikan Obat"),l.qZA(),l.qZA(),l.TgZ(5,"div",17),l.TgZ(6,"div",67),l.TgZ(7,"input",68),l.NdJ("change",function(){return l.CHM(e),l.oxw().handleChangeNamaRacikan()}),l.qZA(),l.TgZ(8,"button",69),l.NdJ("click",function(t){return l.CHM(e),l.oxw().handelClickRacikan(t)}),l._UZ(9,"i",70),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}}function Aa(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",71),l.TgZ(1,"div",6),l.TgZ(2,"div",17),l.TgZ(3,"label",18),l._uU(4,"Kemasan Racikan"),l.qZA(),l.qZA(),l.TgZ(5,"div",17),l.TgZ(6,"div",67),l.TgZ(7,"ejs-dropdownlist",72,73),l.NdJ("change",function(t){return l.CHM(e),l.oxw().handleChangeMetodeRacikan(t)}),l.ALo(9,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(7),l.Q6J("dataSource",l.lcZ(9,3,e.setupMetodeRacikanService.dataSource))("fields",e.DropdownMetodeRacikanFields)("allowFiltering",!0)}}function xa(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",23),l.TgZ(1,"div",4),l.TgZ(2,"div",17),l.TgZ(3,"label",24),l._uU(4,"Satuan"),l.qZA(),l.qZA(),l.TgZ(5,"div",27),l.TgZ(6,"ejs-combobox",74),l.NdJ("change",function(t){return l.CHM(e),l.oxw().handleChangeSatuanAturan(t)}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(6),l.Q6J("allowFiltering",!0)("dataSource",e.dataSourceSatuanAturanPakai)("fields",e.DropdownsatuanPakaiFields)}}function wa(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",75),l.TgZ(1,"h5",76),l._uU(2,"Simpan Template Resep Dokter"),l.qZA(),l.TgZ(3,"button",77),l.NdJ("click",function(){return l.CHM(e),l.oxw().modalRef.hide()}),l._UZ(4,"i",78),l.qZA(),l.qZA(),l.TgZ(5,"div",79),l.TgZ(6,"div",80),l.TgZ(7,"div",81),l.TgZ(8,"h2"),l._uU(9,"Apakah Dokter Ingin Menyimapan Resep Ini Sebagai Template Resep?"),l.qZA(),l.TgZ(10,"p"),l._uU(11,"Template resep di gunakan untuk membuat resep dengan data resep yg sudah ada"),l.qZA(),l.qZA(),l.TgZ(12,"div",82),l.TgZ(13,"div",83),l.TgZ(14,"div",84),l.TgZ(15,"label",85),l.TgZ(16,"strong"),l._uU(17,"Nama Template Resep"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",86),l._UZ(19,"input",87),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",88),l.TgZ(21,"button",89),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleClickSimpanTemplateResepDokter()}),l._uU(22,"Simpan Template Resep"),l.qZA(),l.TgZ(23,"button",90),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleClickAbaikan()}),l._uU(24,"Tidak"),l.qZA(),l.qZA()}}let Za=(()=>{class e{constructor(e,t,a,i,n,r,o,l,s,d,u,c){this.formBuilder=e,this.resepDokterService=t,this.setupLabelPemakaianObatService=a,this.setupTambahanAturanPakaiService=i,this.setupSatuanAturanPakaiService=n,this.setupMetodeRacikanService=r,this.setupOutletService=o,this.daftarPasienService=l,this.utilityService=s,this.navigationService=d,this.modalService=u,this.renderer=c,this.API_TRANS_BILLING=la.API_BILLING,this.Config=oa,this.UrlLookupDaftarPasien=this.API_TRANS_BILLING.TRANS_BILLING.POST_GET_DATA_PASIEN_FOR_LOOKUP,this.urlRacikan=g.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_RACIKAN+"/2/J",this.urlTemplateResep=g.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_TEMPLATE_RESEP+"/2",this.GridLookUpItem=Xt,this.GridlookUpTemplateResep=ea,this.DropdownLabelFields={text:"nama_label_pemakaian_obat",value:"id_label_pemakaian_obat"},this.DropdownAturanFields={text:"tambahan_aturan_pakai",value:"id_tambahan_aturan_pakai"},this.DropdownsatuanPakaiFields={text:"satuan_aturan_pakai",value:"id_satuan_aturan_pakai"},this.SetupOutletDropdownField={text:"nama_outlet",value:"id_outlet"},this.FormAddObatState="input",this.SatuanObat="-",this.DropdownObatFields={text:"nama_obat",value:"id_item"},this.DropdownMetodeRacikanFields={text:"metode_racikan",value:"id_metode_racikan"},this.NamaObatDatasource=[],this.WaktuPakai=[],this.GridDaftarObatEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarObatDataSource=[],this.GridDaftarObatColumns=aa,this.GridDetailResepRacikanDatasource=[],this.GridResepRacikanDatasource=[],this.dataSourceLabelPemakaian=[],this.dataSourceTambahanAturanPakai=[],this.dataSourceSatuanAturanPakai=[],this.counter=0,this.counterRacikan=0,this.dataScourceGridChild=[],this.IsUserLogin=JSON.parse(localStorage.getItem("UserData")),this.data=new zt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:g.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new zt.um,crossDomain:!0}),this.fields={text:"nama_obat",value:"id_item"},this.query=(new zt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.text="Select a Obat",this.sorting="Ascending",this.onFiltering=e=>{if(""===e.text)e.updateData(this.data);else{let t=(new zt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}},this.dataChild=new zt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:g.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new zt.um,crossDomain:!0}),this.queryChild=(new zt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.ButtonNav=[{Id:"Template",Icons1:"fas fa-tags fa-sm",Captions:"Template Resep"},{Id:"Reset",Icons1:"fas fa-undo fa-sm",Captions:"Reset"},{Id:"Simpan",Icons1:"fas fa-save fa-sm",Captions:"Simpan"}],this.Data=[],this.newdetail=[],this.baru=0,this.nama_resep=""}get width(){return window.innerWidth}ngOnInit(){this.FormAddObat=this.formBuilder.group({counter:[0,[]],is_racikan:[!1,[]],no_urut:[0,[]],set_racikan_id:[null,[]],id_metode_racikan:[null,[]],metode_racikan:["",[]],id_item:[null,[]],nama_racikan:["",[]],nama_obat:["",[]],qty_resep:["",[]],nama_satuan:["-",[]],label:["",[]],ket_label:["",[]],id_label_pemakaian_obat:[null,[]],label_pemakaian_obat:["",[]],id_satuan_aturan_pakai:[null,[]],satuan_aturan_pakai:[null,[]],aturan:["",[]],ket_aturan:["",[]],id_tambahan_aturan_pakai:[null,[]],label_tambahan_aturan_pakai_obat:["",[]],id_outlet:[0,[]]}),this.GridDaftarObatToolbar=[{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Delete",tooltipText:"Delete",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"},"Search"];let e=this.currentQtyResep,t=this.currentIdItem,a=this.SelectedDataRacikanObat;this.resepDokterService.dataSelectRacikan.next(a),this.itemsParams={create:()=>(a&&(this.queryChild=(new zt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",a.nama_obat,!0)),this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.itemsObj=new N.NB({dataSource:this.dataChild,fields:this.fields,query:this.queryChild,enabled:!0,placeholder:"Select a obat",allowFiltering:!0,popupWidth:"55rem",filtering:(function(e){if(""===e.text)e.updateData(this.data);else{let t=(new zt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}}).bind(this),change:(function(i){this.setFormGrif(i,e,t,a),t=i.itemData.id_item}).bind(this)}),this.itemsObj.appendTo(this.itemsElem),a&&setTimeout(()=>{this.itemsObj.value=a.id_item},500)}};let i=this.counterRacikan,n=this.dataScourceGridChild;this.resepDokterService.dataSourceChildGrid.next(n),this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"counter",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"counter",headerText:"c",width:100,visible:!1},{field:"no_urut",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"nama_satuan",headerText:"Satuan",textAlign:"Right",width:80,allowEditing:!1},{field:"id_item",headerText:"id",width:100,visible:!1},{field:"komposisi",headerText:"kps",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"seper",headerText:"1/",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"kandungan",headerText:"Kandungan",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"qty_resep",headerText:"qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",visible:!1},{field:"qty_racikan",headerText:"QTY",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"keterangan",headerText:"Keterangan",headerTextAlign:"Center",textAlign:"Left",width:100}],rowSelected(e){a=e.data},actionBegin(t){console.log("begin",t),"add"===t.requestType&&(t.data.counter=this.parentDetails.parentKeyFieldValue,t.data.qty_resep=this.parentDetails.parentRowData.qty_resep,t.data.counterRacikan=i++,e=this.parentDetails.parentRowData.qty_resep,a=null)},actionComplete(e){if("save"===e.requestType&&("add"===e.action&&(e.data.id_item=t,n.push(e.data)),"edit"===e.action)){e.data.id_item=t;let a=n.map(e=>e.counterRacikan).indexOf(e.data.counterRacikan);n[a]=e.data}if("delete"===e.requestType){let t=n.map(e=>e.counterRacikan).indexOf(e.data[0].counterRacikan);n.splice(t,1)}}},this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.dataSourceLabelPemakaian=e.data}),this.setupTambahanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceTambahanAturanPakai=e.data}),this.setupSatuanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceSatuanAturanPakai=e.data}),this.setupMetodeRacikanService.setDataSource(),this.setupOutletService.setDataSource()}onLoad(e){}setFormGrif(e,t,a,i){i?(document.getElementsByName("nama_satuan")[0].value=i.nama_satuan,document.getElementsByName("komposisi")[0].value=i.komposisi,document.getElementsByName("seper")[0].value=i.seper,document.getElementsByName("kandungan")[0].value=i.kandungan,document.getElementsByName("qty_racikan")[0].value=i.qty_racikan):(document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("komposisi")[0].value=e.itemData.kandungan_obat,document.getElementsByName("seper")[0].value="1",document.getElementsByName("kandungan")[0].value=e.itemData.kandungan_obat,document.getElementsByName("qty_racikan")[0].value=t.toString());let n=document.getElementsByName("seper")[0];n&&(n.addEventListener("click",e=>{n.select()}),n.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("komposisi")[0].value),i=a/parseInt(document.getElementsByName("seper")[0].value);document.getElementsByName("kandungan")[0].value=i.toString();let n=t*i/a;document.getElementsByName("qty_racikan")[0].value=n.toString()}),this.setInputFilter(n,function(e){return/^\d*$/.test(e)}));let r=document.getElementsByName("kandungan")[0];r&&(r.addEventListener("click",e=>{r.select()}),r.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("kandungan")[0].value),i=parseInt(document.getElementsByName("komposisi")[0].value),n=t*a;console.log(n);let r=n/i;document.getElementsByName("qty_racikan")[0].value=r.toString(),document.getElementsByName("seper")[0].value="1"}),this.setInputFilter(r,function(e){return/^\d*$/.test(e)}));let o=document.getElementsByName("qty_racikan")[0];o&&(o.addEventListener("click",e=>{o.select()}),this.setInputFilter(o,function(e){return/^\d*$/.test(e)}))}setInputFilter(e,t){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(a){e.addEventListener(a,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):Object.prototype.hasOwnProperty.call(this,"oldValue")?(this.value=this.oldValue,null!==this.oldSelectionStart&&null!==this.oldSelectionEnd&&this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleSelectedLookupPasien(e){console.log(e)}handleChangeOutlet(e){this.idOutlet=e.value}handleChangeObat(e){this.nama_satuan.setValue(e.itemData.nama_satuan),this.nama_obat.setValue(e.itemData.nama_obat)}handleChangeLabel(e){"number"==typeof e.value&&e.value%1==0?(this.label_pemakaian_obat.setValue(""),this.id_label_pemakaian_obat.setValue(e.value),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat)):(this.label_pemakaian_obat.setValue(e.value),this.id_label_pemakaian_obat.setValue(1),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat))}handleChangeAturan(e){"number"==typeof e.value&&e.value%1==0?(this.label_tambahan_aturan_pakai_obat.setValue(""),this.id_tambahan_aturan_pakai.setValue(e.value),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai)):(this.label_tambahan_aturan_pakai_obat.setValue(e.value),this.id_tambahan_aturan_pakai.setValue(1),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai))}handleChangeSatuanAturan(e){this.satuan_aturan_pakai.setValue(e.itemData.satuan_aturan_pakai)}handleChangeNamaRacikan(){this.set_racikan_id.setValue(null)}handelClickRacikan(){this.LookupRacikan.onOpenModal()}handelClickTemplateResep(){this.LookupTemplateResep.onOpenModal()}handleChangeMetodeRacikan(e){this.metode_racikan.setValue(e.itemData.metode_racikan)}heandleSelectedRacikan(e){let t;this.counter++,e.counter=this.counter,e.is_racikan=!0,this.resepDokterService.addDetail(e),t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)}),console.log(t),this.resepDokterService.dataSourceChildGrid.next(t)}heandleSelectedTemplateResep(e){let t;t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{this.counter++,e.counter=this.counter,e.nama_racikan=e.is_racikan?e.nama_obat:"",e.label=1==e.id_label_pemakaian_obat?e.ket_label:e.id_label_pemakaian_obat,e.aturan=1==e.id_tambahan_aturan_pakai?e.ket_aturan:e.id_tambahan_aturan_pakai,this.resepDokterService.addDetail(e),e.racikans.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)})}),this.resepDokterService.dataSourceChildGrid.next(t),this.onSetTemplateResep()}handleAddObat(e){this.counter++,e.counter=this.counter,e.is_racikan?e.nama_obat=e.nama_racikan:(e.id_metode_racikan=null,e.metode_racikan=null),this.resepDokterService.addDetail(e),this.onResetFormObat()}onResetFormObat(){this.FormAddObat.reset(),this.is_racikan.setValue(!1)}onChangeWaktuPakai(e){const t=document.getElementById("waktuPakai"+e),a=this.WaktuPakai.indexOf(e);t.checked?this.WaktuPakai.push(e):this.WaktuPakai.splice(a,1)}onUpdateDataObat(e){this.resepDokterService.editDetail(this.currentIndex,e),this.onResetFormObat(),this.GridResepRacikan.refresh(),this.FormAddObatState="input"}onResetFormDataObat(){this.FormAddObat.reset(),this.SatuanObat=""}onInitalizedGrid(e){this.gridDaftarObat=e}onToolbarClick(e){switch(e.item.id){case"edit":this.onEditData(),this.FormAddObatState="edit";break;case"delete":this.resepDokterService.removeDataDetail(this.currentIndex),this.GridResepRacikan.refresh()}}onEditData(){let e=this.SelectedDataObat;this.FormAddObat.setValue({counter:e.counter,no_urut:e.no_urut,is_racikan:e.is_racikan,set_racikan_id:e.set_racikan_id,id_metode_racikan:e.id_metode_racikan,metode_racikan:e.metode_racikan,id_item:e.id_item,nama_obat:e.nama_obat,qty_resep:e.qty_resep,nama_satuan:e.nama_satuan,label:e.label,ket_label:e.ket_label,id_label_pemakaian_obat:e.id_label_pemakaian_obat,label_pemakaian_obat:e.label_pemakaian_obat,aturan:e.aturan,ket_aturan:e.ket_aturan,id_tambahan_aturan_pakai:e.id_tambahan_aturan_pakai,label_tambahan_aturan_pakai_obat:e.label_tambahan_aturan_pakai_obat,nama_racikan:e.nama_racikan,id_satuan_aturan_pakai:e.id_satuan_aturan_pakai,satuan_aturan_pakai:e.satuan_aturan_pakai})}onActionComplete(e){}onRowSelected(e){this.currentIndex=e.rowIndex,this.SelectedDataObat=e.data}onClickButtonNav(e){switch(e){case"Template":this.handelClickTemplateResep();case"Reset":this.resepDokterService.reset(),this.isGetFromTemplate=!1;break;case"Simpan":this.onGetGridResepDatasource()}}onSetTemplateResep(){this.isGetFromTemplate=!0}onGetGridResepDatasource(){return(0,Vt.mG)(this,void 0,void 0,function*(){this.dataHeader={id_dokter:this.daftarPasienService.ActivePasien.value.id_dokter,id_register:this.daftarPasienService.ActivePasien.value.id_register,id_outlet:this.idOutlet,id_person:this.daftarPasienService.ActivePasien.value.id_person,jenis_rawat:"J",nama_template:"",tanggal_resep:this.currentTanggal};let e=yield this.resepDokterService.dataDetail;this.newdetail=e.filter(e=>e.is_racikan&&!e.set_racikan_id),this.baru=0,this.isGetFromTemplate?this.methodConfirmSetRacikan(0):this.modalRef=this.modalService.show(this.modalTemplateResep,Object.assign({},{class:"modal-lg"}))})}handleClickSimpanTemplateResepDokter(){let e=document.getElementsByName("nama_resep")[0].value;this.dataHeader.nama_template=e,this.modalRef.hide(),this.methodConfirmSetRacikan(1)}handleClickAbaikan(){this.modalRef.hide(),this.methodConfirmSetRacikan(0)}methodConfirmSetRacikan(e){this.newdetail.length>0?na().fire({title:"Apakah Anda Ingin Menyimapan Racikan Baru ke dalam Setting Racikan dokter?",text:"Racikan akan bisa di gunakan lagi untuk template",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, Saya Yakin",cancelButtonText:"Tidak",focusCancel:!0}).then(t=>{this.baru=t.isConfirmed?1:0,this.methodInsert(this.dataHeader,e,this.baru)}):this.methodInsert(this.dataHeader,e,0)}methodInsert(e,t,a){this.resepDokterService.Insert(e,t,a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.resepDokterService.reset(),this.isGetFromTemplate=!1})})}get is_racikan(){return this.FormAddObat.get("is_racikan")}get set_racikan_id(){return this.FormAddObat.get("set_racikan_id")}get id_metode_racikan(){return this.FormAddObat.get("id_metode_racikan")}get metode_racikan(){return this.FormAddObat.get("metode_racikan")}get id_item(){return this.FormAddObat.get("id_item")}get nama_obat(){return this.FormAddObat.get("nama_obat")}get qty_resep(){return this.FormAddObat.get("qty_resep")}get nama_satuan(){return this.FormAddObat.get("nama_satuan")}get label(){return this.FormAddObat.get("label")}get ket_label(){return this.FormAddObat.get("ket_label")}get id_label_pemakaian_obat(){return this.FormAddObat.get("id_label_pemakaian_obat")}get label_pemakaian_obat(){return this.FormAddObat.get("label_pemakaian_obat")}get aturan(){return this.FormAddObat.get("aturan")}get ket_aturan(){return this.FormAddObat.get("ket_aturan")}get id_tambahan_aturan_pakai(){return this.FormAddObat.get("id_tambahan_aturan_pakai")}get label_tambahan_aturan_pakai_obat(){return this.FormAddObat.get("label_tambahan_aturan_pakai_obat")}get nama_racikan(){return this.FormAddObat.get("nama_racikan")}get satuan_aturan_pakai(){return this.FormAddObat.get("satuan_aturan_pakai")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(s.f),l.Y36(He.l),l.Y36(sa.f),l.Y36(da.I),l.Y36(ua.m),l.Y36(We.A),l.Y36(ca.O),l.Y36(T.t),l.Y36(pa.f),l.Y36(Q.tT),l.Y36(l.Qsj))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-input-resep-irja"]],viewQuery:function(e,t){if(1&e&&(l.Gf(ba,5),l.Gf(fa,5),l.Gf(_a,5),l.Gf(Ta,5),l.Gf(Sa,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.LookupRacikan=e.first),l.iGM(e=l.CRH())&&(t.LookupTemplateResep=e.first),l.iGM(e=l.CRH())&&(t.GridResepRacikan=e.first),l.iGM(e=l.CRH())&&(t.itemTemplate=e.first),l.iGM(e=l.CRH())&&(t.modalTemplateResep=e.first)}},decls:88,vars:80,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"card"],[1,"card-body","p-2"],[1,"row"],[1,"col-sm-5"],[1,"row","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital","formControlName","id_outlet",3,"dataSource","fields","allowFiltering","change"],["MaritalOutletDropdown",""],[1,"col-sm-7"],[3,"modal-title","idKode","idTitle","label","lookup-url","filter-lookup","columns","onGetSelectedData"],["LookupPasien",""],[1,"row","pt-2","mb-2"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","DropdownObat",1,"form-label"],["type","checkbox","formControlName","is_racikan",1,"form-check-input"],["class","col-lg-4 col-md-4 col-sm-4 col-xs-4",4,"ngIf"],["class","col-lg-3 col-md-3 col-sm-3 col-xs-3",4,"ngIf"],["class","col-lg-2 col-md-2 col-sm-2 col-xs-2",4,"ngIf"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","pe-1"],["for","NumericQty",1,"form-label"],["id","NumericQty","formControlName","qty_resep",3,"format","showSpinButton","showClearButton","ste"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","pe-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pe-1"],["id","DropdownLabelPemakaian","formControlName","label","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["class","col-lg-1 col-md-1 col-sm-1 col-xs-1 pe-1",4,"ngIf"],["id","DropdownTambahanAturanPakai","formControlName","aturan","popupWidth","25rem",3,"allowFiltering","dataSource","fields","change"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","ps-4"],[1,"row","align-content-center","h-100","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","px-0",3,"hidden"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-plus-circle","fa-sm"],[3,"hidden"],["type","button",1,"btn","btn-warning","btn-sm",3,"disabled","click"],[1,"fas","fa-edit","fa-sm"],[3,"lookup-url","columns","columnsChild","filter-lookup","queryString","modal-title","onGetSelectedData"],["LookupRacikan",""],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","queryString","onGetSelectedData"],["LookupTemplateResep",""],[1,"col-lg-12","col-md-12","col-xs-12","col-sm-12"],[1,"card-body","p-0"],["height","calc(100vh - 27rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","toolbar","allowResizing","toolbarClick","load","rowDataBound","dataBound","rowSelected","actionComplete"],["GridResepRacikan",""],["field","no_urut","headerText","no_urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","is_racikan","headerText","is_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","set_racikan_id","headerText","set_racikan_id","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_metode_racikan","headerText","id_metode_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_label_pemakaian_obat","headerText","id_label_pemakaian_obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_tambahan_aturan_pakai","headerText","id_tambahan_aturan_pakai","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_satuan","headerText","Satuan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","metode_racikan","headerText","Kemasan Racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","ket_label","headerText","Pemakaian","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["modalTemplateResep",""],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10","pe-0"],["id","DropdownObat","formControlName","id_item","popupWidth","55rem",3,"allowFiltering","dataSource","fields","placeholder","query","sortOrder","filtering","change"],["Drop",""],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","px-0"],["id","basic-addon1",1,"input-group-text","bg-primary","text-white"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3"],[1,"input-group"],["type","text","formControlName","nama_racikan",1,"form-control","form-select-sm",3,"change"],["id","btnInputGroup","type","button",1,"btn","btn-primary",2,"padding",".1rem .8rem","background-color","#00afff; border: 0",3,"click"],[1,"fas","fa-search"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2"],["formControlName","id_metode_racikan",3,"dataSource","fields","allowFiltering","change"],["MolDropdown",""],["id","DropdownLabelPemakaian","formControlName","id_satuan_aturan_pakai","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mb-2","row"],[1,"col-sm-4"],["for","nama_resep"],[1,"col-sm-8"],["type","text","name","nama_resep",1,"form-control","form-control-sm"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),l.TgZ(1,"form",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l.TgZ(7,"div",7),l._UZ(8,"atm-label",8),l.qZA(),l.TgZ(9,"div",9),l.TgZ(10,"ejs-dropdownlist",10,11),l.NdJ("change",function(e){return t.handleChangeOutlet(e)}),l.ALo(12,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",12),l.TgZ(14,"org-input-look-up-kode",13,14),l.NdJ("onGetSelectedData",function(e){return t.handleSelectedLookupPasien(e)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",15),l.TgZ(17,"div",16),l.TgZ(18,"div",6),l.TgZ(19,"div",17),l.TgZ(20,"label",18),l._uU(21,"Racik"),l.qZA(),l.qZA(),l.TgZ(22,"div",17),l._UZ(23,"input",19),l.qZA(),l.qZA(),l.qZA(),l.YNc(24,va,13,8,"div",20),l.YNc(25,ka,10,0,"div",21),l.YNc(26,Aa,10,5,"div",22),l.TgZ(27,"div",23),l.TgZ(28,"div",4),l.TgZ(29,"div",17),l.TgZ(30,"label",24),l._uU(31,"Qty"),l.qZA(),l.qZA(),l.TgZ(32,"div",17),l._UZ(33,"ejs-numerictextbox",25),l.qZA(),l.qZA(),l.qZA(),l.TgZ(34,"div",26),l.TgZ(35,"div",4),l.TgZ(36,"div",17),l.TgZ(37,"label",24),l._uU(38,"Label Obat"),l.qZA(),l.qZA(),l.TgZ(39,"div",27),l.TgZ(40,"ejs-combobox",28),l.NdJ("change",function(e){return t.handleChangeLabel(e)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(41,xa,7,3,"div",29),l.TgZ(42,"div",26),l.TgZ(43,"div",4),l.TgZ(44,"div",17),l.TgZ(45,"label",24),l._uU(46,"Aturan Tambahan"),l.qZA(),l.qZA(),l.TgZ(47,"div",27),l.TgZ(48,"ejs-combobox",30),l.NdJ("change",function(e){return t.handleChangeAturan(e)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(49,"div",31),l.TgZ(50,"div",32),l.TgZ(51,"div",33),l.TgZ(52,"button",34),l.NdJ("click",function(){return t.handleAddObat(t.FormAddObat.value)}),l._UZ(53,"i",35),l.TgZ(54,"span",36),l._uU(55,"\xa0Obat"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"div",33),l.TgZ(57,"button",37),l.NdJ("click",function(){return t.onUpdateDataObat(t.FormAddObat.value)}),l._UZ(58,"i",38),l.TgZ(59,"span",36),l._uU(60,"\xa0Edit"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(61,"org-look-up-hirarki",39,40),l.NdJ("onGetSelectedData",function(e){return t.heandleSelectedRacikan(e)}),l.qZA(),l.TgZ(63,"org-look-up-hirarki",41,42),l.NdJ("onGetSelectedData",function(e){return t.heandleSelectedTemplateResep(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(65,"div",15),l.TgZ(66,"div",43),l.TgZ(67,"div",2),l.TgZ(68,"div",44),l.TgZ(69,"ejs-grid",45,46),l.NdJ("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.onLoad(e)})("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.onRowSelected(e)})("actionComplete",function(e){return t.onActionComplete(e)}),l.ALo(71,"async"),l.TgZ(72,"e-columns"),l._UZ(73,"e-column",47),l._UZ(74,"e-column",48),l._UZ(75,"e-column",49),l._UZ(76,"e-column",50),l._UZ(77,"e-column",51),l._UZ(78,"e-column",52),l._UZ(79,"e-column",53),l._UZ(80,"e-column",54),l._UZ(81,"e-column",55),l._UZ(82,"e-column",56),l._UZ(83,"e-column",57),l._UZ(84,"e-column",58),l._UZ(85,"e-column",59),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(86,wa,25,0,"ng-template",null,60,l.W1O),l.qZA()),2&e&&(l.Q6J("ButtonNav",t.ButtonNav),l.xp6(1),l.Q6J("formGroup",t.FormAddObat),l.xp6(7),l.Q6J("LabelCaption","Depo Farmasi"),l.xp6(2),l.Q6J("dataSource",l.lcZ(12,76,t.setupOutletService.dataSource))("fields",t.SetupOutletDropdownField)("allowFiltering",!0),l.xp6(4),l.Q6J("modal-title","Daftar Pasien")("idKode","no_rekam_medis")("idTitle","nama_pasien")("label","Pasien")("lookup-url",t.UrlLookupDaftarPasien)("filter-lookup",t.Config.LookupPasien.filter)("columns",t.Config.LookupPasien.columns),l.xp6(10),l.Q6J("ngIf",!t.is_racikan.value),l.xp6(1),l.Q6J("ngIf",t.is_racikan.value),l.xp6(1),l.Q6J("ngIf",t.is_racikan.value),l.xp6(7),l.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1),l.xp6(7),l.Q6J("allowFiltering",!0)("dataSource",t.dataSourceLabelPemakaian)("fields",t.DropdownLabelFields),l.xp6(1),l.Q6J("ngIf",!t.is_racikan.value),l.xp6(7),l.Q6J("allowFiltering",!0)("dataSource",t.dataSourceTambahanAturanPakai)("fields",t.DropdownAturanFields),l.xp6(2),l.Tol(t.width>=1023&&t.width<=1200?"pt-1":"pt-4"),l.xp6(1),l.Q6J("hidden","input"!=t.FormAddObatState),l.xp6(1),l.Q6J("disabled",t.FormAddObat.invalid),l.xp6(2),l.Q6J("hidden",t.width>=1023&&t.width<=1200),l.xp6(2),l.Q6J("hidden","input"==t.FormAddObatState),l.xp6(1),l.Q6J("disabled",t.FormAddObat.invalid),l.xp6(2),l.Q6J("hidden",t.width>=1023&&t.width<=1200),l.xp6(2),l.Q6J("lookup-url",t.urlRacikan)("columns",t.GridLookUpItem.columns)("columnsChild",t.GridLookUpItem.columnsChild)("filter-lookup",t.GridLookUpItem.filter)("queryString","set_racikan_id")("modal-title","Data Racikan Dokter"),l.xp6(2),l.Q6J("lookup-url",t.urlTemplateResep)("columns",t.GridlookUpTemplateResep.columns)("columnsChild",t.GridlookUpTemplateResep.columnsChild)("filter-lookup",t.GridlookUpTemplateResep.filter)("modal-title","Data Template Resep Dokter")("queryString","resep_id"),l.xp6(6),l.Q6J("dataSource",l.lcZ(71,78,t.resepDokterService.dataDetail$))("childGrid",t.ChildGrid)("toolbar",t.GridDaftarObatToolbar)("allowResizing",!0),l.xp6(4),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!1)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1))},directives:[u.G,n._Y,n.JL,n.sg,et.D,tt.rI,n.JJ,n.u,ha.E,n.Wl,i.O5,ma.Uw,tt.oX,ga.K,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR,n.Fj],pipes:[i.Ov],styles:["#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}.e-grid[_ngcontent-%COMP%]   .e-detailheadercell[_ngcontent-%COMP%], div.e-gridcontent[_ngcontent-%COMP%]   tr.e-detailrow[_ngcontent-%COMP%]   td.e-detailcell[_ngcontent-%COMP%]   div.e-headercontent[_ngcontent-%COMP%]   th.e-headercell[_ngcontent-%COMP%], td.e-detailcell.e-lastrowcell[_ngcontent-%COMP%]{background-color:var(--biru-muda)!important}"]}),e})();const Ca=JSON.parse('{"GridColumns":[{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":50}]}');var Da=a.t(Ca,2),ya=a(7232),Ia=a(3864);const Ra=["LookupRacikan"],qa=["GridResepRacikan"],Ea=["itemTemplate"],Fa=["modalTambahanHariResep"],Na=function(){return{wrapMode:"Both"}};let Ga=(()=>{class e{constructor(e,t,a,i,n,r,o,l){this.resepDokterService=e,this.transaksiObatIrjaService=t,this.router=a,this.encryptionService=i,this.activatedRoute=n,this.utilityService=r,this.utilityHelperService=o,this.formBuilder=l,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"},{Id:"simpan",Captions:"Simpan Penjualan Resep",Icons1:"fa-save fa-sm"}],this.GridConfig=Da,this.inputFieldState="detail",this.keterangan=(e,t)=>t.nama_obat+", "+t.ket_label+", "+t.ket_aturan,this.quantity=(e,t)=>t.qty_resep+" "+t.nama_satuan,this.totalharga=(e,t)=>t.is_racikan?t.harga_jual_apotek:t.qty_resep*t.harga_jual_apotek,this.dataSourceChild=[],this.dataSource=[],this.dataHeader=[]}ngOnInit(){this.formInput=this.formBuilder.group({pasien:["",[]],poli:["",[]],dokter:["",[]],umur:["",[]],total_bayar_resep:[0,[]]}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}ngAfterViewInit(){let e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(e),this.onLoadDetailData(e)}onLoadDetailData(e){this.resepDokterService.onGetById(e).subscribe(e=>{this.dataHeader=e.data,this.dataSource=e.data.details,this.GridResepRacikan.refresh(),this.mapingRacikan(e.data.details),this.formInput.setValue({poli:e.data.nama_poli,pasien:e.data.nama_pasien,dokter:e.data.nama_dokter,umur:e.data.tgl_lahir,total_bayar_resep:0}),this.imageSrc=e.data.nama_foto})}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleSelected(e){let t=0;this.GridResepRacikan.getSelectedRecords().map(e=>{t+=e.is_racikan?e.harga_jual_apotek:e.qty_resep*e.harga_jual_apotek,this.total_bayar_resep.setValue(t)})}onClickButtonNav(e){switch(e){case"kembali":this.router.navigateByUrl("dashboard/Pharmacy/antrian-farmasi");break;case"simpan":let e=this.dataHeader;e.details=this.GridResepRacikan.getSelectedRecords(),this.transaksiObatIrjaService.Insert(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Data Berhasil Tersimpan",e.message).then(()=>{this.router.navigateByUrl("dashboard/Pharmacy/antrian-farmasi")})})}}get total_bayar_resep(){return this.formInput.get("total_bayar_resep")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.f),l.Y36(_),l.Y36(o.F0),l.Y36(h.C),l.Y36(o.gz),l.Y36(T.t),l.Y36(ya.j),l.Y36(n.qu))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-transaksi-obat-irja"]],viewQuery:function(e,t){if(1&e&&(l.Gf(Ra,5),l.Gf(qa,5),l.Gf(Ea,5),l.Gf(Fa,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.LookupRacikan=e.first),l.iGM(e=l.CRH())&&(t.GridResepRacikan=e.first),l.iGM(e=l.CRH())&&(t.itemTemplate=e.first),l.iGM(e=l.CRH())&&(t.modalTambahanHariResep=e.first)}},decls:26,vars:40,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row"],[1,"col-sm-4"],[1,"row","mb-3"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"img-thumbnail",2,"width","120px","max-width","120px","height","150px","max-height","150px",3,"src"],["formControlName","poli",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],[1,"col-sm-8"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 20rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound","rowSelected","rowDeselected"],["GridResepRacikan",""],[3,"width","field","visible","type","textAlign","headerTextAlign"],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","harga_jual_apotek","headerText","Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width"],["field","harga_jual_apotek","headerText","Total","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width","valueAccessor"],[1,"row","pe-2"],[1,"col-sm-5"],[1,"col-sm-7"],["formControlName","total_bayar_resep",3,"label","isFooter","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),l.TgZ(1,"form",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l._UZ(6,"img",6),l.qZA(),l.qZA(),l._UZ(7,"mol-input-text",7),l._UZ(8,"mol-input-text",8),l._UZ(9,"mol-input-text",9),l._UZ(10,"mol-input-text",10),l.qZA(),l.TgZ(11,"div",11),l.TgZ(12,"div",12),l.TgZ(13,"div",13),l.TgZ(14,"ejs-grid",14,15),l.NdJ("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.handleSelected(e)})("rowDeselected",function(e){return t.handleSelected(e)}),l.TgZ(16,"e-columns"),l._UZ(17,"e-column",16),l._UZ(18,"e-column",17),l._UZ(19,"e-column",18),l._UZ(20,"e-column",19),l._UZ(21,"e-column",20),l.qZA(),l.qZA(),l.TgZ(22,"div",21),l._UZ(23,"div",22),l.TgZ(24,"div",23),l._UZ(25,"mol-input-numeric",24),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav",t.ButtonNav),l.xp6(1),l.Q6J("formGroup",t.formInput),l.xp6(5),l.Q6J("src",t.imageSrc?t.imageSrc:"../../../../../../assets/image/pendaftaran-ulang-pasien/blank.png",l.LSH),l.xp6(1),l.Q6J("label","Poli")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Dokter")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Pasien")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Umur")("inputFieldState",t.inputFieldState),l.xp6(4),l.Q6J("dataSource",t.dataSource)("childGrid",t.childGrid)("allowTextWrap",!0)("textWrapSettings",l.DdM(39,Na)),l.xp6(3),l.Q6J("width",50)("field","Checkbox")("visible",!0)("type","checkbox")("textAlign","Center")("headerTextAlign","Center"),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",120)("valueAccessor",t.quantity),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",120),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",t.totalharga),l.xp6(4),l.Q6J("label","Total Bayar Resep")("isFooter",!0)("inputFieldState","detail")("inputFieldState",t.inputFieldState))},directives:[u.G,n._Y,n.JL,n.sg,K._,n.JJ,n.u,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR,Ia.G],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),e})();const Oa=["LookupRacikan"],Pa=["GridResepRacikan"],Ba=["itemTemplate"],Ja=["modalTambahanHariResep"],Ma=function(){return{wrapMode:"Both"}};let Ua=(()=>{class e{constructor(e,t,a,i,n,r,o,l){this.resepDokterService=e,this.transaksiObatIrjaService=t,this.router=a,this.encryptionService=i,this.activatedRoute=n,this.utilityService=r,this.utilityHelperService=o,this.formBuilder=l,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"}],this.GridConfig=Da,this.inputFieldState="detail",this.keterangan=(e,t)=>t.nama_obat+", "+t.ket_label+", "+t.ket_aturan,this.quantity=(e,t)=>t.qty_resep+" "+t.nama_satuan,this.totalharga=(e,t)=>t.is_racikan?t.harga_jual_apotek:t.qty_resep*t.harga_jual_apotek,this.dataSourceChild=[],this.dataSource=[],this.dataHeader=[]}ngOnInit(){this.formInput=this.formBuilder.group({pasien:["",[]],poli:["",[]],dokter:["",[]],umur:["",[]],total_bayar_resep:[0,[]]}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}ngAfterViewInit(){let e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(e),this.onLoadDetailData(e)}onLoadDetailData(e){this.resepDokterService.onGetById(e).subscribe(e=>{this.dataHeader=e.data,this.dataSource=e.data.details,this.GridResepRacikan.refresh(),this.mapingRacikan(e.data.details),this.formInput.setValue({poli:e.data.nama_poli,pasien:e.data.nama_pasien,dokter:e.data.nama_dokter,umur:e.data.tgl_lahir,total_bayar_resep:0}),this.imageSrc=e.data.nama_foto})}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleSelected(e){let t=0;this.GridResepRacikan.getSelectedRecords().map(e=>{t+=e.is_racikan?e.harga_jual_apotek:e.qty_resep*e.harga_jual_apotek,this.total_bayar_resep.setValue(t)})}onClickButtonNav(e){switch(e){case"kembali":this.router.navigateByUrl("dashboard/Pharmacy/antrian-farmasi");break;case"simpan":let e=this.dataHeader;e.details=this.GridResepRacikan.getSelectedRecords(),this.transaksiObatIrjaService.Insert(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Data Berhasil Tersimpan",e.message).then(()=>{this.router.navigateByUrl("dashboard/Pharmacy/antrian-farmasi")})})}}get total_bayar_resep(){return this.formInput.get("total_bayar_resep")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.f),l.Y36(_),l.Y36(o.F0),l.Y36(h.C),l.Y36(o.gz),l.Y36(T.t),l.Y36(ya.j),l.Y36(n.qu))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-view-resep-irja"]],viewQuery:function(e,t){if(1&e&&(l.Gf(Oa,5),l.Gf(Pa,5),l.Gf(Ba,5),l.Gf(Ja,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.LookupRacikan=e.first),l.iGM(e=l.CRH())&&(t.GridResepRacikan=e.first),l.iGM(e=l.CRH())&&(t.itemTemplate=e.first),l.iGM(e=l.CRH())&&(t.modalTambahanHariResep=e.first)}},decls:25,vars:34,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row"],[1,"col-sm-4"],[1,"row","mb-3"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"img-thumbnail",2,"width","120px","max-width","120px","height","150px","max-height","150px",3,"src"],["formControlName","poli",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],[1,"col-sm-8"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 20rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound","rowSelected","rowDeselected"],["GridResepRacikan",""],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","harga_jual_apotek","headerText","Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width"],["field","harga_jual_apotek","headerText","Total","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width","valueAccessor"],[1,"row","pe-2"],[1,"col-sm-5"],[1,"col-sm-7"],["formControlName","total_bayar_resep",3,"label","isFooter","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout",0),l.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),l.TgZ(1,"form",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l._UZ(6,"img",6),l.qZA(),l.qZA(),l._UZ(7,"mol-input-text",7),l._UZ(8,"mol-input-text",8),l._UZ(9,"mol-input-text",9),l._UZ(10,"mol-input-text",10),l.qZA(),l.TgZ(11,"div",11),l.TgZ(12,"div",12),l.TgZ(13,"div",13),l.TgZ(14,"ejs-grid",14,15),l.NdJ("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.handleSelected(e)})("rowDeselected",function(e){return t.handleSelected(e)}),l.TgZ(16,"e-columns"),l._UZ(17,"e-column",16),l._UZ(18,"e-column",17),l._UZ(19,"e-column",18),l._UZ(20,"e-column",19),l.qZA(),l.qZA(),l.TgZ(21,"div",20),l._UZ(22,"div",21),l.TgZ(23,"div",22),l._UZ(24,"mol-input-numeric",23),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ButtonNav",t.ButtonNav),l.xp6(1),l.Q6J("formGroup",t.formInput),l.xp6(5),l.Q6J("src",t.imageSrc?t.imageSrc:"../../../../../../assets/image/pendaftaran-ulang-pasien/blank.png",l.LSH),l.xp6(1),l.Q6J("label","Poli")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Dokter")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Pasien")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Umur")("inputFieldState",t.inputFieldState),l.xp6(4),l.Q6J("dataSource",t.dataSource)("childGrid",t.childGrid)("allowTextWrap",!0)("textWrapSettings",l.DdM(33,Ma)),l.xp6(3),l.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",120)("valueAccessor",t.quantity),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",120),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",t.totalharga),l.xp6(4),l.Q6J("label","Total Bayar Resep")("isFooter",!0)("inputFieldState","detail")("inputFieldState",t.inputFieldState))},directives:[u.G,n._Y,n.JL,n.sg,K._,n.JJ,n.u,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR,Ia.G],styles:[""]}),e})();const Qa=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"id_poli","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_poli","headerText":"Kode Ruangan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_poli","headerText":"Nama Ruangan","type":"string","visible":true}],"filter":[{"field":"kode_poli","filter":"like","title":"Kode Ruangan"},{"field":"nama_ruangan","filter":"like","title":"Nama Ruangan"}]}');var La=a.t(Qa,2);const Ha=JSON.parse('{"GridColumns":[{"field":"id_register","headerText":"Id","type":"number","format":"","textAlign":"left","visible":false,"editType":"defaultEdit"},{"field":"nama_pasien","headerText":"Nama Pasien","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"bed_no","headerText":"Bed","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Nama Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}]}');var Ka=a.t(Ha,2);const Ya=JSON.parse('{"GridColumns":[{"field":"id_register","headerText":"Id","type":"number","format":"","textAlign":"left","visible":false,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Nomor Resep","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Dokter","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"status_resep","headerText":"Status Resep","type":"string","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":100}]}');var ja=a.t(Ya,2),Va=a(1009);let za=(()=>{class e{constructor(e,t){this.httpOperationService=e,this.notificationService=t,this.API=g.PHARMACY.TRANSAKSI_OBAT.TRANSAKSI_OBAT_IRNA,this.dataResep=new G.X([])}Insert(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT+"/"+e,[]).pipe((0,m.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}setResep(e){this.dataResep.next(e)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(b.d),l.LFG(f.g))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Wa=a(7958);const Xa=["LookupKodeRuangan"],$a=["GridDetailResep"],ei=["GridPasien"];function ti(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"span"),l.TgZ(1,"mol-grid",4,16),l.NdJ("row-selected",function(t){return l.CHM(e),l.oxw().handleSelectedRowResep(t)}),l.ALo(3,"async"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("grid-height","calc(100vh - 20rem)")("grid-DataSource",l.lcZ(3,5,e.transaksiObatIrnaService.dataResep))("grid-paging",!1)("grid-lines","Both")("columns",e.GridConfigResep.GridColumns)}}const ai=function(){return{wrapMode:"Both"}};function ii(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"span"),l.TgZ(1,"button",17),l.NdJ("click",function(){return l.CHM(e),l.oxw().handelClickLihatresep()}),l._UZ(2,"i",18),l._uU(3," Lihat Resep"),l.qZA(),l.TgZ(4,"button",19),l.NdJ("click",function(){return l.CHM(e),l.oxw().handleClickSimpan()}),l._UZ(5,"i",20),l._uU(6," Simpan Transaksi Obat"),l.qZA(),l.TgZ(7,"ejs-grid",21,22),l.NdJ("rowDataBound",function(t){return l.CHM(e),l.oxw().rowDataBound(t)})("dataBound",function(){return l.CHM(e),l.oxw().onDataBound()}),l.TgZ(9,"e-columns"),l._UZ(10,"e-column",23),l._UZ(11,"e-column",24),l._UZ(12,"e-column",25),l._UZ(13,"e-column",26),l.qZA(),l.qZA(),l.TgZ(14,"div",27),l._UZ(15,"div",28),l.TgZ(16,"div",29),l._UZ(17,"mol-input-numeric",30),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(7),l.Q6J("dataSource",e.DataSourceDetailResep)("childGrid",e.childGrid)("allowTextWrap",!0)("textWrapSettings",l.DdM(22,ai)),l.xp6(3),l.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",e.keterangan),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",e.quantity),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",130),l.xp6(1),l.Q6J("visible",!0)("allowEditing",!0)("width",130)("valueAccessor",e.hargajual),l.xp6(4),l.Q6J("label","Total Bayar Resep")("isFooter",!0)("inputFieldState","detail")("inputFieldState",e.inputFieldState)}}const ni=[{path:"",component:null,data:{title:"Pharmacy"}},{path:"antrian-farmasi",component:F,data:{title:"Antrian Pharmacy"}},{path:"setup-formularium",component:jt,data:{title:"Setup Formularium"}},{path:"resep-racikan",component:Ze,data:{title:"Resep Racikan"}},{path:"setup-data",component:null,data:{title:"Setup Data"},children:[{path:"setup-tipe-outlet",component:bt,data:{title:"Setup Tipe Outlet"}},{path:"setup-outlet",component:nt,data:{title:"Setup Outlet"}},{path:"setup-grup-obat",component:Ue,data:{title:"Setup Grup Obat"}},{path:"setup-cara-pakai-obat",component:Ge,data:{title:"Setup Cara Pakai Obat"}},{path:"setup-rute-pemberian-obat",component:ct,data:{title:"Setup rute Pemberian Obat"}},{path:"setup-label-pemakaian-obat",component:je,data:{title:"Setup Label Pemakaian Obat"}}]},{path:"transaksi-obat",component:null,data:{title:"Transaksi Obat"},children:[{path:"view-obat-irja/:id/:key",component:Ua,data:{title:"View Resep Rawat Jalan"}},{path:"transaksi-obat-irja/:id/:key",component:Ga,data:{title:"Transaksi Obat Rawat Jalan"}},{path:"transaksi-obat-irna",component:(()=>{class e{constructor(e,t,a,i){this.formBuilder=e,this.resepDokterIrnaService=t,this.transaksiObatIrnaService=a,this.admisiPasienRawatInapService=i,this.urlRuangan=la.API_BILLING.SETUP_DATA.SETUP_POLI.GET_ALL_POLI_FOR_LOOKUP_RAWAT_INAP,this.LookupGridRuangan=La,this.GridConfig=Ka,this.GridConfigResep=ja,this.DataSourcePasien=[],this.DataSourceResep=[],this.DataSourceDetailResep=[],this.DataSourceDetailResepRacikan=[],this.inputFieldState="detail",this.handleClickResep=!1,this.currentResepId=null,this.currentRegisterId=1,this.keterangan=(e,t)=>t.nama_obat+", "+t.ket_label+", "+t.ket_aturan,this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan,this.hargajual=(e,t)=>t.harga_jual_apotek*t.qty_harian}ngOnInit(){this.formInput=this.formBuilder.group({nama_pasien:["",[]],umur:["",[]],bed:["",[]],dokter:["",[]],nomor_rm:["",[]],nomor_registrasi:["",[]],total_bayar_resep:[0,[]]}),this.childGrid={dataSource:this.DataSourceDetailResepRacikan,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfigResep.columnsChild},this.set(1)}heandleSelectedRuangan(e){console.log(e),this.admisiPasienRawatInapService.onGetPasienByPoli(e.id_poli).subscribe(e=>{this.DataSourcePasien=e.data,this.GridPasien.Grid.refresh()}),this.handleClickResep=!1}set(e){this.resepDokterIrnaService.onGetByIdRegisterToTrans(e).subscribe(e=>{this.transaksiObatIrnaService.setResep(e.data),console.log(e.data)})}handleSelectedRow(e){console.log(e),this.currentRegisterId=e.data.id_register,this.formInput.setValue({nama_pasien:e.data.nama_pasien,umur:"",bed:e.data.bed_no,dokter:e.data.nama_dokter,nomor_rm:e.data.no_rekam_medis,nomor_registrasi:e.data.no_register,total_bayar_resep:0}),this.resepDokterIrnaService.onGetByIdRegisterToTrans(this.currentRegisterId).subscribe(e=>{this.transaksiObatIrnaService.setResep(e.data)})}handleSelectedRowResep(e){this.handleClickResep=!0,this.onLoadDetailData(e.data.resep_id),this.currentResepId=e.data.resep_id}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridDetailResep.detailRowModule.expandAll()}onLoadDetailData(e){this.resepDokterIrnaService.onGetById(e).subscribe(e=>{this.DataSourceDetailResep=e.data.details,this.GridDetailResep.refresh(),this.mapingRacikan(e.data.details);let t=0;this.DataSourceDetailResep.map(e=>{t+=e.is_racikan?e.harga_jual_apotek:e.qty_resep*e.harga_jual_apotek,this.total_bayar_resep.setValue(t)})})}mapingRacikan(e){this.DataSourceDetailResepRacikan=[],e.map(e=>{this.DataSourceDetailResepRacikan.push(...e.racikans)}),this.childGrid={dataSource:this.DataSourceDetailResepRacikan,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfigResep.columnsChild}}handelClickLihatresep(){this.handleClickResep=!1}handleClickSimpan(){this.transaksiObatIrnaService.Insert(this.currentResepId).subscribe(e=>{this.handleClickResep=!1,this.resepDokterIrnaService.onGetByIdRegisterToTrans(this.currentRegisterId).subscribe(e=>{this.transaksiObatIrnaService.setResep(e.data)})})}get total_bayar_resep(){return this.formInput.get("total_bayar_resep")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(n.qu),l.Y36(Va.Z),l.Y36(za),l.Y36(Wa.l))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-transaksi-obat-irna"]],viewQuery:function(e,t){if(1&e&&(l.Gf(Xa,5),l.Gf($a,5),l.Gf(ei,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.LookupKodeRuangan=e.first),l.iGM(e=l.CRH())&&(t.GridDetailResep=e.first),l.iGM(e=l.CRH())&&(t.GridPasien=e.first)}},decls:20,vars:27,consts:[[1,"row"],[1,"col-sm-4"],[3,"lookup-url","idKode","modal-title","idTitle","columns","filter-lookup","label","onGetSelectedData"],["LookupKodeRuangan",""],[3,"grid-height","grid-DataSource","grid-paging","grid-lines","columns","row-selected"],["GridPasien",""],[1,"col-sm-8"],[3,"formGroup"],[1,"col-sm-6"],["formControlName","nama_pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],["formControlName","bed",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","nomor_rm",3,"label","inputFieldState"],["formControlName","nomor_registrasi",3,"label","inputFieldState"],[4,"ngIf"],["GridResep",""],["type","button",1,"app-btn-master","me-5","btn","btn-sm","btn-primary-outline",3,"click"],[1,"fas","fa-arrow-left"],["type","button",1,"app-btn-master","btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-save"],["height","calc(100vh - 23rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound"],["GridDetailResep",""],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","harga_jual_apotek","headerText","Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width"],["field","harga_jual_apotek","headerText","Total Harga","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width","valueAccessor"],[1,"row","pe-2"],[1,"col-sm-5"],[1,"col-sm-7"],["formControlName","total_bayar_resep",3,"label","isFooter","inputFieldState"]],template:function(e,t){1&e&&(l.TgZ(0,"org-card-layout"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"org-input-look-up-kode",2,3),l.NdJ("onGetSelectedData",function(e){return t.heandleSelectedRuangan(e)}),l.qZA(),l.TgZ(5,"mol-grid",4,5),l.NdJ("row-selected",function(e){return t.handleSelectedRow(e)}),l.qZA(),l.qZA(),l.TgZ(7,"div",6),l.TgZ(8,"form",7),l.TgZ(9,"div",0),l.TgZ(10,"div",8),l._UZ(11,"mol-input-text",9),l._UZ(12,"mol-input-text",10),l._UZ(13,"mol-input-text",11),l.qZA(),l.TgZ(14,"div",8),l._UZ(15,"mol-input-text",12),l._UZ(16,"mol-input-text",13),l._UZ(17,"mol-input-text",14),l.qZA(),l.qZA(),l.YNc(18,ti,4,7,"span",15),l.YNc(19,ii,18,23,"span",15),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("lookup-url",t.urlRuangan)("idKode","kode_poli")("modal-title","Data Ruangan")("idTitle","nama_poli")("columns",t.LookupGridRuangan.columns)("filter-lookup",t.LookupGridRuangan.filter)("label","Ruangan"),l.xp6(2),l.Q6J("grid-height","calc(100vh - 16rem)")("grid-DataSource",t.DataSourcePasien)("grid-paging",!1)("grid-lines","Both")("columns",t.GridConfig.GridColumns),l.xp6(3),l.Q6J("formGroup",t.formInput),l.xp6(3),l.Q6J("label","Pasien")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Umur")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","Bed")("inputFieldState",t.inputFieldState),l.xp6(2),l.Q6J("label","Dokter")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","No Rm")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("label","No Reg")("inputFieldState",t.inputFieldState),l.xp6(1),l.Q6J("ngIf",!t.handleClickResep),l.xp6(1),l.Q6J("ngIf",t.handleClickResep))},directives:[u.G,ha.E,Y.q,n._Y,n.JL,n.sg,K._,n.JJ,n.u,i.O5,j.MwP,j.SRY,j.NQQ,j.iKq,j.fMR,Ia.G],pipes:[i.Ov],styles:[""]}),e})(),data:{title:"Transaksi Obat Rawat Inap"}},{path:"input-resep-irja",component:Za,data:{title:"Input Resep Irja"}}]},{path:"refund-obat",component:null,data:{title:"Refund Obat"},children:[{path:"refund-obat-irja",component:ne,data:{title:"Refund Obat Rawat Jalan"}},{path:"refund-obat-irna",component:Ae,data:{title:"Refund Obat Rawat Inap"}}]}];let ri=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.Bz.forChild(ni)],o.Bz]}),e})(),oi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,n.u5,n.UX,r.m,ri]]}),e})()}}]);