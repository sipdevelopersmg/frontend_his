(self.webpackChunkdashboard_template=self.webpackChunkdashboard_template||[]).push([[210],{210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DashboardDokterModule:()=>un});var i=a(1116),n=a(1041),r=a(4839),o=a(5424),l=a(3835),d=a(2812),s=a(5366),u=a(5228),c=a(5740),g=a(3393),h=a(266),m=a(8512),p=a(8843),_=a(7727),f=a(7369);let b=(()=>{class e{constructor(e,t,a,i){this.navigationService=e,this.notificationService=t,this.daftarPasienService=a,this.httpOperationService=i,this.API_CONFIG=p,this.ShowInformasiPasien=new m.X(!1),this.ShowInformasiPasien$=this.ShowInformasiPasien.asObservable(),this.JenisRawat=new m.X(""),this.JenisRawat$=this.JenisRawat.asObservable()}onSetSidebarMenuForDashboardDokter(){this.onSetJenisRawatForDashboardDokter();let e="";switch(this.JenisRawat.value){case"IRJA":e="Dokter/resep";break;case"IRNA":e="Dokter/resep-irna/daftar-resep-irna";break;case"IRDA":e="Dokter/resep-irda/daftar-resep-irda"}localStorage.setItem("ActiveSidebarMenu",JSON.stringify([{button:[],caption:"Kembali",fieldgrid:[],icon:"fas fa-chevron-left",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/daftar-pasien"},{button:[],caption:"Konsul",fieldgrid:[],icon:"fas fa-user-edit",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/konsul"},{button:[],caption:"Diagnosa (Dx)",fieldgrid:[],icon:"fas fa-diagnoses",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/diagnosa"},{button:[],caption:"Resep (Rx)",fieldgrid:[],icon:"fas fa-file-prescription",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:e},{button:[],caption:"Radiologi",fieldgrid:[],icon:"fas fa-binoculars",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/radiologi/riwayat-pemeriksaan"},{button:[],caption:"Laboratorium",fieldgrid:[],icon:"fas fa-flask",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/laboratorium/riwayat-pemeriksaan"},{button:[],caption:"Alergi",fieldgrid:[],icon:"fas fa-allergies",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/alergi"},{button:[],caption:"Vital Sign",fieldgrid:[],icon:"fas fa-file-medical",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/vital-sign"},{button:[],caption:"Surat Perintah Mondok",fieldgrid:[],icon:"fas fa-file-medical",id_menu_sidebar:0,id_menu_sidebar_parent:0,id_top_menu:0,is_parent:!0,sidebarChild:[],url:"Dokter/surat-perintah-mondok"}])),this.navigationService.onSetActiveSidebarMenuSubject(JSON.parse(localStorage.getItem("ActiveSidebarMenu")))}onSetSidebarMenuTitle(){this.navigationService.onSetMainMenuTitle("Dashboard Dokter")}onSetJenisRawatForDashboardDokter(){let e=JSON.parse(localStorage.getItem("ActivePasien"));e&&e.jenis_rawat&&this.JenisRawat.next(e.jenis_rawat)}onDestroySidebarMenuWhenNavigateToDaftarPasien(){localStorage.removeItem("ActiveSidebarMenu"),this.navigationService.onSetActiveSidebarMenuSubject([])}onPeriksaPasien(){return this.httpOperationService.defaultPutRequest(this.API_CONFIG.API_DASHBOARD_DOKTER.API_PERIKSA_PASIEN,{id_register:this.daftarPasienService.ActivePasien.value.id_register,id_poli:this.daftarPasienService.ActivePasien.value.id_poli}).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(c.f),s.LFG(g.g),s.LFG(h.O),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=a(7761),T=a(3762);function A(e,t){if(1&e&&(s.TgZ(0,"div",9),s.TgZ(1,"div",10),s._UZ(2,"img",11),s.qZA(),s.TgZ(3,"div"),s.TgZ(4,"div",12),s.TgZ(5,"h5",13),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"div",12),s.TgZ(8,"p",14),s._uU(9),s.ALo(10,"titlecase"),s.qZA(),s.qZA(),s.TgZ(11,"div",15),s.TgZ(12,"div",16),s.TgZ(13,"p",17),s._uU(14,"Tgl. Lahir"),s.qZA(),s.qZA(),s.TgZ(15,"div",18),s.TgZ(16,"p",14),s._uU(17),s.ALo(18,"date"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div"),s.TgZ(20,"div",19),s.TgZ(21,"div",16),s.TgZ(22,"p",17),s._uU(23,"No. RM"),s.qZA(),s.qZA(),s.TgZ(24,"div",18),s.TgZ(25,"p",14),s._uU(26),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",19),s.TgZ(28,"div",16),s.TgZ(29,"p",17),s._uU(30,"No. Reg"),s.qZA(),s.qZA(),s.TgZ(31,"div",18),s.TgZ(32,"p",14),s._uU(33),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"div",20),s.TgZ(35,"div",16),s.TgZ(36,"p",17),s._uU(37,"Tgl. Masuk"),s.qZA(),s.qZA(),s.TgZ(38,"div",18),s.TgZ(39,"p",14),s._uU(40),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"div"),s.TgZ(42,"div",19),s.TgZ(43,"div"),s.TgZ(44,"p",17),s._uU(45,"DPJP"),s.qZA(),s.qZA(),s.TgZ(46,"div"),s.TgZ(47,"p",14),s._uU(48),s.qZA(),s.qZA(),s.qZA(),s.TgZ(49,"div",19),s.TgZ(50,"div"),s.TgZ(51,"p",17),s._uU(52,"PPJP"),s.qZA(),s.qZA(),s.TgZ(53,"div"),s.TgZ(54,"p",14),s._uU(55," : \xa0 "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(56,"div",20),s.TgZ(57,"div"),s.TgZ(58,"p",17),s._uU(59,"Debitur"),s.qZA(),s.qZA(),s.TgZ(60,"div"),s.TgZ(61,"p",14),s._uU(62),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.Q6J("hidden",e.ToggleVisibility),s.xp6(2),s.Q6J("src",e.daftarPasienService.ActivePasien.value.photo_url,s.LSH),s.xp6(1),s.Tol(e.screenWidth>=1920?"col-lg-2 col-md-3 col-sm-3 col-xs-3":"col-lg-3 col-md-3 col-sm-3 col-xs-3"),s.xp6(3),s.hij(" ",e.daftarPasienService.ActivePasien.value.nama_pasien," "),s.xp6(3),s.AsE(" ",e.daftarPasienService.ActivePasien.value.umur," / ",s.lcZ(10,29,e.daftarPasienService.ActivePasien.value.gender)," "),s.xp6(8),s.hij(" : \xa0 ",s.xi3(18,31,e.daftarPasienService.ActivePasien.value.tanggal_lahir,"dd/MM/yyyy")," "),s.xp6(2),s.Tol(e.screenWidth>=1920?"col-lg-2 col-md-3 col-sm-3 col-xs-3":"col-lg-3 col-md-3 col-sm-3 col-xs-3"),s.xp6(7),s.hij(" : \xa0 ",e.daftarPasienService.ActivePasien.value.no_rekam_medis," "),s.xp6(7),s.hij(" : \xa0 ",e.daftarPasienService.ActivePasien.value.no_register," "),s.xp6(7),s.hij(" : \xa0 ",e.daftarPasienService.ActivePasien.value.tgl_admisi," "),s.xp6(1),s.Tol(e.screenWidth>=1920?"col-lg-4 col-md-4 col-sm-4 col-xs-4":"col-lg-3 col-md-3 col-sm-3 col-xs-3"),s.xp6(2),s.Tol(e.screenWidth>=1920?"col-lg-2 col-md-2 col-sm-2 col-xs-2":"col-lg-4 col-md-4 col-sm-4 col-xs-4"),s.xp6(3),s.Tol(e.screenWidth>=1920?"col-lg-10 col-md-10 col-sm-10 col-xs-10":"col-lg-8 col-md-8 col-sm-8 col-xs-8"),s.xp6(2),s.hij(" : \xa0 ",e.daftarPasienService.ActivePasien.value.dpjp," "),s.xp6(2),s.Tol(e.screenWidth>=1920?"col-lg-2 col-md-2 col-sm-2 col-xs-2":"col-lg-4 col-md-4 col-sm-4 col-xs-4"),s.xp6(3),s.Tol(e.screenWidth>=1920?"col-lg-10 col-md-10 col-sm-10 col-xs-10":"col-lg-8 col-md-8 col-sm-8 col-xs-8"),s.xp6(4),s.Tol(e.screenWidth>=1920?"col-lg-2 col-md-2 col-sm-2 col-xs-2":"col-lg-4 col-md-4 col-sm-4 col-xs-4"),s.xp6(3),s.Tol(e.screenWidth>=1920?"col-lg-10 col-md-10 col-sm-10 col-xs-10":"col-lg-8 col-md-8 col-sm-8 col-xs-8"),s.xp6(2),s.hij(" : \xa0 ",e.daftarPasienService.ActivePasien.value.nama_debitur," ")}}let v=(()=>{class e{constructor(e,t,a,i){this.navigationService=e,this.daftarPasienService=t,this.dashboardDokterService=a,this.pendaftaranPasienBaruService=i,this.ToggleVisibility=!1,this.onToggledVisibility=new s.vpe,this.photo_pasien=""}onResize(e){this.onDetectScreenSize(e.srcElement.innerWidth)}ngOnInit(){this.onTogglingVisibility(),this.daftarPasienService.onGetActivePasien(),this.onDetectScreenSize(window.innerWidth)}ngAfterViewInit(){}onGetFotoPasien(){}onDetectScreenSize(e){this.screenWidth=e}onTogglingVisibility(){this.ToggleVisibility=!this.ToggleVisibility;let e=document.getElementById("ArrowVisibilty");1==this.ToggleVisibility?(e.classList.remove("fa-chevron-circle-up"),e.classList.add("fa-chevron-circle-down")):(e.classList.remove("fa-chevron-circle-down"),e.classList.add("fa-chevron-circle-up")),this.onToggledVisibility.emit(this.ToggleVisibility)}onGetHideTopMenuSubject(){this.navigationService.onGetHideTopMenuSubject().subscribe(e=>{if(!0===e){this.ToggleVisibility=e;let t=document.getElementById("ArrowVisibilty");1==this.ToggleVisibility&&(t.classList.remove("fa-chevron-circle-up"),t.classList.add("fa-chevron-circle-down")),this.onToggledVisibility.emit(e)}},e=>{console.log(e)},()=>{})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.f),s.Y36(h.O),s.Y36(b),s.Y36(T.P))},e.\u0275cmp=s.Xpm({type:e,selectors:[["dd-informasi-pasien"]],hostBindings:function(e,t){1&e&&s.NdJ("resize",function(e){return t.onResize(e)},!1,s.Jf7)},inputs:{ToggleVisibility:"ToggleVisibility"},outputs:{onToggledVisibility:"onToggledVisibility"},decls:10,vars:10,consts:[[1,"card","shadow-sm","border-0","bg-white","py-0"],[1,"card-body","px-1","py-0"],[1,"row","px-0","mx-0",3,"hidden"],[1,"col-11","pe-0","py-2"],["class","row",3,"hidden",4,"ngIf"],[1,"col-1"],[1,"row","text-end","align-items-end",2,"height","100%"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","cursor-pointer",3,"click"],["id","ArrowVisibilty",1,"fas","fa-chevron-circle-up","fa-lg","text-biru-muda"],[1,"row",3,"hidden"],[1,"col-lg-1","col-md-3","col-sm-3","col-xs-3","px-2","text-center"],["alt","",2,"height","5.4rem","max-height","5.4rem",3,"src"],[1,"mb-2"],[1,"text-biru-muda","mb-0"],[1,"text-hitam-muda","mb-0","informasi-pasien-text"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[1,"text-abu-tua","mb-0","informasi-pasien-text"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],[1,"row","mb-2"],[1,"row","mb-1"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.ALo(3,"async"),s.TgZ(4,"div",3),s.YNc(5,A,63,34,"div",4),s.qZA(),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"div",7),s.NdJ("click",function(){return t.onTogglingVisibility()}),s._UZ(9,"i",8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Tol(t.ToggleVisibility?"card-header-hidding-dd":"card-header-dd"),s.xp6(2),s.Q6J("hidden",s.lcZ(3,8,t.dashboardDokterService.ShowInformasiPasien$)),s.xp6(2),s.Tol(t.ToggleVisibility?"":"height-6rem"),s.xp6(1),s.Q6J("ngIf",t.daftarPasienService.ActivePasien.value),s.xp6(1),s.Tol(t.ToggleVisibility?"py-0":"py-1"))},directives:[i.O5],pipes:[i.Ov,i.rS,i.uU],styles:[".card-header-dd[_ngcontent-%COMP%]{height:6.25rem;max-height:6.25rem;transition:all .25s}.card-header-hidding-dd[_ngcontent-%COMP%]{height:1rem!important;max-height:1rem!important;transition:all .25s}.card-top-menu[_ngcontent-%COMP%]{background-color:#f6f4f7}.card-top-menu[_ngcontent-%COMP%]:hover{background-color:var(--biru-muda);transition:all .25s}p.font-cabin.mb-0[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{color:var(--biru-muda)}p.font-cabin.mb-0[_ngcontent-%COMP%]{font-size:14px}.card-top-menu[_ngcontent-%COMP%]:hover > .card-body[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-lg-12[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .card-top-menu[_ngcontent-%COMP%]:hover > .card-body[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-lg-12[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff!important}.height-6rem[_ngcontent-%COMP%]{height:6.25rem;max-height:6.25rem}.card-child[_ngcontent-%COMP%]{height:4rem}p.informasi-pasien-text[_ngcontent-%COMP%]{font-size:15px}"]}),e})();const Z=["TopMenuComponent"];let w=(()=>{class e{constructor(e,t,a,i,n,r,o){this.router=e,this.utilityService=t,this.activatedRoute=a,this.navigationService=i,this.notificationService=n,this.daftarPasienService=r,this.dashboardDokterService=o,this.ShowInformasiPasien=!1,this.SidebarMenuDatasource=[],this.ToggleTopMenu=!1,this.DashboardDokterState=!1}ngOnInit(){this.onCheckIsSidebarEmpty()}onClickNavbarBrand(e){this.SidebarCollapse=!this.SidebarCollapse}componentAdded(e){this.router.events.pipe((0,l.h)(e=>e instanceof o.m2)).subscribe(()=>{this.getChild(this.activatedRoute).data.subscribe(e=>{this.dashboardDokterService.ShowInformasiPasien.next("Beranda Dokter"===e.title||"Daftar Pasien"===e.title)})})}getChild(e){return e.firstChild?this.getChild(e.firstChild):e}onCollapseSidebar(){this.SidebarCollapse=!0,this.ToggleTopMenu=!0}onGetNotification(){}onCheckIsSidebarEmpty(){this.navigationService.onGetActiveSidebarMenuSubject().subscribe(e=>{e.length>0&&setTimeout(()=>{this.SidebarCollapse=!1},250)})}onClickBackToMainMenu(e){console.log(e)}onTogglingTopMenu(e){const t=document.getElementById("sidebar-section");!0===e?t.classList.add("hidding-top-menu"):t.classList.remove("hidding-top-menu")}handleClickButtonSidebar(e){this.dashboardDokterService.onPeriksaPasien().subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success",`${this.daftarPasienService.ActivePasien.value.nama_pasien} Finish Periksa`,"Kembali Ke Daftar Pasien").then(e=>{this.router.navigateByUrl("Dokter/daftar-pasien"),this.MolSidebarComponent.SidebarCollapse||(this.MolSidebarComponent.SidebarCollapse=!0,document.getElementById("NavbarBrand").click())})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(u.t),s.Y36(o.gz),s.Y36(c.f),s.Y36(g.g),s.Y36(h.O),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-dashboard-dokter"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Z,5),s.Gf(d.S,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.TopMenuComponent=e.first),s.iGM(e=s.CRH())&&(t.MolSidebarComponent=e.first)}},decls:15,vars:10,consts:[["id","dashboard-section"],[1,"wrapper"],[1,"row","px-0","mx-0"],["id","navbar-section",1,"bg-white","px-0"],[3,"onClickNavbarBrand"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","px-0"],["id","top-menu",1,"bg-white"],["id","sidebar-section",1,"p-0"],[3,"SidebarCollapse","IsAdaButtonSidebar","ButtonSidebarCaption","ButtonSidebarIcon","handleClickedButtonSidebar"],["id","content-section"],[3,"activate"]],template:function(e,t){1&e&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"section",3),s.TgZ(4,"atm-navbar",4),s.NdJ("onClickNavbarBrand",function(e){return t.onClickNavbarBrand(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",2),s.TgZ(6,"div",5),s.TgZ(7,"section",6),s._UZ(8,"dd-informasi-pasien"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",2),s.TgZ(10,"section",7),s.TgZ(11,"mol-sidebar",8),s.NdJ("handleClickedButtonSidebar",function(e){return t.handleClickButtonSidebar(e)}),s.ALo(12,"async"),s.qZA(),s.qZA(),s.TgZ(13,"section",9),s.TgZ(14,"router-outlet",10),s.NdJ("activate",function(e){return t.componentAdded(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(10),s.ekj("collapse-sidebar",t.SidebarCollapse),s.xp6(1),s.Q6J("SidebarCollapse",t.SidebarCollapse)("IsAdaButtonSidebar",s.lcZ(12,8,t.navigationService.ButtonSidebarMenuState))("ButtonSidebarCaption","Periksa Selesai")("ButtonSidebarIcon","fa-check-double fa-sm"),s.xp6(2),s.ekj("expand-content",t.SidebarCollapse))},directives:[k.h,v,d.S,o.lC],pipes:[i.Ov],styles:["section#navbar-section[_ngcontent-%COMP%]{height:3.5em;max-height:3.5em;box-shadow:2px 0 6px 0 #888;transition:all .25s;z-index:3}section#sidebar-section[_ngcontent-%COMP%]{width:20%;max-width:20%;height:calc(100vh - 4.5rem);max-height:calc(100vh - 4.5rem);z-index:2;box-shadow:2px 0 2px -2px #888;transition:all .25s;background-color:#f6f4f7;overflow-y:auto}section#sidebar-section.hidding-top-menu[_ngcontent-%COMP%]{height:calc(100vh - 4.5rem)!important;max-height:calc(100vh - 4.5rem)!important}.collapse-sidebar[_ngcontent-%COMP%]{width:7.5%!important;max-width:7.5%!important;overflow-y:hidden!important}section#content-section[_ngcontent-%COMP%]{width:80%;max-width:80%;height:calc(100vh - 4.5rem);max-height:calc(100vh - 4.5rem);transition:all .25s;padding:.5em .75em}.expand-content[_ngcontent-%COMP%]{width:92.5%!important;max-width:92.5%!important}.ngb-toasts[_ngcontent-%COMP%]{margin:4em .5em .5em!important;position:fixed;right:0;top:0;z-index:1200}.ngb-toasts[_ngcontent-%COMP%] > div.toast-header[_ngcontent-%COMP%] > button.btn-close[_ngcontent-%COMP%]{margin-right:0!important;margin-left:auto!important}.card-router-outlet[_ngcontent-%COMP%]{border-top:.25em solid #1a73e8}@media only screen and (min-width:992.98px) and (max-width:1199.98px){section#sidebar-section[_ngcontent-%COMP%]{width:20%;max-width:20%;height:calc(100vh - 3.5em);max-height:calc(100vh - 3.5em);z-index:2;box-shadow:2px 0 2px -2px #888;transition:all .7s}.collapse-sidebar[_ngcontent-%COMP%]{width:8%!important;max-width:8%!important}section#content-section[_ngcontent-%COMP%]{width:80%;max-width:80%;height:calc(100vh - 3.5em);max-height:calc(100vh - 3.5em);transition:all .7s;padding:.5em .75em}.expand-content[_ngcontent-%COMP%]{width:92%!important;max-width:92%!important}}@media only screen and (min-width:1366.98px){section#sidebar-section[_ngcontent-%COMP%]{width:15%;max-width:15%;height:calc(100vh - 4.5em);max-height:calc(100vh - 4.5em);z-index:2;box-shadow:2px 0 2px -2px #888;transition:all .7s}.collapse-sidebar[_ngcontent-%COMP%]{width:5.25%!important;max-width:5.25%!important}section#content-section[_ngcontent-%COMP%]{width:85%;max-width:85%;height:calc(100vh - 4.5em);max-height:calc(100vh - 4.5em);transition:all .7s;padding:.5em .75em}.expand-content[_ngcontent-%COMP%]{width:94.75%!important;max-width:94.75%!important}}"]}),e})();const S=JSON.parse('{"GridAlergiColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"alergi","headerText":"ALERGI","visible":true,"width":120},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tanggal_mulai_alergi","headerText":"TGL. MULAI ALERGI","visible":true,"type":"DateTime","format":"dd/MM/yyyy","width":120}]}');var x=a.t(S,2);let D=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API_CONFIG=p.API_DASHBOARD_DOKTER.ALERGI}onGetAllAlergi(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_ALL+e)}onPostSaveAlergi(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutUpdateAlergi(e){return this.httpOperationService.defaultPutRequest(this.API_CONFIG.PUT_UPDATE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=a(5343),R=a(651),C=a(8511),E=a(1753),q=a(8952),O=a(9456),I=a(1998),P=a(3391),N=a(5878),G=a(3410);const F=["OrgTabsRef"],B=function(){return[]};let M=(()=>{class e{constructor(e,t,a,i,r){this.formBuilder=e,this.alergiService=t,this.utilityService=a,this.navigationService=i,this.daftarPasienService=r,this.inputFieldState="normal",this.TabId="Data",this.Config=x,this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.FormInputData=this.formBuilder.group({id_register:[this.daftarPasienService.ActivePasien.value.id_register,[n.kI.required]],id_alergi:[0,[]],alergi:["",[n.kI.required]],tanggal_mulai_alergi:[new Date,[n.kI.required]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}handleSelectedTabId(e){this.TabId=e,"Input"==e||this.GetAllData()}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"},{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.id_alergi.setValue(0),this.alergi.setValue(""),this.tanggal_mulai_alergi.setValue(new Date)}GetAllData(){this.alergiService.onGetAllAlergi(this.daftarPasienService.ActivePasien.value.id_register).subscribe(e=>{this.GridDatasource=e.data})}SetFrom(e){this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;"normal"==this.inputFieldState?(delete e.id_alergi,e.id_register=this.daftarPasienService.ActivePasien.value.id_register,console.log(e),this.alergiService.onPostSaveAlergi(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.Cancel()})})):this.alergiService.onPutUpdateAlergi(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{this.Cancel()})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}get id_register(){return this.FormInputData.get("id_register")}get id_alergi(){return this.FormInputData.get("id_alergi")}get alergi(){return this.FormInputData.get("alergi")}get tanggal_mulai_alergi(){return this.FormInputData.get("tanggal_mulai_alergi")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(D),s.Y36(u.t),s.Y36(c.f),s.Y36(h.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-alergi"]],viewQuery:function(e,t){if(1&e&&s.Gf(F,7),2&e){let e;s.iGM(e=s.CRH())&&(t.OrgTabsRef=e.first)}},decls:23,vars:22,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","initialized","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],["formControlName","alergi",3,"label","IsFormControlInvalid","ValidatorsCaption","inputFieldState"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["formControlName","tanggal_mulai_alergi",3,"format"],[3,"ValidatorsCaption","IsFormControlInvalid","IsFormControlTouched"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Alergi"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("initialized",function(e){return t.InitalizedGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Alergi"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s._UZ(16,"mol-input-text",9),s.TgZ(17,"div",10),s.TgZ(18,"div",11),s._UZ(19,"atm-label",12),s.qZA(),s.TgZ(20,"div",13),s._UZ(21,"ejs-datepicker",14),s._UZ(22,"atm-validators",15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:s.DdM(21,B)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height","calc(100vh - 16rem)")("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.Config.GridAlergiColumns),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",t.FormInputData),s.xp6(3),s.Q6J("label","Nama Alergi")("IsFormControlInvalid",t.alergi.invalid)("ValidatorsCaption","Alergi Tidak Boleh Kosong")("inputFieldState",t.inputFieldState),s.xp6(3),s.Q6J("LabelCaption","Tgl. Mulai Alergi"),s.xp6(2),s.Q6J("format","dd/MM/yyyy"),s.xp6(1),s.Q6J("ValidatorsCaption","Tgl Mulai Alergi Tidak Boleh Kosong")("IsFormControlInvalid",t.tanggal_mulai_alergi.invalid)("IsFormControlTouched",t.tanggal_mulai_alergi.touched))},directives:[y.G,R.D,C.K,E.x,q.C,O.q,n._Y,n.JL,n.sg,I._,n.JJ,n.u,P.D,N.Lr,G._],styles:[""]}),e})(),J=(()=>{class e{constructor(e,t){this.navigationService=e,this.dashboardDokterService=t}ngOnInit(){this.dashboardDokterService.onSetSidebarMenuForDashboardDokter(),this.onSetStepperDatasource()}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}onSetStepperDatasource(){this.StepperDatasource=[{id:1,tgl_riwayat_pemeriksaan:new Date("09/10/2021"),riwayat_penyakit:{value:"RIWAYAT PENYAKIT 1"},riwayat_penyakit_lain:{value:"RIWAYAT PENYAKIT LAIN 1"},riwayat_operasi:{value:"RIWAYAT OPERASI 1"},rekonsiliasi_obat:{value:"REKONSILIASI OBAT 1"},pemeriksaan_penunjang:{value:"PEMERIKSAAN PENUNJANG 1"},pemeriksaan_fisik:{value:"PEMERIKSAAN FISIK 1"},informasi_tambahan:{value:"INFORMASI TAMBAHAN 1"},daftar_masalah_medis:{value:"DAFTAR MASALAH MEDIS 1"}},{id:2,tgl_riwayat_pemeriksaan:new Date("09/13/2021"),riwayat_penyakit:{value:"RIWAYAT PENYAKIT 2"},riwayat_penyakit_lain:{value:"RIWAYAT PENYAKIT LAIN 2"},riwayat_operasi:{value:"RIWAYAT OPERASI 2"},rekonsiliasi_obat:{value:"REKONSILIASI OBAT 2"},pemeriksaan_penunjang:{value:"PEMERIKSAAN PENUNJANG 2"},pemeriksaan_fisik:{value:"PEMERIKSAAN FISIK 2"},informasi_tambahan:{value:"INFORMASI TAMBAHAN 2"},daftar_masalah_medis:{value:"DAFTAR MASALAH MEDIS 2"}}]}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.f),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-assesmen-awal"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"org-card-layout")},directives:[y.G],styles:[""]}),e})();var U=a(7942),L=a(7585);let Q=(()=>{class e{constructor(e,t,a,i){this.router=e,this.navigationService=t,this.authenticationService=a,this.dashboardDokterService=i,this.MainMenu={id_menu:1,icon:"icon-pis",caption:"Daftar Pasien"}}ngOnInit(){this.dashboardDokterService.onSetSidebarMenuTitle(),this.UserFullName=this.authenticationService.currentUserValue.full_name,this.dashboardDokterService.onDestroySidebarMenuWhenNavigateToDaftarPasien()}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!1)},1)}handleClickSingleMenu(e){"Daftar Pasien"==e.NamaMenu&&this.router.navigateByUrl("Dokter/daftar-pasien")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(c.f),s.Y36(U.$),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-beranda-dokter"]],decls:8,vars:4,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-center","mb-2"],[1,"font-cabin","text-biru-tua"],[1,"font-roboto","text-biru-muda"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"IdMenu","NamaMenu","IconMenu","handleClickedSingleMenu"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h5",2),s._uU(3," Selamat Datang Di GRAHCIS, "),s.TgZ(4,"span",3),s._uU(5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"div",4),s.TgZ(7,"atm-single-menu",5),s.NdJ("handleClickedSingleMenu",function(e){return t.handleClickSingleMenu(e)}),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.hij(" ",t.UserFullName," "),s.xp6(2),s.Q6J("IdMenu",t.MainMenu.id_menu)("NamaMenu",t.MainMenu.caption)("IconMenu",t.MainMenu.icon))},directives:[L.k],styles:[""]}),e})();const j=JSON.parse('{"GridDaftarPasienIRNA":[{"allowEditing":true,"allowSorting":true,"editType":"numericEdit","field":"id_person","format":"N","headerText":"ID","type":"number","visible":false,"width":50},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tgl_masuk","format":"dd/MM/yyyy","type":"Date","headerText":"TGL MASUK","visible":true,"width":120},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"no_rekam_medis","headerText":"NO. RM","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"no_reg","headerText":"NO. RM","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"full_name","headerText":"NAMA PASIEN","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"gender","headerText":"GENDER","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"jenis_ruangan","headerText":"RUANGAN","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nomor_bed","headerText":"NO. BED","visible":true,"width":90}],"GridDaftarPasienIRDA":[{"allowEditing":true,"allowSorting":true,"editType":"numericEdit","field":"id_person","format":"N","headerText":"ID","type":"number","visible":false,"width":50},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tgl_masuk","format":"dd/MM/yyyy","type":"Date","headerText":"TGL MASUK","visible":true,"width":120},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"no_rekam_medis","headerText":"NO. RM","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"no_re","headerText":"NO. RM","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"full_name","headerText":"NAMA PASIEN","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"gender","headerText":"GENDER","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"jenis_ruangan","headerText":"RUANGAN","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nomor_bed","headerText":"NO. BED","visible":true,"width":90}],"GridDaftarPasienIRJA":[{"allowEditing":true,"allowSorting":true,"editType":"numericEdit","field":"id_person","format":"N","headerText":"ID","type":"number","visible":false,"width":50},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tgl_masuk","format":"dd/MM/yyyy","type":"Date","headerText":"TGL MASUK","visible":true,"width":120},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"no_rekam_medis","headerText":"NO. RM","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"no_register","headerText":"NO. REG","visible":true,"width":80},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"full_name","headerText":"NAMA PASIEN","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"gender","headerText":"GENDER","visible":true,"width":80}]}');var K=a.t(j,2),H=a(3298),Y=a(1876);const V=["GridIRNA"],W=["GridIRDA"];let z=(()=>{class e{constructor(e,t,a,i,n,r){this.router=e,this.utilityService=t,this.dokterService=a,this.navigationService=i,this.daftarPasienService=n,this.dashboardDokterService=r,this.GridConfig=K,this.GridIRJA=null,this.GridIRJAEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridIRJAToolbar=[{text:"Visit",tooltipText:"Visit",prefixIcon:"fas fa-user-check fa-sm",id:"visit"},"Search"],this.GridIRJACommands=[{buttonOption:{id:"btnInfoIRJA",content:"",iconCss:"fas fa-info-circle",cssClass:"btn btn-primary btn-sm"}}],this.GridIRNAEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridIRNAToolbar=[{text:"Visit",tooltipText:"Visit",prefixIcon:"fas fa-user-check fa-sm",id:"visit"},"Search"],this.GridIRDAEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridIRDAToolbar=[{text:"Visit",tooltipText:"Visit",prefixIcon:"fas fa-user-check fa-sm",id:"visit"},"Search"],this.JenisRawat="IRJA"}ngOnInit(){this.dashboardDokterService.JenisRawat.next(this.JenisRawat),this.dashboardDokterService.onSetJenisRawatForDashboardDokter(),this.dokterService.onGetAllDokter(),this.onGetDokterId(),this.dashboardDokterService.onDestroySidebarMenuWhenNavigateToDaftarPasien()}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!1)},1)}onGetDokterId(){const e=JSON.parse(localStorage.getItem("UserData"));this.onGetPasienIRJAByDokterId(e.id_karyawan),this.onGetPasienIRNAByDokterId(e.id_karyawan),this.onGetPasienIRDAByDokterId(e.id_karyawan)}onGetPasienIRJAByDokterId(e){this.daftarPasienService.onGetAllDaftarPasienIRJA(e).subscribe(e=>{this.GridIRJADatasource=e.data})}onGetPasienIRNAByDokterId(e){this.daftarPasienService.onGetAllDaftarPasienIRNA(e).subscribe(e=>{this.GridIRNADatasource=e.data})}onGetPasienIRDAByDokterId(e){this.daftarPasienService.onGetAllDaftarPasienIRDA(e).subscribe(e=>{this.GridIRDADatasource=e.data})}handleSelectedTabId(e){this.JenisRawat=e,this.dashboardDokterService.JenisRawat.next(this.JenisRawat)}handleSelectedRowIRJA(e){this.GridIRJASelectedRow=e.data}handleToolbarClickIRJA(e){if(this.GridIRJASelectedRow)switch(e.item.id){case"visit":this.daftarPasienService.ActivePasien.next({}),this.daftarPasienService.onSetActivePasien(this.GridIRJASelectedRow),this.router.navigateByUrl("Dokter/asesmen-awal")}else this.utilityService.onShowingCustomAlert("warning","Oops","Tidak Ada Data Pasien Yang Dipilih")}handleInitializedIRJA(e){this.GridIRJA=e}handleClickCommandGridIRJA(e){this.router.navigateByUrl("Dokter/asesmen-awal")}handleActionCompleteIRJA(e){}handleSelectedRowIRNA(e){this.GridIRNASelectedRow=e.data}handleToolbarClickIRNA(e){if(this.GridIRNASelectedRow)switch(e.item.id){case"visit":this.daftarPasienService.ActivePasien.next({}),this.daftarPasienService.onSetActivePasien(this.GridIRNASelectedRow),this.router.navigateByUrl("Dokter/asesmen-awal")}else this.utilityService.onShowingCustomAlert("warning","Oops","Tidak Ada Data Pasien Yang Dipilih")}handleSelectedRowIRDA(e){this.GridIRDASelectedRow=e.data}handleToolbarClickIRDA(e){if(this.GridIRDASelectedRow)switch(e.item.id){case"visit":this.daftarPasienService.ActivePasien.next({}),this.daftarPasienService.onSetActivePasien(this.GridIRDASelectedRow),this.router.navigateByUrl("Dokter/asesmen-awal")}else this.utilityService.onShowingCustomAlert("warning","Oops","Tidak Ada Data Pasien Yang Dipilih")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(u.t),s.Y36(H.q),s.Y36(c.f),s.Y36(h.O),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-daftar-pasien-per-dokter"]],viewQuery:function(e,t){if(1&e&&(s.Gf(V,5),s.Gf(W,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.GridIRNA=e.first),s.iGM(e=s.CRH())&&(t.GridIRDA=e.first)}},decls:47,vars:171,consts:[[3,"onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"id","height","dataSource","rowHeight","gridLines","allowPaging","allowResizing","allowFiltering","editSettings","toolbar","rowSelected","actionComplete","commandClick","toolbarClick"],["GridIRJA",""],[3,"width","field","headerText","visible","allowEditing","allowSorting","textAlign","type","format"],[3,"width","field","headerText","visible","allowEditing","allowSorting","textAlign"],[3,"id","height","dataSource","rowHeight","gridLines","allowPaging","allowResizing","allowFiltering","editSettings","toolbar","rowSelected","toolbarClick"],["GridIRNA",""],["GridIRDA",""]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout"),s.TgZ(1,"org-tabs",0,1),s.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",2),s._uU(5,"IRJA"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"ejs-grid",3,4),s.NdJ("rowSelected",function(e){return t.handleSelectedRowIRJA(e)})("actionComplete",function(e){return t.handleActionCompleteIRJA(e)})("commandClick",function(e){return t.handleClickCommandGridIRJA(e)})("toolbarClick",function(e){return t.handleToolbarClickIRJA(e)}),s.TgZ(9,"e-columns"),s._UZ(10,"e-column",5),s._UZ(11,"e-column",6),s._UZ(12,"e-column",6),s._UZ(13,"e-column",6),s._UZ(14,"e-column",6),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"org-tabs-item"),s.TgZ(16,"org-tabs-label",2),s._uU(17,"IRNA"),s.qZA(),s.TgZ(18,"org-tabs-body"),s.TgZ(19,"ejs-grid",7,8),s.NdJ("rowSelected",function(e){return t.handleSelectedRowIRNA(e)})("toolbarClick",function(e){return t.handleToolbarClickIRNA(e)}),s.TgZ(21,"e-columns"),s._UZ(22,"e-column",6),s._UZ(23,"e-column",6),s._UZ(24,"e-column",6),s._UZ(25,"e-column",6),s._UZ(26,"e-column",6),s._UZ(27,"e-column",6),s._UZ(28,"e-column",6),s._UZ(29,"e-column",6),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"org-tabs-item"),s.TgZ(31,"org-tabs-label",2),s._uU(32,"IRDA"),s.qZA(),s.TgZ(33,"org-tabs-body"),s.TgZ(34,"ejs-grid",7,9),s.NdJ("rowSelected",function(e){return t.handleSelectedRowIRDA(e)})("toolbarClick",function(e){return t.handleToolbarClickIRDA(e)}),s.TgZ(36,"e-columns"),s._UZ(37,"e-column",5),s._UZ(38,"e-column",6),s._UZ(39,"e-column",6),s._UZ(40,"e-column",6),s._UZ(41,"e-column",6),s._UZ(42,"e-column",6),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"org-tabs-item"),s.TgZ(44,"org-tabs-label",2),s._uU(45,"Konsulan"),s.qZA(),s._UZ(46,"org-tabs-body"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("Id","IRJA"),s.xp6(3),s.Q6J("id","GridIRJA")("height","calc(100vh - 22rem)")("dataSource",t.GridIRJADatasource)("rowHeight",30)("gridLines","Both")("allowPaging",!0)("allowResizing",!0)("allowFiltering",!0)("editSettings",t.GridIRJAEditSettings)("toolbar",t.GridIRJAToolbar),s.xp6(3),s.Q6J("width",100)("field","tgl_admisi")("headerText","TGL. MASUK")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left")("type","Date")("format","dd/MM/yyyy"),s.xp6(1),s.Q6J("width",80)("field","no_rekam_medis")("headerText","NO. RM")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",80)("field","no_register")("headerText","NO. REG")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",200)("field","nama_pasien")("headerText","NAMA PASIEN")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",100)("field","gender")("headerText","GENDER")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(2),s.Q6J("Id","IRNA"),s.xp6(3),s.Q6J("id","GridIRNA")("height","calc(100vh - 22rem)")("dataSource",t.GridIRNADatasource)("rowHeight",30)("gridLines","Both")("allowPaging",!0)("allowResizing",!0)("allowFiltering",!0)("editSettings",t.GridIRNAEditSettings)("toolbar",t.GridIRNAToolbar),s.xp6(3),s.Q6J("width",100)("field","jam_masuk")("headerText","TGL. MASUK")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",80)("field","no_rekam_medis")("headerText","NO. RM")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",80)("field","no_register")("headerText","NO. REG")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",150)("field","nama_pasien")("headerText","NAMA PASIEN")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",60)("field","gender")("headerText","GENDER")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",250)("field","nama_poli")("headerText","POLIKLINIK")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",80)("field","room_no")("headerText","NO. ROOM")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",80)("field","bed_no")("headerText","NO. BED")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(2),s.Q6J("Id","IRDA"),s.xp6(3),s.Q6J("id","GridIRDA")("height","calc(100vh - 22rem)")("dataSource",t.GridIRDADatasource)("rowHeight",30)("gridLines","Both")("allowPaging",!0)("allowResizing",!0)("allowFiltering",!0)("editSettings",t.GridIRDAEditSettings)("toolbar",t.GridIRDAToolbar),s.xp6(3),s.Q6J("width",100)("field","tgl_admisi")("headerText","TGL. MASUK")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left")("type","DateTime")("format","dd/MM/yyyy HH:mm:ss"),s.xp6(1),s.Q6J("width",80)("field","no_rekam_medis")("headerText","NO. RM")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",80)("field","no_register")("headerText","NO. REG")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",150)("field","nama_pasien")("headerText","NAMA PASIEN")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",60)("field","gender")("headerText","GENDER")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(1),s.Q6J("width",250)("field","nama_poli")("headerText","POLIKLINIK")("visible",!0)("allowEditing",!1)("allowSorting",!1)("textAlign","Left"),s.xp6(2),s.Q6J("Id","Konsulan"))},directives:[y.G,R.D,C.K,E.x,q.C,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR],styles:[".e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:10px 0 10px 10px!important;height:30px!important}.e.grid[_ngcontent-%COMP%]   .e-headercelldiv[_ngcontent-%COMP%]{padding-right:10px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px 10px!important}"]}),e})();const $=JSON.parse('{"LookupDiagnosa":{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_icd","headerText":"KODE ICD","type":"string","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_icd","headerText":"NAMA ICD","type":"string","visible":true,"width":300}],"filter":[{"field":" si1.kode_icd","filter":"like","title":"KODE ICD"},{"field":"si1.nama_icd","filter":"like","title":"NAMA ICD"}]}}');var X=a(9949),ee=a(5470);let te=(()=>{class e{constructor(e,t,a){this.daftarPasienService=e,this.notificationService=t,this.httpOperationService=a,this.API_CONFIG=p.API_DASHBOARD_DOKTER.DIAGNOSA}handleGetAllDiagnosa(){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_ALL_BY_ID_REGISTER+this.daftarPasienService.ActivePasien.value.id_register)}handlePostSaveDiagnosa(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(h.O),s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ae=a(3067),ie=a(3163),ne=a(6296);const re=["modalDialogAddDiagnosa"],oe=["LookupDiagnosa"];function le(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ul",14),s.TgZ(1,"li",15),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().onClickItemListDiagnosa(t)}),s._uU(2),s.ALo(3,"date"),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(2),s.hij(" ",s.xi3(3,1,e.time_inputed,"dd MMMM yyyy")," ")}}function de(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"form",16),s.TgZ(1,"div",17),s.TgZ(2,"h5",18),s._uU(3,"Input Diagnosa Baru"),s.qZA(),s.TgZ(4,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(5,"i",20),s.qZA(),s.qZA(),s.TgZ(6,"div",21),s._UZ(7,"mol-input-textarea",22),s._UZ(8,"mol-input-text",23),s._UZ(9,"mol-input-text",24),s.TgZ(10,"org-input-look-up-kode",25,26),s.NdJ("onGetSelectedData",function(t){return s.CHM(e),s.oxw().handleSelectedDiagnosa(t)}),s.qZA(),s._UZ(12,"mol-input-text",27),s._UZ(13,"mol-input-textarea",28),s.TgZ(14,"div",29),s.TgZ(15,"div",30),s._UZ(16,"atm-label",31),s.qZA(),s.TgZ(17,"div",32),s.TgZ(18,"div",33),s._UZ(19,"input",34),s.TgZ(20,"label",35),s._uU(21,"Iya"),s.qZA(),s.qZA(),s.TgZ(22,"div",33),s._UZ(23,"input",36),s.TgZ(24,"label",37),s._uU(25,"Tidak"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",38),s.TgZ(27,"div",5),s.TgZ(28,"div",39),s.TgZ(29,"button",40),s.NdJ("click",function(){s.CHM(e);const t=s.oxw();return t.onSubmitFormAddDiagnosa(t.FormAddDiagnosa.value)}),s._uU(30," Simpan "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("formGroup",e.FormAddDiagnosa),s.xp6(7),s.Q6J("label","Keluhan"),s.xp6(1),s.Q6J("label","Subjective"),s.xp6(1),s.Q6J("label","Objective"),s.xp6(1),s.Q6J("label","Assesment")("modal-title","Pilih Diagnosa")("lookup-url",e.urlDiagnosa)("idKode","kode_icd")("idTitle","nama_icd")("columns",e.Config.LookupDiagnosa.columns)("filter-lookup",e.Config.LookupDiagnosa.filter),s.xp6(2),s.Q6J("label","Assesment (Catatan)"),s.xp6(1),s.Q6J("label","Plan"),s.xp6(3),s.Q6J("LabelCaption","Is Diagnosa Primer"),s.xp6(3),s.Q6J("value",!0),s.xp6(4),s.Q6J("value",!1),s.xp6(6),s.Q6J("disabled",e.FormAddDiagnosa.invalid)}}function se(e,t){if(1&e&&(s.TgZ(0,"div",3),s.TgZ(1,"div",41),s.TgZ(2,"p",42),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"div",43),s.TgZ(6,"textarea",44),s._uU(7,"                            "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",45),s.TgZ(9,"div",46),s.TgZ(10,"p",47),s._uU(11,"Komentar Oleh"),s.qZA(),s.qZA(),s.TgZ(12,"div",48),s.TgZ(13,"p",47),s._uU(14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",45),s.TgZ(16,"div",46),s.TgZ(17,"p",47),s._uU(18,"Waktu Entry"),s.qZA(),s.qZA(),s.TgZ(19,"div",48),s.TgZ(20,"p",47),s._uU(21),s.ALo(22,"date"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(3),s.AsE(" ",e.DetailDiagnosaPasien.kode_icd," - ",e.DetailDiagnosaPasien.nama_icd," "),s.xp6(3),s.MGl("id","",e.DetailDiagnosaPasien.keluhan,"Textarea"),s.Q6J("value",e.DetailDiagnosaPasien.keluhan),s.xp6(8),s.hij(" : \xa0 ",e.DetailDiagnosaPasien.nama_dokter," "),s.xp6(7),s.hij(" : \xa0 ",s.xi3(22,6,e.DetailDiagnosaPasien.time_inputed,"dd/MM/yyyy HH:mm:ss")," ")}}let ue=(()=>{class e{constructor(e,t,a,i,n,r,o){this.formBuilder=e,this.modalService=t,this.utilityService=a,this.navigationService=i,this.diagnosPasienService=n,this.daftarPasienService=r,this.dashboardDokterService=o,this.Config=$,this.API_PIS_SETUP_DATA=X.API_SETUP_DATA,this.urlDiagnosa=this.API_PIS_SETUP_DATA.SETUP_ICD_DIAGNOSA.GET_ALL_DIAGNOSA_FOR_LOOKUP_ADMISI}ngOnInit(){let e=JSON.parse(localStorage.getItem("UserData"));this.FormAddDiagnosa=this.formBuilder.group({tanggal_diagnosa:[(new Date).toISOString(),[]],is_diagnosa_primer:[!1,[]],id_register:[this.daftarPasienService.ActivePasien.value.id_register,[]],id_dokter:[e.id_karyawan,[]],keluhan:["",[]],id_icd:[0,[n.kI.required]],soap_subjective:["",[n.kI.required]],soap_objective:["",[n.kI.required]],soap_assesment:["",[n.kI.required]],catatan:["",[]],soap_plan:["",[n.kI.required]]}),this.onGetAllDiagnosa(),this.dashboardDokterService.onSetJenisRawatForDashboardDokter(),this.dashboardDokterService.JenisRawat$.subscribe(e=>{this.JenisRawat=e})}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}onGetAllDiagnosa(){this.diagnosPasienService.handleGetAllDiagnosa().subscribe(e=>{this.DiagnosaPasien=e.data})}onClickItemListDiagnosa(e){this.DetailDiagnosaPasien=e}onClickButtonAddDiagnosa(){this.modalRef=this.modalService.show(this.modalDialogAddDiagnosa,Object.assign({},{class:"modal-lg"})),this.onResetFormAddDiagnosa()}onCloseModalAddDiagnosa(){this.modalRef.hide()}handleSelectedDiagnosa(e){this.id_icd.setValue(e.id_icd||e[0].id_icd),this.soap_assesment.setValue(e.nama_icd||e[0].nama_icd)}onSubmitFormAddDiagnosa(e){this.diagnosPasienService.handlePostSaveDiagnosa(e).subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success","Success","Diagnosa Pasien Berhasil Disimpan").then(()=>{this.onCloseModalAddDiagnosa(),this.onGetAllDiagnosa()})})}onResetFormAddDiagnosa(){this.tanggal_diagnosa.setValue((new Date).toISOString()),this.is_diagnosa_primer.setValue(!1),this.keluhan.setValue(""),this.id_icd.setValue(0),this.soap_subjective.setValue(""),this.soap_objective.setValue(""),this.soap_assesment.setValue(""),this.catatan.setValue(""),this.soap_plan.setValue("")}get tanggal_diagnosa(){return this.FormAddDiagnosa.get("tanggal_diagnosa")}get is_diagnosa_primer(){return this.FormAddDiagnosa.get("is_diagnosa_primer")}get id_register(){return this.FormAddDiagnosa.get("id_register")}get id_dokter(){return this.FormAddDiagnosa.get("id_dokter")}get keluhan(){return this.FormAddDiagnosa.get("keluhan")}get id_icd(){return this.FormAddDiagnosa.get("id_icd")}get soap_subjective(){return this.FormAddDiagnosa.get("soap_subjective")}get soap_objective(){return this.FormAddDiagnosa.get("soap_objective")}get soap_assesment(){return this.FormAddDiagnosa.get("soap_assesment")}get catatan(){return this.FormAddDiagnosa.get("catatan")}get soap_plan(){return this.FormAddDiagnosa.get("soap_plan")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(ee.tT),s.Y36(u.t),s.Y36(c.f),s.Y36(te),s.Y36(h.O),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-diagnosa"]],viewQuery:function(e,t){if(1&e&&(s.Gf(re,5),s.Gf(oe,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.modalDialogAddDiagnosa=e.first),s.iGM(e=s.CRH())&&(t.LookupDiagnosa=e.first)}},decls:25,vars:5,consts:[[1,"row","pt-2"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3"],[1,"row","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"text-hitam-muda","text-diagnosa"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"text-black","mb-0",2,"font-size","15px"],[1,"fas","fa-chevron-down","fa-xs"],["class","list-group border-0 shadow-sm mb-2",4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-9","col-sm-9","col-xs-9"],[3,"IsButtonBlock","ButtonPrimaryCaption","ButtonPrimaryIcon","onClickButtonPrimary"],["modalDialogAddDiagnosa",""],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],[1,"list-group","border-0","shadow-sm","mb-2"],[1,"list-group-item","border-0","item_diagnosa",3,"click"],[3,"formGroup"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body"],["formControlName","keluhan",3,"label"],["formControlName","soap_subjective",3,"label"],["formControlName","soap_objective",3,"label"],[3,"label","modal-title","lookup-url","idKode","idTitle","columns","filter-lookup","onGetSelectedData"],["LookupDiagnosa",""],["formControlName","catatan",3,"label"],["formControlName","soap_plan",3,"label"],[1,"row","align-items-center"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],[1,"form-check","form-check-inline"],["type","radio","name","is_diagnosa_primer","id","is_diagnosa_primer_true","formControlName","is_diagnosa_primer",1,"form-check-input",3,"value"],["for","is_diagnosa_primer_true",1,"form-check-label"],["type","radio","name","is_diagnosa_primer","id","is_diagnosa_primer_false","formControlName","is_diagnosa_primer",1,"form-check-input",3,"value"],["for","is_diagnosa_primer_false",1,"form-check-label"],[1,"modal-footer","p-2","background-abu-muda"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-123"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"mb-2"],[1,"text-hitam-muda","mb-0",2,"font-size","17px"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5"],["rows","2","readonly","",1,"form-control",3,"id","value"],[1,"row","mb-1"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2"],[1,"text-abu-tua","mb-0"],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"h5",4),s._uU(6," Riwayat Kunjungan "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"p",7),s._uU(10," Riwayat Kunjungan Pasien \xa0 "),s._UZ(11,"i",8),s.qZA(),s.qZA(),s.TgZ(12,"div",6),s.YNc(13,le,4,4,"ul",9),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",10),s.TgZ(15,"div",2),s.TgZ(16,"div",3),s.TgZ(17,"h5",4),s._uU(18," Diagnosa Pasien "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",2),s.TgZ(20,"div",6),s.TgZ(21,"atm-button-primary",11),s.NdJ("onClickButtonPrimary",function(){return t.onClickButtonAddDiagnosa()}),s.qZA(),s.qZA(),s.YNc(22,de,31,17,"ng-template",null,12,s.W1O),s.YNc(24,se,23,9,"div",13),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(13),s.Q6J("ngForOf",t.DiagnosaPasien),s.xp6(8),s.Q6J("IsButtonBlock",!1)("ButtonPrimaryCaption","Input Diagnosa Baru")("ButtonPrimaryIcon","fa-plus-circle fa-sm"),s.xp6(3),s.Q6J("ngIf",t.DetailDiagnosaPasien))},directives:[y.G,i.sg,ae.L,i.O5,n._Y,n.JL,n.sg,ie.h,n.JJ,n.u,I._,ne.E,P.D,n._,n.Fj],pipes:[i.uU],styles:["h5.text-diagnosa[_ngcontent-%COMP%]{border-bottom:3px solid var(--biru-muda);width:11rem;padding-bottom:.25rem}ul.list-group.border-0.shadow-sm[_ngcontent-%COMP%]{width:13rem;max-width:13rem}li.item_diagnosa[_ngcontent-%COMP%]{font-size:14px}li.item_diagnosa[_ngcontent-%COMP%]:hover{background-color:var(--biru-muda);color:#fff}"]}),e})();const ce=JSON.parse('{"GridDaftarOrder":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"jam_masuk","headerText":"JAM MASUK","visible":true,"width":80},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_poli","headerText":"KODE POLI","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_poli","headerText":"Poli / Ruang","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_dokter","headerText":"Dokter Pemeriksa","type":"string","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"jam_periksa","headerText":"JAM PERIKSA","type":"DateTime","format":"HH:mm:ss","visible":true,"width":80},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"status","headerText":"STATUS","type":"string","visible":true,"width":100}]},"LookupDokter":{"columns":[{"allowEditing":true,"allowSorting":true,"displayAsCheckBox":true,"editType":"booleanEdit","field":"cek","headerText":"CEK","visible":false,"width":150},{"allowEditing":true,"allowSorting":true,"editType":"numericEdit","field":"id_person","format":"N2","headerText":"PERSON ID","type":"number","visible":false,"width":150},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_dokter","headerText":"KODE DOKTER","type":"string","visible":true,"width":90},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"full_name","headerText":"NAMA DOKTER","type":"string","visible":true,"width":200},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"spesialisasi_dokter","headerText":"SPESIALISASI","type":"string","visible":true,"width":110},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_hari","headerText":"HARI PRAKTEK","type":"string","visible":true,"width":90},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"jam_mulai","headerText":"JAM MULAI","textAlign":"Right","type":"string","visible":true,"width":90},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kuota","headerText":"KUOTA","textAlign":"Right","type":"string","visible":true,"width":80},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"sisa_kuota","headerText":"SISA KUOTA","textAlign":"Right","type":"string","visible":true,"width":80}],"filter":[{"field":"d.kode_dokter","filter":"like","title":"KODE DOKTER"},{"field":"concat(p.nama_depan, \' \',p.nama_belakang)","filter":"like","title":"NAMA DOKTER"}]}}');let ge=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API_CONFIG=p.API_DASHBOARD_DOKTER.KONSUL}onGetAllRiwayatKonsul(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_RIWAYAT_KONSUL_BY_ID_DOKTER+e)}onPostSaveKonsulRawatJalan(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_KONSUL_PASIEN_IRJA,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var he=a(879),me=a(4594),pe=a(4550);const _e=["DropdownPoli"],fe=["LookupKodeDokter"];let be=(()=>{class e{constructor(e,t,a,i,n,r){this.formBuilder=e,this.konsulService=t,this.utilityService=a,this.setupPoliService=i,this.navigationService=n,this.daftarPasienService=r,this.Config=ce,this.API_PIS_SETUP_DATA=X.API_SETUP_DATA,this.DropdownPoliDatasource=[],this.DropdownPoliFields={text:"nama_poli",value:"id_poli"},this.urlDokter="",this.GridDaftarKonsulToolbar=[{text:"Konsul Pasien",tooltipText:"Konsul Pasien",prefixIcon:"fas fa-user-edit fa-sm",id:"konsul_pasien"},"Search"],this.GridDaftarKonsulDataSource=[]}ngOnInit(){this.FormKonsulPasien=this.formBuilder.group({id_register:[this.daftarPasienService.ActivePasien.value.id_register,[]],id_dokter_asal:[this.daftarPasienService.ActivePasien.value.id_dokter,[]],id_jadwal_dokter:[0,[]],id_poli:[0,[]],id_dokter_pemeriksa:[0,[]],catatan_konsul:["",[]]}),this.onGetAllPoliklinik(),this.onGetAllRiwayatKonsul(this.daftarPasienService.ActivePasien.value.id_dokter)}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}onGetAllRiwayatKonsul(e){this.konsulService.onGetAllRiwayatKonsul(e).subscribe(e=>{this.GridDaftarKonsulDataSource=e.data})}onGetAllPoliklinik(){this.setupPoliService.onGetAll().subscribe(e=>{this.DropdownPoliDatasource=e.data})}onToolbarClick(e){switch(e.item.id){case"konsul_pasien":this.handleOpenModalKonsulPasien()}}onRowSelected(e){}handleOpenModalKonsulPasien(){document.getElementById("btnKonsul").click(),this.onResetFormKonsulPasien()}handleChangePoli(e){e&&(this.id_poli.setValue(e.itemData.id_poli),this.urlDokter=this.API_PIS_SETUP_DATA.SETUP_DOKTER.POST_GET_ALL_DOKTER_FOR_LOOKUP_ADMISI+this.id_poli.value)}handleSelectedDokter(e){this.id_jadwal_dokter.setValue(e.id_jadwal_dokter),this.id_dokter_pemeriksa.setValue(e.id_dokter)}handleCloseModalKonsulPasien(){document.getElementById("btnCloseModal").click()}handleSubmitKonsulPasien(e){this.konsulService.onPostSaveKonsulRawatJalan(e).subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success","Success","Konsul Pasien Berhasil Disimpan").then(()=>{this.onResetFormKonsulPasien(),this.handleCloseModalKonsulPasien()})})}onResetFormKonsulPasien(){this.id_jadwal_dokter.setValue(0),this.id_poli.setValue(0),this.id_dokter_pemeriksa.setValue(0),this.catatan_konsul.setValue(""),this.DropdownPoli.value=null,document.getElementById("inputGroupfull_name").value=""}get id_register(){return this.FormKonsulPasien.get("id_register")}get id_dokter_asal(){return this.FormKonsulPasien.get("id_dokter_asal")}get id_jadwal_dokter(){return this.FormKonsulPasien.get("id_jadwal_dokter")}get id_poli(){return this.FormKonsulPasien.get("id_poli")}get id_dokter_pemeriksa(){return this.FormKonsulPasien.get("id_dokter_pemeriksa")}get catatan_konsul(){return this.FormKonsulPasien.get("catatan_konsul")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(ge),s.Y36(u.t),s.Y36(he.e),s.Y36(c.f),s.Y36(h.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-konsul"]],viewQuery:function(e,t){if(1&e&&(s.Gf(_e,5),s.Gf(fe,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.DropdownPoli=e.first),s.iGM(e=s.CRH())&&(t.LookupKodeDokter=e.first)}},decls:39,vars:20,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"grid-id","grid-height","grid-lines","grid-toolbar","grid-paging","columns","grid-DataSource","toolbar-click","row-selected"],["gridDataKonsul",""],["type","button","id","btnKonsul","data-bs-toggle","modal","data-bs-target","#modalDialogKonsul","hidden","",1,"btn","btn-primary"],["id","modalDialogKonsul","aria-labelledby","modalDialogKonsul","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["id","btnCloseModal","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-2"],[3,"formGroup"],[1,"row","px-0","mx-0","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["formControlName","id_poli",3,"dataSource","fields","allowFiltering","change"],["DropdownPoli",""],[3,"modal-title","lookup-url","idKode","idTitle","columns","filter-lookup","label","onGetSelectedData"],["LookupKodeDokter",""],["type","text","formControlName","catatan_konsul",1,"form-control","form-select-sm"],[1,"modal-footer","p-2","background-abu-muda"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-123"],["type","button",1,"btn","btn-danger","btn-sm","mx-2",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s.TgZ(3,"mol-grid",2,3),s.NdJ("toolbar-click",function(e){return t.onToolbarClick(e)})("row-selected",function(e){return t.onRowSelected(e)}),s.qZA(),s.qZA(),s.qZA(),s._UZ(5,"button",4),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"div",7),s.TgZ(9,"div",8),s.TgZ(10,"h5",9),s._uU(11,"Konsul Pasien"),s.qZA(),s._UZ(12,"button",10),s.qZA(),s.TgZ(13,"div",11),s.TgZ(14,"form",12),s.TgZ(15,"div",13),s.TgZ(16,"div",14),s.TgZ(17,"div",0),s.TgZ(18,"div",15),s._UZ(19,"atm-label",16),s.qZA(),s.TgZ(20,"div",17),s.TgZ(21,"ejs-dropdownlist",18,19),s.NdJ("change",function(e){return t.handleChangePoli(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"div",1),s.TgZ(24,"org-input-look-up",20,21),s.NdJ("onGetSelectedData",function(e){return t.handleSelectedDokter(e)}),s.qZA(),s.qZA(),s.TgZ(26,"div",14),s.TgZ(27,"div",0),s.TgZ(28,"div",15),s._UZ(29,"atm-label",16),s.qZA(),s.TgZ(30,"div",17),s._UZ(31,"input",22),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(32,"div",23),s.TgZ(33,"div",0),s.TgZ(34,"div",24),s.TgZ(35,"button",25),s.NdJ("click",function(){return t.handleCloseModalKonsulPasien()}),s._uU(36," Tutup "),s.qZA(),s.TgZ(37,"button",26),s.NdJ("click",function(){return t.handleSubmitKonsulPasien(t.FormKonsulPasien.value)}),s._uU(38," Simpan "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("grid-id","GridDaftarKonsul")("grid-height","calc(100vh - 18rem)")("grid-lines","Both")("grid-toolbar",t.GridDaftarKonsulToolbar)("grid-paging",!1)("columns",t.Config.GridDaftarOrder.columns)("grid-DataSource",t.GridDaftarKonsulDataSource),s.xp6(11),s.Q6J("formGroup",t.FormKonsulPasien),s.xp6(5),s.Q6J("LabelCaption","Pilih Poliklinik"),s.xp6(2),s.Q6J("dataSource",t.DropdownPoliDatasource)("fields",t.DropdownPoliFields)("allowFiltering",!0),s.xp6(3),s.Q6J("modal-title","Data Dokter")("lookup-url",t.urlDokter)("idKode","kode_dokter")("idTitle","full_name")("columns",t.Config.LookupDokter.columns)("filter-lookup",t.Config.LookupDokter.filter)("label","Pilih Dokter"),s.xp6(5),s.Q6J("LabelCaption","Catatan Konsul"))},directives:[y.G,O.q,n._Y,n.JL,n.sg,P.D,me.rI,n.JJ,n.u,pe.U,n.Fj],styles:[""]}),e})();const ke=JSON.parse('{"LookupDiagnosa":{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_icd","headerText":"KODE ICD","type":"string","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_icd","headerText":"NAMA ICD","type":"string","visible":true,"width":300}],"filter":[{"field":" si1.kode_icd","filter":"like","title":"KODE ICD"},{"field":"si1.nama_icd","filter":"like","title":"NAMA ICD"}]}}');let Te=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API_CONFIG=p.API_DASHBOARD_DOKTER.LABORATORIUM}onGetAllOrderPenunjang(){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_ALL_DATA_PENUNJANG)}onPostSaveOrderPenunjang(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE_ORDER_LAB,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onGetRiwayatOrderLab(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_RIWAYAT_ORDER_LAB+e)}onGetDetailRiwayatOrderLab(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_DETAIL_RIWAYAT_ORDER_LAB+e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ae=a(3363);const ve=["LookupDiagnosa"],Ze=["modalDialogAddDiagnosa"];function we(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",42),s.TgZ(1,"button",43),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(3).onClickTabButton(t)}),s._uU(2),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.MGl("id","tab.tab_id",e.kode_kelompok,"Button"),s.xp6(1),s.hij(" ",e.nama_kelompok," ")}}function Se(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",44),s.TgZ(1,"input",45),s.NdJ("change",function(){const t=s.CHM(e).$implicit;return s.oxw(3).onChangeTabsCheckbox(t,"parent")}),s.qZA(),s.TgZ(2,"label",46),s._uU(3),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.Q6J("value",e.parameter_checked)("id",e.id_mapping_tarif_penunjang+"CheckParameter")("checked",e.parameter_checked),s.xp6(1),s.ekj("text-biru-muda",e.parameter_hasil),s.MGl("for","",e.id_mapping_tarif_penunjang,"CheckParameter"),s.xp6(1),s.hij(" ",e.nama_tindakan_penunjang," ")}}function xe(e,t){if(1&e&&(s.TgZ(0,"org-tabs-item"),s.TgZ(1,"org-tabs-label"),s.TgZ(2,"p",34),s._uU(3),s.ALo(4,"titlecase"),s.qZA(),s.qZA(),s.TgZ(5,"org-tabs-body"),s.TgZ(6,"div",25),s.TgZ(7,"div",35),s.TgZ(8,"div",36),s.TgZ(9,"div",37),s.YNc(10,we,3,2,"div",38),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",39),s.TgZ(12,"div",36),s.TgZ(13,"div",40),s.YNc(14,Se,4,7,"div",41),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit,a=s.oxw(2);s.xp6(3),s.hij(" ",s.lcZ(4,3,e.nama_kelompok)," "),s.xp6(7),s.Q6J("ngForOf",e.child),s.xp6(4),s.Q6J("ngForOf",a.SelectedCheckbox)}}function De(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"org-tabs",31,32),s.NdJ("onGetSelectedTabId",function(t){return s.CHM(e),s.oxw().onGetSelectedTabId(t)}),s.YNc(2,xe,15,5,"org-tabs-item",33),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.TabsOrderLaboratorium)}}function ye(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"form",6),s.TgZ(1,"div",47),s.TgZ(2,"h5",48),s._uU(3,"Input Diagnosa Baru"),s.qZA(),s.TgZ(4,"button",49),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(5,"i",50),s.qZA(),s.qZA(),s.TgZ(6,"div",51),s._UZ(7,"mol-input-textarea",52),s._UZ(8,"mol-input-text",53),s._UZ(9,"mol-input-text",54),s.TgZ(10,"org-input-look-up-kode",55,30),s.NdJ("onGetSelectedData",function(t){return s.CHM(e),s.oxw().handleSelectedDiagnosa(t)}),s.qZA(),s._UZ(12,"mol-input-text",56),s._UZ(13,"mol-input-textarea",57),s.TgZ(14,"div",58),s.TgZ(15,"div",3),s._UZ(16,"atm-label",59),s.qZA(),s.TgZ(17,"div",1),s.TgZ(18,"div",60),s._UZ(19,"input",61),s.TgZ(20,"label",62),s._uU(21,"Iya"),s.qZA(),s.qZA(),s.TgZ(22,"div",60),s._UZ(23,"input",63),s.TgZ(24,"label",64),s._uU(25,"Tidak"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",65),s.TgZ(27,"div",25),s.TgZ(28,"div",66),s.TgZ(29,"button",9),s.NdJ("click",function(){s.CHM(e);const t=s.oxw();return t.onSubmitFormAddDiagnosa(t.FormAddDiagnosa.value)}),s._uU(30," Simpan "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("formGroup",e.FormAddDiagnosa),s.xp6(7),s.Q6J("label","Keluhan"),s.xp6(1),s.Q6J("label","Subjective"),s.xp6(1),s.Q6J("label","Objective"),s.xp6(1),s.Q6J("label","Assesment")("modal-title","Pilih Diagnosa")("lookup-url",e.urlDiagnosa)("idKode","kode_icd")("idTitle","nama_icd")("columns",e.Config.LookupDiagnosa.columns)("filter-lookup",e.Config.LookupDiagnosa.filter),s.xp6(2),s.Q6J("label","Assesment (Catatan)"),s.xp6(1),s.Q6J("label","Plan"),s.xp6(3),s.Q6J("LabelCaption","Is Diagnosa Primer"),s.xp6(3),s.Q6J("value",!0),s.xp6(4),s.Q6J("value",!1)}}let Re=(()=>{class e{constructor(e,t,a,i,n,r,o,l){this.router=e,this.formBuilder=t,this.modalService=a,this.utilityService=i,this.diagnosPasienService=n,this.laboratoriumService=r,this.daftarPasienService=o,this.dashboardDokterService=l,this.Config=ke,this.API_PIS_SETUP_DATA=X.API_SETUP_DATA,this.TabsOrderLaboratorium=[],this.GridDaftarOrderEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarOrderDatasource=[],this.gridDaftarOrder=null,this.urlDiagnosa=this.API_PIS_SETUP_DATA.SETUP_ICD_DIAGNOSA.GET_ALL_DIAGNOSA_FOR_LOOKUP_ADMISI}get width(){return window.innerWidth}ngOnInit(){this.GridDaftarOrderColumns=[{allowEditing:!1,allowSorting:!1,editType:"numericEdit",field:"id_mapping_tarif_penunjang",headerText:"ID",type:"string",visible:!1,width:150},{allowEditing:!1,allowSorting:!1,editType:"defaultEdit",field:"nama_tindakan_penunjang",headerText:"Order Tindakan",type:"string",visible:!0,width:150},{allowEditing:!0,allowSorting:!1,editType:"numericEdit",field:"qty_order",headerText:"Qty",type:"number",textAlign:"Right",headerTextAlign:"Right",format:"N0",visible:!0,width:70},{allowEditing:!1,allowSorting:!1,editType:"defaultEdit",field:"hasil",headerText:"L/R",visible:!1,width:50,textAlign:"Center",headerTextAlign:"Center"},{allowEditing:!1,allowSorting:!1,editType:"defaultEdit",field:"polos_or_kontras",headerText:"Polos / Kontras",visible:!1,width:50,textAlign:"Center",headerTextAlign:"Center"}];let e=JSON.parse(localStorage.getItem("UserData"));this.FormAddDiagnosa=this.formBuilder.group({tanggal_diagnosa:[this.utilityService.onFormatDate(new Date),[]],is_diagnosa_primer:[!1,[]],id_register:[this.daftarPasienService.ActivePasien.value.id_register,[]],id_dokter:[e.id_karyawan,[]],keluhan:["",[]],id_icd:[0,[n.kI.required]],soap_subjective:["",[n.kI.required]],soap_objective:["",[n.kI.required]],soap_assesment:["",[n.kI.required]],catatan:["",[]],soap_plan:["",[n.kI.required]]}),this.FormInsertOrderLab=this.formBuilder.group({id_register:[0,[]],id_kelas:[0,[]],kode_grup_penunjang:["LAB",[]],id_icd:[0,[]],id_poli_order:[0,[]],id_dokter_order:[0,[]],keterangan:["",[]],keterangan_sample:["",[]],is_order_darah:[!1,[]]}),this.onGetAllIDataOrderPenunjang()}onGetAllIDataOrderPenunjang(){this.laboratoriumService.onGetAllOrderPenunjang().subscribe(e=>{this.TabsOrderLaboratorium=e.data})}onGetSelectedTabId(e){}onClickTabButton(e){this.SelectedCheckbox=e.labChild,this.onCheckGridDaftarOrderDatasource()}onChangeTabsCheckbox(e){let t=document.getElementById(e.id_mapping_tarif_penunjang+"CheckParameter");t.checked=t.checked,t.checked?(t.value="true",this.onAddItemToGridDaftarOrder(e)):(t.value="false",this.onRemoveItemFromGridDaftarOrder(e))}onCheckGridDaftarOrderDatasource(){this.GridDaftarOrderDatasource.forEach(e=>{e.parameter_checked=!0;let t=document.getElementById(e.id_mapping_tarif_penunjang+"CheckParameter");t&&(t.checked=!0)})}onAddItemToGridDaftarOrder(e){e.qty_order=1,this.GridDaftarOrderDatasource.push(e),this.onCheckGridDaftarOrderDatasource(),this.gridDaftarOrder.Grid.refresh()}onRemoveItemFromGridDaftarOrder(e){const t=this.GridDaftarOrderDatasource.map(e=>e.id_mapping_tarif_penunjang).indexOf(e.id_mapping_tarif_penunjang);this.GridDaftarOrderDatasource[t].parameter_checked=!1,this.GridDaftarOrderDatasource.splice(t,1),this.gridDaftarOrder.Grid.refresh()}onInitalizedGrid(e){this.gridDaftarOrder=e}onActionCompleteGrid(e){}onRowSelected(e){}onClickButtonAddDiagnosa(){this.modalRef=this.modalService.show(this.modalDialogAddDiagnosa,Object.assign({},{class:"modal-lg"}))}onClickPilihDiagnosa(){this.LookupDiagnosa.onOpenModal()}onGetSeletedLookupDiagnosa(e){this.id_icd.setValue(e.id_icd),this.keterangan.setValue(`${e.kode_icd} - ${e.nama_icd}`)}handleSelectedDiagnosa(e){this.id_icd_diagnosa.setValue(e.id_icd||e[0].id_icd),this.soap_assesment.setValue(e.nama_icd||e[0].nama_icd)}onSubmitFormAddDiagnosa(e){console.log(e),this.modalRef.hide()}onResetFormAddDiagnosa(){this.tanggal_diagnosa.setValue(this.utilityService.onFormatDate(new Date)),this.is_diagnosa_primer.setValue(!1),this.keluhan.setValue(""),this.id_icd.setValue(0),this.soap_subjective.setValue(""),this.soap_objective.setValue(""),this.soap_assesment.setValue(""),this.catatan.setValue(""),this.soap_plan.setValue("")}onSubmitLaboratoriumPasien(e){e.id_register=this.daftarPasienService.ActivePasien.value.id_register,e.id_kelas=this.daftarPasienService.ActivePasien.value.id_kelas_rawat,e.kode_grup_penunjang="LAB",e.id_poli_order=this.daftarPasienService.ActivePasien.value.id_poli;let t=JSON.parse(localStorage.getItem("UserData"));e.id_dokter_order=t.id_karyawan,e.item_order=this.GridDaftarOrderDatasource,this.laboratoriumService.onPostSaveOrderPenunjang(e).subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success","Success","Order Laboratorium Berhasil Disimpan").then(()=>{this.onResetFormLaboratoriumPasien(),setTimeout(()=>{this.router.navigate(["/Dokter/laboratorium/riwayat-pemeriksaan"])},500)})})}onResetFormLaboratoriumPasien(){this.FormInsertOrderLab.reset(),this.id_register.setValue(0),this.id_kelas.setValue(0),this.kode_grup_penunjang.setValue("LAB"),this.id_icd.setValue(0),this.id_poli_order.setValue(0),this.id_dokter_order.setValue(0),this.keterangan.setValue(""),this.keterangan_sample.setValue(""),this.is_order_darah.setValue(!1)}get id_register(){return this.FormInsertOrderLab.get("id_register")}get id_kelas(){return this.FormInsertOrderLab.get("id_kelas")}get kode_grup_penunjang(){return this.FormInsertOrderLab.get("kode_grup_penunjang")}get id_icd(){return this.FormInsertOrderLab.get("id_icd")}get id_poli_order(){return this.FormInsertOrderLab.get("id_poli_order")}get id_dokter_order(){return this.FormInsertOrderLab.get("id_dokter_order")}get keterangan(){return this.FormInsertOrderLab.get("keterangan")}get keterangan_sample(){return this.FormInsertOrderLab.get("keterangan_sample")}get is_order_darah(){return this.FormInsertOrderLab.get("is_order_darah")}get tanggal_diagnosa(){return this.FormAddDiagnosa.get("tanggal_diagnosa")}get is_diagnosa_primer(){return this.FormAddDiagnosa.get("is_diagnosa_primer")}get id_register_diagnosa(){return this.FormAddDiagnosa.get("id_register")}get id_dokter(){return this.FormAddDiagnosa.get("id_dokter")}get keluhan(){return this.FormAddDiagnosa.get("keluhan")}get id_icd_diagnosa(){return this.FormAddDiagnosa.get("id_icd")}get soap_subjective(){return this.FormAddDiagnosa.get("soap_subjective")}get soap_objective(){return this.FormAddDiagnosa.get("soap_objective")}get soap_assesment(){return this.FormAddDiagnosa.get("soap_assesment")}get catatan(){return this.FormAddDiagnosa.get("catatan")}get soap_plan(){return this.FormAddDiagnosa.get("soap_plan")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(n.qu),s.Y36(ee.tT),s.Y36(u.t),s.Y36(te),s.Y36(Te),s.Y36(h.O),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-input-order-baru"]],viewQuery:function(e,t){if(1&e&&(s.Gf(ve,5),s.Gf(Ze,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupDiagnosa=e.first),s.iGM(e=s.CRH())&&(t.modalDialogAddDiagnosa=e.first)}},decls:43,vars:12,consts:[[1,"row","pt-2"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],[3,"onGetSelectedTabId",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[1,"card","border-0","shadow-sm"],[1,"card-body","p-2"],[3,"formGroup"],[1,"row","mb-3","justify-content-end"],["hidden","",1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","text-start"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","text-end"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["modalDialogAddDiagnosa",""],[1,"row","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],["for","Keterangan",1,"form-label"],["type","text","id","Keterangan","rows","2","formControlName","keterangan",1,"form-control"],["type","text","id","Catatan","formControlName","keterangan_sample",1,"form-control"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"card-header"],[1,"text-biru-muda","mb-0"],[1,"card-body","p-0"],[3,"grid-id","grid-height","grid-lines","grid-editSettings","columns","grid-DataSource","row-selected","action-complete","initialized"],["gridDaftarOrder",""],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-end"],["type","button",1,"btn","btn-primary","btn-sm","me-2",3,"click"],["type","button",1,"btn","btn-danger","btn-sm"],[3,"modal-title","filter-lookup","lookup-url","columns","onGetSelectedData"],["LookupDiagnosa",""],[3,"onGetSelectedTabId"],["OrgTabsRef",""],[4,"ngFor","ngForOf"],[1,"tab-heading","mb-0"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5"],[1,"card","shadow-sm","border-0"],[1,"card-body","px-2","py-1","cardButtonLaboratorium"],["class","mb-2",4,"ngFor","ngForOf"],[1,"col-lg-7","col-md-7","col-sm-7","col-xs-7"],[1,"card-body","p-2","cardButtonLaboratorium"],["class","form-check",4,"ngFor","ngForOf"],[1,"mb-2"],["type","button",1,"btn","btn-primary","btn-sm",2,"width","100%",3,"id","click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","id","checked","change"],[1,"form-check-label",3,"for"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body"],["formControlName","keluhan",3,"label"],["formControlName","soap_subjective",3,"label"],["formControlName","soap_objective",3,"label"],[3,"label","modal-title","lookup-url","idKode","idTitle","columns","filter-lookup","onGetSelectedData"],["formControlName","catatan",3,"label"],["formControlName","soap_plan",3,"label"],[1,"row","align-items-center"],[3,"LabelCaption"],[1,"form-check","form-check-inline"],["type","radio","name","is_diagnosa_primer","id","is_diagnosa_primer_true","formControlName","is_diagnosa_primer",1,"form-check-input",3,"value"],["for","is_diagnosa_primer_true",1,"form-check-label"],["type","radio","name","is_diagnosa_primer","id","is_diagnosa_primer_false","formControlName","is_diagnosa_primer",1,"form-check-input",3,"value"],["for","is_diagnosa_primer_false",1,"form-check-label"],[1,"modal-footer","p-2","background-abu-muda"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-123"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,De,3,1,"org-tabs",2),s.qZA(),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"form",6),s.TgZ(7,"div",7),s.TgZ(8,"div",8),s.TgZ(9,"button",9),s.NdJ("click",function(){return t.onClickButtonAddDiagnosa()}),s._uU(10," Input Diagnosa "),s.qZA(),s.qZA(),s.TgZ(11,"div",10),s.TgZ(12,"button",11),s.NdJ("click",function(){return t.onClickPilihDiagnosa()}),s._uU(13," Pilih Diagnosa "),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,ye,31,16,"ng-template",null,12,s.W1O),s.TgZ(16,"div",13),s.TgZ(17,"div",14),s.TgZ(18,"label",15),s._uU(19,"Keterangan Klinik Penderita"),s.qZA(),s.TgZ(20,"textarea",16),s._uU(21,"                            "),s.qZA(),s.qZA(),s.TgZ(22,"div",14),s.TgZ(23,"label",15),s._uU(24,"Catatan"),s.qZA(),s._UZ(25,"input",17),s.qZA(),s.qZA(),s.TgZ(26,"div",13),s.TgZ(27,"div",18),s.TgZ(28,"div",19),s.TgZ(29,"div",20),s.TgZ(30,"p",21),s._uU(31," Daftar Order "),s.qZA(),s.qZA(),s.TgZ(32,"div",22),s.TgZ(33,"mol-grid",23,24),s.NdJ("row-selected",function(e){return t.onRowSelected(e)})("action-complete",function(e){return t.onActionCompleteGrid(e)})("initialized",function(e){return t.onInitalizedGrid(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(35,"div",25),s.TgZ(36,"div",26),s.TgZ(37,"button",27),s.NdJ("click",function(){return t.onSubmitLaboratoriumPasien(t.FormInsertOrderLab.value)}),s._uU(38,"Simpan"),s.qZA(),s.TgZ(39,"button",28),s._uU(40,"Cancel"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"org-look-up",29,30),s.NdJ("onGetSelectedData",function(e){return t.onGetSeletedLookupDiagnosa(e)}),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",t.TabsOrderLaboratorium.length>0),s.xp6(4),s.Q6J("formGroup",t.FormInsertOrderLab),s.xp6(27),s.Q6J("grid-id","GridDaftarOrder")("grid-height","calc(100vh - 34.1rem)")("grid-lines","Both")("grid-editSettings",t.GridDaftarOrderEditSettings)("columns",t.GridDaftarOrderColumns)("grid-DataSource",t.GridDaftarOrderDatasource),s.xp6(8),s.Q6J("modal-title","Pilih Diagnosa")("filter-lookup",t.Config.LookupDiagnosa.filter)("lookup-url",t.urlDiagnosa)("columns",t.Config.LookupDiagnosa.columns))},directives:[i.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,O.q,Ae.N,R.D,i.sg,C.K,E.x,q.C,ie.h,I._,ne.E,P.D,n._],pipes:[i.rS],styles:[".tab-heading[_ngcontent-%COMP%]{font-size:14px!important}.cardButtonLaboratorium[_ngcontent-%COMP%]{height:calc(100vh - 14rem);max-height:calc(100vh - 14rem);overflow-y:auto}"]}),e})();const Ce=JSON.parse('{"GridBankDarahColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_mapping_tarif_penunjang","headerText":"ID MAPPING TARIF PENUNJANG","visible":false,"width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_setup_tarif","headerText":"KODE ","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_tindakan_penunjang","headerText":"ORDER TINDAKAN","visible":true,"width":200},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"qty_order","headerText":"QTY","visible":true,"format":"N2","textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"keterangan_order","headerText":"KETERANGAN ORDER","visible":false,"width":100}],"LookupDiagnosa":{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_icd","headerText":"KODE ICD","type":"string","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_icd","headerText":"NAMA ICD","type":"string","visible":true,"width":300}],"filter":[{"field":" si1.kode_icd","filter":"like","title":"KODE ICD"},{"field":"si1.nama_icd","filter":"like","title":"NAMA ICD"}]},"LookupDokter":{"columns":[{"allowEditing":true,"allowSorting":true,"displayAsCheckBox":true,"editType":"booleanEdit","field":"cek","headerText":"CEK","visible":false,"width":150},{"allowEditing":true,"allowSorting":true,"editType":"numericEdit","field":"id_person","format":"N2","headerText":"PERSON ID","type":"number","visible":false,"width":150},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_dokter","headerText":"KODE DOKTER","type":"string","visible":true,"width":90},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"full_name","headerText":"NAMA DOKTER","type":"string","visible":true,"width":200},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"spesialisasi_dokter","headerText":"SPESIALISASI","type":"string","visible":true,"width":110}],"filter":[{"field":"d.kode_dokter","filter":"like","title":"KODE DOKTER"},{"field":"concat(p.nama_depan, \' \',p.nama_belakang)","filter":"like","title":"NAMA DOKTER"}]},"LookupTarif":{"columns":[{"width":50,"type":"Checkbox","field":"Checkbox","headerTextAlign":"Center","textAlign":"Center"},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"id_setup_tarif","headerText":"ID","type":"string","visible":false},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"kode_setup_tarif","headerText":"KODE SETUP TARIF","type":"string","visible":true,"width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_setup_tarif","headerText":"NAMA SETUP TARIF","type":"string","visible":true,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nama_grup_tarif","headerText":"NAMA GRUP TARIF","type":"string","visible":false,"width":150},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"nominal_tarif","headerText":"NOMINAL TARIF","headerTextAlign":"Right","textAlign":"Right","format":"N2","type":"number","visible":false,"width":100}],"filter":[{"field":"st.kode_setup_tarif","filter":"like","title":"KODE TARIF"},{"field":"st.nama_setup_tarif","filter":"like","title":"NAMA TARIF"}]}}');var Ee=a.t(Ce,2);let qe=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API_CONFIG=p.API_DASHBOARD_DOKTER.BANK_DARAH}onPostSaveBankDarah(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Oe=a(801);const Ie=["LookupDiagnosa"],Pe=["LookupKodeDokter"],Ne=["GolonganDarah"],Ge=["LookupChecklist"];let Fe=(()=>{class e{constructor(e,t,a,i){this.formBuilder=e,this.utilityService=t,this.bankDarahService=a,this.daftarPasienService=i,this.Config=Ee,this.API_PIS_SETUP_DATA=X.API_SETUP_DATA,this.API_DASHBOARD_DOKTER=p.API_DASHBOARD_DOKTER.BANK_DARAH,this.GridData=null,this.GridBankDarahDatasource=[],this.GridBankDarahToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Hapus",tooltipText:"Hapus",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"}],this.GridBankDarahRowIndex=0,this.urlDiagnosa=this.API_PIS_SETUP_DATA.SETUP_ICD_DIAGNOSA.GET_ALL_DIAGNOSA_FOR_LOOKUP_ADMISI,this.urlDokter=this.API_PIS_SETUP_DATA.SETUP_DOKTER.POST_GET_ALL_DOKTER_FOR_LOOKUP,this.GolonganDarahDatasource=[{text:"A+",value:"A+"},{text:"A-",value:"A-"},{text:"B+",value:"B+"},{text:"B-",value:"B-"},{text:"AB+",value:"AB+"},{text:"AB-",value:"AB-"},{text:"O+",value:"O+"},{text:"O-",value:"O-"}],this.GolonganDarahFields={text:"text",value:"value"},this.UrlLookupTarifBerlaku=this.API_DASHBOARD_DOKTER.GET_TARIF_ORDER_DARAH}ngOnInit(){this.FormBankDarah=this.formBuilder.group({id_register:[this.daftarPasienService.ActivePasien.value.id_register,[]],id_kelas:[this.daftarPasienService.ActivePasien.value.id_kelas_rawat,[]],kode_grup_penunjang:["LAB",[]],id_icd:[0,[]],id_poli_order:[this.daftarPasienService.ActivePasien.value.id_poli,[]],id_dokter_order:[this.daftarPasienService.ActivePasien.value.id_dokter,[]],keterangan:["",[]],keterangan_sample:["",[]],is_order_darah:[!0,[]],master_order_darah:this.formBuilder.group({is_pernah_tranfusi:[!1,[]],is_hamil:[!1,[]],gol_darah:["",[]],tgl_diperlukan:[new Date,[]],indikasi_transfusi:["",[]],catatan:["",[]]})})}handleOpenModalBankDarah(){document.getElementById("btnBankDarah").click()}handleSelectedDiagnosa(e){this.id_icd.setValue(e.id_icd)}handleSelectedLookupTarif(e){e.forEach(e=>{e.qty_order=1}),this.GridBankDarahDatasource.push(...e),this.GridData.Grid.refresh()}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.GridBankDarahRowIndex=e.rowIndex}handleActionComplete(e){}handleToolbarClick(e){"add"==e.item.id?this.LookupChecklist.hanldeOpenModalLookupChecklist():(this.GridBankDarahDatasource.splice(this.GridBankDarahRowIndex,1),this.GridData.Grid.refresh())}handleSubmitBankDarah(e){e.item_order_darah=this.GridBankDarahDatasource,this.bankDarahService.onPostSaveBankDarah(e).subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success","Success","Order Darah Berhasil Disimpan").then(()=>{this.onResetFormBankDarah(),this.handleCloseModalBankDarah()})})}onResetFormBankDarah(){this.id_icd.setValue(0),this.keterangan.setValue(""),this.keterangan_sample.setValue(""),this.is_pernah_tranfusi.setValue(!1),this.is_hamil.setValue(!1),this.gol_darah.setValue(""),this.GolonganDarah.value=null,this.tgl_diperlukan.setValue(new Date),this.indikasi_transfusi.setValue(""),this.catatan.setValue(""),this.GridBankDarahDatasource=[],this.GridData.Grid.refresh()}handleCloseModalBankDarah(){document.getElementById("btnCloseModal").click()}get id_register(){return this.FormBankDarah.get("id_register")}get id_kelas(){return this.FormBankDarah.get("id_kelas")}get kode_grup_penunjang(){return this.FormBankDarah.get("kode_grup_penunjang")}get id_icd(){return this.FormBankDarah.get("id_icd")}get id_poli_order(){return this.FormBankDarah.get("id_poli_order")}get id_dokter_order(){return this.FormBankDarah.get("id_dokter_order")}get keterangan(){return this.FormBankDarah.get("keterangan")}get keterangan_sample(){return this.FormBankDarah.get("keterangan_sample")}get is_order_darah(){return this.FormBankDarah.get("is_order_darah")}get master_order_darah(){return this.FormBankDarah.get("master_order_darah")}get is_pernah_tranfusi(){return this.FormBankDarah.get("master_order_darah.is_pernah_tranfusi")}get is_hamil(){return this.FormBankDarah.get("master_order_darah.is_hamil")}get gol_darah(){return this.FormBankDarah.get("master_order_darah.gol_darah")}get tgl_diperlukan(){return this.FormBankDarah.get("master_order_darah.tgl_diperlukan")}get indikasi_transfusi(){return this.FormBankDarah.get("master_order_darah.indikasi_transfusi")}get catatan(){return this.FormBankDarah.get("master_order_darah.catatan")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(u.t),s.Y36(qe),s.Y36(h.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-bank-darah"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Ie,5),s.Gf(Pe,5),s.Gf(Ne,5),s.Gf(Ge,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupDiagnosa=e.first),s.iGM(e=s.CRH())&&(t.LookupKodeDokter=e.first),s.iGM(e=s.CRH())&&(t.GolonganDarah=e.first),s.iGM(e=s.CRH())&&(t.LookupChecklist=e.first)}},decls:106,vars:44,consts:[["type","button","id","btnBankDarah","data-bs-toggle","modal","data-bs-target","#modalBankDarah","hidden","",1,"btn","btn-primary"],["id","modalBankDarah","aria-labelledby","modalBankDarah","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["id","btnCloseModal","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-2"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card","shadow-sm"],[1,"card-header","p-2"],[1,"text-biru-muda","mb-0"],[1,"card-body","py-1","px-2"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["type","text","readonly","",1,"form-control","form-select-sm",3,"value"],[3,"label","modal-title","filter-lookup","lookup-url","columns","idTitle","onGetSelectedData"],[1,"card-header","py-1","px-2"],["formGroupName","master_order_darah",1,"card-body","p-2"],[1,"row","mb-2","align-items-center"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","pt-2"],[1,"form-check","form-check-inline"],["type","radio","name","is_pernah_tranfusi","id","transfusi_sebelumnya_pernah","formControlName","is_pernah_tranfusi",1,"form-check-input",3,"value"],["for","transfusi_sebelumnya_pernah",1,"form-check-label"],["type","radio","name","is_pernah_tranfusi","id","transfusi_sebelumnya_tidak","formControlName","is_pernah_tranfusi",1,"form-check-input",3,"value"],["for","transfusi_sebelumnya_tidak",1,"form-check-label"],["type","radio","name","is_hamil","id","untuk_wanita_hamil","formControlName","is_hamil",1,"form-check-input",3,"value"],["for","untuk_wanita_hamil",1,"form-check-label"],["type","radio","name","is_hamil","id","hamil_wanita_tidak","formControlName","is_hamil",1,"form-check-input",3,"value"],["for","hamil_wanita_tidak",1,"form-check-label"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8","pt-1"],["formControlName","gol_darah",3,"dataSource","fields"],["GolonganDarah",""],["formControlName","tgl_diperlukan",3,"format"],[1,"col-lg-12","col-md-12","col-xs-12","col-sm-12"],[3,"label","divLabelClass","divInputClass","modal-title","filter-lookup","lookup-url","columns","idTitle","onGetSelectedData"],[1,"row","mb-1"],["id","indikasi_transfusi","formControlName","indikasi_transfusi",1,"form-control","form-select-sm"],["id","catatan","formControlName","catatan",1,"form-control","form-select-sm"],[3,"grid-height","grid-DataSource","grid-paging","grid-lines","grid-toolbar","columns","row-selected","toolbar-click","initialized"],["GridData",""],[3,"LookupTitle","LookupUrl","LookupFilters","GridId","GridColumns","OnGetSelectedRecords"],["LookupChecklist",""],[1,"modal-footer","p-1","background-abu-muda"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-123"],["type","button",1,"btn","btn-danger","btn-sm","mx-2",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(s._UZ(0,"button",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"h5",5),s._uU(6,"Bank Darah"),s.qZA(),s._UZ(7,"button",6),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"form",8),s.TgZ(10,"div",9),s.TgZ(11,"div",10),s.TgZ(12,"div",11),s.TgZ(13,"div",12),s.TgZ(14,"p",13),s._uU(15,"Pasien"),s.qZA(),s.qZA(),s.TgZ(16,"div",14),s.TgZ(17,"div",15),s.TgZ(18,"div",16),s.TgZ(19,"div",15),s.TgZ(20,"div",17),s.TgZ(21,"div",15),s.TgZ(22,"div",18),s._UZ(23,"atm-label",19),s.qZA(),s.TgZ(24,"div",20),s._UZ(25,"input",21),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",10),s.TgZ(27,"div",15),s.TgZ(28,"div",18),s._UZ(29,"atm-label",19),s.qZA(),s.TgZ(30,"div",20),s._UZ(31,"input",21),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(32,"div",16),s.TgZ(33,"org-input-look-up",22),s.NdJ("onGetSelectedData",function(e){return t.handleSelectedDiagnosa(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"div",9),s.TgZ(35,"div",10),s.TgZ(36,"div",11),s.TgZ(37,"div",23),s.TgZ(38,"p",13),s._uU(39,"Data Transfusi"),s.qZA(),s.qZA(),s.TgZ(40,"div",24),s.TgZ(41,"div",15),s.TgZ(42,"div",20),s.TgZ(43,"div",9),s.TgZ(44,"div",16),s.TgZ(45,"div",25),s.TgZ(46,"div",16),s._UZ(47,"atm-label",19),s.qZA(),s.TgZ(48,"div",26),s.TgZ(49,"div",27),s._UZ(50,"input",28),s.TgZ(51,"label",29),s._uU(52," Pernah "),s.qZA(),s.qZA(),s.TgZ(53,"div",27),s._UZ(54,"input",30),s.TgZ(55,"label",31),s._uU(56," Tidak "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(57,"div",25),s.TgZ(58,"div",16),s._UZ(59,"atm-label",19),s.qZA(),s.TgZ(60,"div",26),s.TgZ(61,"div",27),s._UZ(62,"input",32),s.TgZ(63,"label",33),s._uU(64," Hamil "),s.qZA(),s.qZA(),s.TgZ(65,"div",27),s._UZ(66,"input",34),s.TgZ(67,"label",35),s._uU(68," Tidak "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(69,"div",16),s.TgZ(70,"div",25),s.TgZ(71,"div",18),s._UZ(72,"atm-label",19),s.qZA(),s.TgZ(73,"div",36),s._UZ(74,"ejs-dropdownlist",37,38),s.qZA(),s.qZA(),s.TgZ(76,"div",25),s.TgZ(77,"div",18),s._UZ(78,"atm-label",19),s.qZA(),s.TgZ(79,"div",36),s._UZ(80,"ejs-datepicker",39),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(81,"div",15),s.TgZ(82,"div",40),s.TgZ(83,"org-input-look-up",41),s.NdJ("onGetSelectedData",function(e){return t.handleSelectedDiagnosa(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(84,"div",18),s.TgZ(85,"div",42),s.TgZ(86,"div",10),s._UZ(87,"atm-label",19),s._UZ(88,"input",43),s.qZA(),s.qZA(),s.TgZ(89,"div",15),s.TgZ(90,"div",10),s._UZ(91,"atm-label",19),s._UZ(92,"input",44),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(93,"div",15),s.TgZ(94,"div",10),s.TgZ(95,"mol-grid",45,46),s.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("initialized",function(e){return t.InitalizedGrid(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(97,"org-look-up-checklist",47,48),s.NdJ("OnGetSelectedRecords",function(e){return t.handleSelectedLookupTarif(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(99,"div",49),s.TgZ(100,"div",15),s.TgZ(101,"div",50),s.TgZ(102,"button",51),s.NdJ("click",function(){return t.handleCloseModalBankDarah()}),s._uU(103," Tutup "),s.qZA(),s.TgZ(104,"button",52),s.NdJ("click",function(){return t.handleSubmitBankDarah(t.FormBankDarah.value)}),s._uU(105," Simpan "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(9),s.Q6J("formGroup",t.FormBankDarah),s.xp6(14),s.Q6J("LabelCaption","No. Reg / RM"),s.xp6(2),s.hYB("value","",t.daftarPasienService.ActivePasien.value.no_register," / ",t.daftarPasienService.ActivePasien.value.no_rekam_medis,""),s.xp6(4),s.Q6J("LabelCaption","Nama Pasien"),s.xp6(2),s.s9C("value",t.daftarPasienService.ActivePasien.value.nama_pasien),s.xp6(2),s.Q6J("label","Diagnosa")("modal-title","Pilih Diagnosa")("filter-lookup",t.Config.LookupDiagnosa.filter)("lookup-url",t.urlDiagnosa)("columns",t.Config.LookupDiagnosa.columns)("idTitle","nama_icd"),s.xp6(14),s.Q6J("LabelCaption","Transfusi Sebelumnya"),s.xp6(3),s.Q6J("value",!0),s.xp6(4),s.Q6J("value",!1),s.xp6(5),s.Q6J("LabelCaption","Untuk Wanita"),s.xp6(3),s.Q6J("value",!0),s.xp6(4),s.Q6J("value",!1),s.xp6(6),s.Q6J("LabelCaption","Gol. Darah"),s.xp6(2),s.Q6J("dataSource",t.GolonganDarahDatasource)("fields",t.GolonganDarahFields),s.xp6(4),s.Q6J("LabelCaption","Tgl. Diperlukan"),s.xp6(2),s.Q6J("format","dd/MM/yyyy"),s.xp6(3),s.Q6J("label","Dokter Peminta")("divLabelClass","col-lg-3")("divInputClass","col-lg-9")("modal-title","Data Dokter")("filter-lookup",t.Config.LookupDokter.filter)("lookup-url",t.urlDokter)("columns",t.Config.LookupDokter.columns)("idTitle","full_name"),s.xp6(4),s.Q6J("LabelCaption","Indikasi Transfusi"),s.xp6(4),s.Q6J("LabelCaption","Catatan"),s.xp6(4),s.Q6J("grid-height",110)("grid-DataSource",t.GridBankDarahDatasource)("grid-paging",!1)("grid-lines","Both")("grid-toolbar",t.GridBankDarahToolbar)("columns",t.Config.GridBankDarahColumns),s.xp6(2),s.Q6J("LookupTitle","Daftar Tarif Order Darah")("LookupUrl",t.UrlLookupTarifBerlaku)("LookupFilters",t.Config.LookupTarif.filter)("GridId","LookupChecklistTarifBerlaku")("GridColumns",t.Config.LookupTarif.columns))},directives:[n._Y,n.JL,n.sg,P.D,pe.U,n.x0,n._,n.Fj,n.JJ,n.u,me.rI,N.Lr,O.q,Oe.R],styles:[""]}),e})(),Be=(()=>{class e{constructor(e,t){this.router=e,this.navigationService=t,this.ButtonNav=[{Id:"RiwayatPemeriksaan",Icons1:"fa-history",Captions:"Riwayat Pemeriksaan"},{Id:"BankDarah",Icons1:"fa-hand-holding-water",Captions:"Bank Darah"},{Id:"InputOrderBaru",Icons1:"fa-plus-circle",Captions:"Input Order Baru"}]}ngOnInit(){this.onClickButtonNav("RiwayatPemeriksaan")}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}onClickButtonNav(e){switch(e){case"RiwayatPemeriksaan":this.router.navigate(["/Dokter/laboratorium/riwayat-pemeriksaan"]);break;case"InputOrderBaru":this.router.navigate(["/Dokter/laboratorium/input-order-pemeriksaan"]);break;case"BankDarah":this.BankDarah.handleOpenModalBankDarah()}}handleOpenModalBankDarah(e){}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(c.f))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-laboratorium"]],viewQuery:function(e,t){if(1&e&&s.Gf(Fe,5),2&e){let e;s.iGM(e=s.CRH())&&(t.BankDarah=e.first)}},decls:4,vars:1,consts:[[3,"ButtonNav","onClickButtonNav"],["BankDarah",""]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s._UZ(1,"router-outlet"),s._UZ(2,"app-bank-darah",null,1),s.qZA()),2&e&&s.Q6J("ButtonNav",t.ButtonNav)},directives:[y.G,o.lC,Fe],styles:[""]}),e})();const Me=JSON.parse('{"GridDaftarOrder":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"numericEdit","field":"no_urut","headerText":"No","type":"string","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"tanggal_order_penunjang","headerText":"Tgl Order","type":"Date","format":"dd MMMM yyyy","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"tgl_hasil","headerText":"Tgl Hasil","type":"Date","format":"dd MMMM yyyy","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_poli","headerText":"Poli / Ruang","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_dokter","headerText":"Dokter Pemeriksa","type":"string","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_icd","headerText":"Diagnosa","type":"string","visible":true,"width":200},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_sample","headerText":"Catatan Sample","type":"string","visible":true,"width":100}]},"GridDetailOrder":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"id_mapping_tarif_penunjang","headerText":"ID MAPPING TARIF PENUNJANG","visible":false,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"id_order_penunjang","headerText":"ID ORDER PENUNJANG","visible":false,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"id_order_penunjang_detail","headerText":"ID ORDER PENUNJANG DETAIL","visible":false,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_setup_tarif","headerText":"Kode","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"numericEdit","field":"nama_tindakan_penunjang","headerText":"Nama Pemeriksaan","type":"string","visible":true,"width":200},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"status","headerText":"Status","type":"string","visible":true,"width":100}]}}');var Je=a.t(Me,2);let Ue=(()=>{class e{constructor(e,t,a){this.daftarPasienService=e,this.laboratoriumService=t,this.dashboardDokterService=a,this.GridDaftarOrderEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridDaftarOrderToolbar=["Search"],this.GridDaftarOrderDataSource=[],this.GridDaftarOrderColumns=Je,this.GridDetailOrderEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridDetailOrderToolbar=["Search"],this.GridDetailOrderDataSource=[],this.GridDetailOrderColumns=Je}get width(){return window.innerWidth}ngOnInit(){}ngAfterViewInit(){this.onGetRiwayatPemeriksaanLab()}onGetRiwayatPemeriksaanLab(){this.laboratoriumService.onGetRiwayatOrderLab(this.daftarPasienService.ActivePasien.value.id_register).subscribe(e=>{this.GridDaftarOrderDataSource=e.data})}onToolbarClick(e){}onRowSelected(e){this.laboratoriumService.onGetDetailRiwayatOrderLab(e.data.id_order_penunjang).subscribe(e=>{this.GridDetailOrderDataSource=e.data})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(h.O),s.Y36(Te),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-riwayat-pemeriksaan-lab"]],decls:17,vars:14,consts:[[1,"row","pt-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"card"],[1,"card-header","px-2"],[1,"text-biru-muda","mb-0"],[1,"card-body","p-0"],[3,"grid-id","grid-height","grid-lines","grid-editSettings","grid-toolbar","columns","grid-DataSource","toolbar-click","row-selected"],["gridDaftarOrder",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"grid-id","grid-height","grid-lines","grid-editSettings","grid-toolbar","columns","grid-DataSource"],["gridDetailOrder",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"p",4),s._uU(5,"Daftar Order"),s.qZA(),s.qZA(),s.TgZ(6,"div",5),s.TgZ(7,"mol-grid",6,7),s.NdJ("toolbar-click",function(e){return t.onToolbarClick(e)})("row-selected",function(e){return t.onRowSelected(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",8),s.TgZ(10,"div",2),s.TgZ(11,"div",3),s.TgZ(12,"p",4),s._uU(13,"Detail Order"),s.qZA(),s.qZA(),s.TgZ(14,"div",5),s._UZ(15,"mol-grid",9,10),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(7),s.Q6J("grid-id","GridDaftarOrder")("grid-height",t.width>=1400?"calc(100vh - 44rem)":"calc(100vh - 34rem)")("grid-lines","Both")("grid-editSettings",t.GridDaftarOrderEditSettings)("grid-toolbar",t.GridDaftarOrderToolbar)("columns",t.GridDaftarOrderColumns.GridDaftarOrder.columns)("grid-DataSource",t.GridDaftarOrderDataSource),s.xp6(8),s.Q6J("grid-id","GridDetailOrder")("grid-height",t.width>=1400?"calc(100vh - 44rem)":"calc(100vh - 34rem)")("grid-lines","Both")("grid-editSettings",t.GridDetailOrderEditSettings)("grid-toolbar",t.GridDetailOrderToolbar)("columns",t.GridDetailOrderColumns.GridDetailOrder.columns)("grid-DataSource",t.GridDetailOrderDataSource))},directives:[O.q],styles:["#GridDaftarOrder[_ngcontent-%COMP%] > .e-gridcontent[_ngcontent-%COMP%] > .e-content[_ngcontent-%COMP%]{height:calc(100vh - 35rem)!important}@media (min-width:1400px){#GridDaftarOrder[_ngcontent-%COMP%] > .e-gridcontent[_ngcontent-%COMP%] > .e-content[_ngcontent-%COMP%]{height:calc(100vh - 45rem)!important}}"]}),e})();const Le=JSON.parse('{"LookupDiagnosa":{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"kode_icd","headerText":"KODE ICD","type":"string","visible":true,"width":100},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_icd","headerText":"NAMA ICD","type":"string","visible":true,"width":300}],"filter":[{"field":" si1.kode_icd","filter":"like","title":"KODE ICD"},{"field":"si1.nama_icd","filter":"like","title":"NAMA ICD"}]}}');let Qe=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API_CONFIG=p.API_DASHBOARD_DOKTER.RADIOLOGI}onGetAllOrderPenunjang(){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_ALL_DATA_PENUNJANG)}onGetTarifRadiologiDetail(e){return this.httpOperationService.defaultPostRequestWithoutLoading(this.API_CONFIG.POST_GET_TARIF_RAD,e)}onPostSaveOrderPenunjang(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE_ORDER_RAD,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onGetRiwayatOrderLab(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_RIWAYAT_ORDER_RAD+e)}onGetDetailRiwayatOrderLab(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_DETAIL_RIWAYAT_ORDER_RAD+e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const je=["LookupDiagnosa"],Ke=["modalDialogAddDiagnosa"];function He(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",41),s.TgZ(1,"button",42),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(3).onClickTabButton(t)}),s._uU(2),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.MGl("id","tab.tab_id",e.kode_kelompok,"Button"),s.xp6(1),s.hij(" ",e.nama_kelompok," ")}}function Ye(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",49),s.TgZ(1,"input",50),s.NdJ("change",function(){s.CHM(e);const t=s.oxw(2).$implicit;return s.oxw(3).onChangeTabsCheckboxChildren(t,"Left")}),s.qZA(),s.TgZ(2,"label",45),s._uU(3," Left "),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2).$implicit;s.xp6(1),s.MGl("id","",e.id_mapping_tarif_penunjang,"Left"),s.Q6J("checked","L"==e.left_or_right||"LR"==e.left_or_right),s.xp6(1),s.MGl("for","",e.id_mapping_tarif_penunjang,"Left")}}function Ve(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",49),s.TgZ(1,"input",50),s.NdJ("change",function(){s.CHM(e);const t=s.oxw(2).$implicit;return s.oxw(3).onChangeTabsCheckboxChildren(t,"Right")}),s.qZA(),s.TgZ(2,"label",45),s._uU(3," Right "),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2).$implicit;s.xp6(1),s.MGl("id","",e.id_mapping_tarif_penunjang,"Right"),s.Q6J("checked","R"==e.left_or_right||"LR"==e.left_or_right),s.xp6(1),s.MGl("for","",e.id_mapping_tarif_penunjang,"Right")}}function We(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",49),s.TgZ(1,"input",51),s.NdJ("change",function(){s.CHM(e);const t=s.oxw(2).$implicit;return s.oxw(3).onChangeTabsCheckboxChildren(t,"Polos")}),s.qZA(),s.TgZ(2,"label",45),s._uU(3," Polos "),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2).$implicit;s.xp6(1),s.MGl("id","",e.id_mapping_tarif_penunjang,"Polos"),s.Q6J("checked","P"==e.polos_or_kontras),s.xp6(1),s.MGl("for","",e.id_mapping_tarif_penunjang,"Polos")}}function ze(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",49),s.TgZ(1,"input",52),s.NdJ("change",function(){s.CHM(e);const t=s.oxw(2).$implicit;return s.oxw(3).onChangeTabsCheckboxChildren(t,"Kontras")}),s.qZA(),s.TgZ(2,"label",45),s._uU(3," Kontras "),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2).$implicit;s.xp6(1),s.MGl("id","",e.id_mapping_tarif_penunjang,"Kontras"),s.Q6J("checked","K"==e.polos_or_kontras),s.xp6(1),s.MGl("for","",e.id_mapping_tarif_penunjang,"Kontras")}}function $e(e,t){if(1&e&&(s.TgZ(0,"div",47),s.YNc(1,Ye,4,3,"div",48),s.YNc(2,Ve,4,3,"div",48),s.YNc(3,We,4,3,"div",48),s.YNc(4,ze,4,3,"div",48),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",e.is_ada_left_right),s.xp6(1),s.Q6J("ngIf",e.is_ada_left_right),s.xp6(1),s.Q6J("ngIf",e.is_ada_polos_kontras),s.xp6(1),s.Q6J("ngIf",e.is_ada_polos_kontras)}}function Xe(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",43),s.TgZ(1,"input",44),s.NdJ("change",function(){const t=s.CHM(e).$implicit;return s.oxw(3).onChangeTabsCheckbox(t,"parent")}),s.qZA(),s.TgZ(2,"label",45),s._uU(3),s.qZA(),s.YNc(4,$e,5,4,"div",46),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.Q6J("value",e.parameter_checked)("id",e.id_mapping_tarif_penunjang+"CheckParameter")("checked",e.parameter_checked),s.xp6(1),s.ekj("text-biru-muda",e.item_rad),s.MGl("for","",e.id_mapping_tarif_penunjang,"CheckParameter"),s.xp6(1),s.hij(" ",e.nama_tindakan_penunjang," "),s.xp6(1),s.Q6J("ngIf",e.item_rad)}}function et(e,t){if(1&e&&(s.TgZ(0,"org-tabs-item"),s.TgZ(1,"org-tabs-label"),s._uU(2),s.ALo(3,"titlecase"),s.qZA(),s.TgZ(4,"org-tabs-body"),s.TgZ(5,"div",25),s.TgZ(6,"div",34),s.TgZ(7,"div",35),s.TgZ(8,"div",36),s.YNc(9,He,3,2,"div",37),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",38),s.TgZ(11,"div",35),s.TgZ(12,"div",39),s.YNc(13,Xe,5,8,"div",40),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit,a=s.oxw(2);s.xp6(2),s.Oqu(s.lcZ(3,3,e.nama_kelompok)),s.xp6(7),s.Q6J("ngForOf",e.child),s.xp6(4),s.Q6J("ngForOf",a.SelectedCheckbox)}}function tt(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"org-tabs",31,32),s.NdJ("onGetSelectedTabId",function(t){return s.CHM(e),s.oxw().onGetSelectedTabId(t)}),s.YNc(2,et,14,5,"org-tabs-item",33),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.TabsOrderRadiologi)}}function at(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"form",6),s.TgZ(1,"div",53),s.TgZ(2,"h5",54),s._uU(3,"Input Diagnosa Baru"),s.qZA(),s.TgZ(4,"button",55),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(5,"i",56),s.qZA(),s.qZA(),s.TgZ(6,"div",57),s._UZ(7,"mol-input-text",58),s._UZ(8,"mol-input-text",59),s._UZ(9,"org-input-look-up-kode",60),s._UZ(10,"mol-input-text",61),s._UZ(11,"mol-input-textarea",62),s.qZA(),s.TgZ(12,"div",63),s.TgZ(13,"div",25),s.TgZ(14,"div",64),s.TgZ(15,"button",9),s.NdJ("click",function(){s.CHM(e);const t=s.oxw();return t.onSubmitFormAddDiagnosa(t.FormAddDiagnosa.value)}),s._uU(16," Simpan "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("formGroup",e.FormAddDiagnosa),s.xp6(7),s.Q6J("label","Subjective"),s.xp6(1),s.Q6J("label","Objective"),s.xp6(1),s.Q6J("label","Assesment")("modal-title","Pilih Diagnosa"),s.xp6(1),s.Q6J("label","Assesment (Catatan)"),s.xp6(1),s.Q6J("label","Plan")}}let it=(()=>{class e{constructor(e,t,a,i,n,r,o){this.router=e,this.formBuilder=t,this.modalService=a,this.utilityService=i,this.radiologiService=n,this.daftarPasienService=r,this.dashboardDokterService=o,this.Config=Le,this.API_PIS_SETUP_DATA=X.API_SETUP_DATA,this.TabsOrderRadiologi=[],this.urlDiagnosa=this.API_PIS_SETUP_DATA.SETUP_ICD_DIAGNOSA.GET_ALL_DIAGNOSA_FOR_LOOKUP_ADMISI,this.GridDaftarOrderEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarOrderDatasource=[],this.gridDaftarOrder=null}ngOnInit(){this.GridDaftarOrderColumns=[{allowEditing:!1,allowSorting:!1,editType:"numericEdit",field:"id_mapping_tarif_penunjang",headerText:"ID MAPPING TARIF PENUNJANG",type:"number",visible:!1,width:150},{allowEditing:!1,allowSorting:!1,editType:"numericEdit",field:"id_mapping_tarif_penunjang_detail_radiologi",headerText:"ID MAPPING TARIF PENUNJANG DETAIL RADIOLOGI",type:"number",visible:!1,width:150},{allowEditing:!1,allowSorting:!1,editType:"numericEdit",field:"id_setup_tarif",headerText:"ID SETUP TARIF ",type:"number",visible:!1,width:150},{allowEditing:!1,allowSorting:!1,editType:"numericEdit",field:"nama_tindakan_penunjang",headerText:"Order Tindakan",type:"string",visible:!0,width:150},{allowEditing:!1,allowSorting:!1,editType:"defaultEdit",field:"left_or_right",headerText:"L/R",visible:!0,width:50,textAlign:"Center",headerTextAlign:"Center"},{allowEditing:!1,allowSorting:!1,editType:"defaultEdit",field:"polos_or_kontras",headerText:"P/K",visible:!0,width:50,textAlign:"Center",headerTextAlign:"Center"},{allowEditing:!1,allowSorting:!1,editType:"numericEdit",field:"qty_order",headerText:"Qty",type:"number",textAlign:"Right",headerTextAlign:"Right",format:"N0",visible:!1,width:70},{allowEditing:!1,allowSorting:!1,editType:"defaultEdit",field:"keterangan_order",headerText:"Keterangan",textAlign:"Left",visible:!1,width:70}],this.FormAddDiagnosa=this.formBuilder.group({subjective:["",[]],objective:["",[]],assesment:["",[]],catatan_assesment:["",[]],plan:["",[]]}),this.FormInsertOrderRad=this.formBuilder.group({id_register:[0,[]],id_kelas:[0,[]],kode_grup_penunjang:["RAD",[]],id_icd:[0,[]],id_poli_order:[0,[]],id_dokter_order:[0,[]],keterangan:["",[]],keterangan_sample:["",[]],is_order_darah:[!1,[]]}),this.onGetAllIDataOrderPenunjang()}onGetAllIDataOrderPenunjang(){this.radiologiService.onGetAllOrderPenunjang().subscribe(e=>{this.TabsOrderRadiologi=e.data})}onGetSelectedTabId(e){}onClickTabButton(e){this.SelectedCheckbox=e.radChild,this.onCheckGridDaftarOrderDatasource()}onChangeTabsCheckbox(e){let t=document.getElementById(e.id_mapping_tarif_penunjang+"CheckParameter");if(t.checked=t.checked,t.checked)t.value="true",this.onAddItemToGridDaftarOrder(e);else if(t.value="false",this.onRemoveItemFromGridDaftarOrder(e),e.parameter_hasil){let t=document.getElementById(e.id_mapping_tarif_penunjang+"Left");t.checked=!1,t.value="false";let a=document.getElementById(e.id_mapping_tarif_penunjang+"Right");a.checked=!1,a.value="false",document.getElementById(e.id_mapping_tarif_penunjang+"Polos").checked=!1,document.getElementById(e.id_mapping_tarif_penunjang+"Kontras").checked=!1}}onChangeTabsCheckboxChildren(e,t){const a=this.GridDaftarOrderDatasource.map(e=>e.id_mapping_tarif_penunjang).indexOf(e.id_mapping_tarif_penunjang);if("Left"==t||"Right"==t){let t=document.getElementById(e.id_mapping_tarif_penunjang+"Left"),i=document.getElementById(e.id_mapping_tarif_penunjang+"Right");t.checked&&i.checked?(e.left_or_right="LR",e.item_rad.is_satu_sisi=!1,e.item_rad.is_dua_sisi=!0):i.checked?(e.left_or_right="R",e.item_rad.is_satu_sisi=!0,e.item_rad.is_dua_sisi=!1):t.checked?(e.left_or_right="L",e.item_rad.is_satu_sisi=!0,e.item_rad.is_dua_sisi=!1):(e.left_or_right="",e.item_rad.is_satu_sisi=!1,e.item_rad.is_dua_sisi=!1),this.GridDaftarOrderDatasource[a].left_or_right=e.left_or_right,this.gridDaftarOrder.Grid.refresh()}if("Polos"==t||"Kontras"==t){let t=document.getElementById(e.id_mapping_tarif_penunjang+"Polos"),i=document.getElementById(e.id_mapping_tarif_penunjang+"Kontras");t.checked?(e.polos_or_kontras="P",e.item_rad.is_polos=!0,e.item_rad.is_kontras=!1):i.checked?(e.polos_or_kontras="K",e.item_rad.is_polos=!1,e.item_rad.is_kontras=!0):(e.polos_or_kontras="",e.item_rad.is_polos=!1,e.item_rad.is_kontras=!1),this.GridDaftarOrderDatasource[a].polos_or_kontras=e.polos_or_kontras,this.gridDaftarOrder.Grid.refresh()}const i={id_mapping_tarif_penunjang:e.id_mapping_tarif_penunjang,is_satu_sisi:e.item_rad.is_satu_sisi,is_dua_sisi:e.item_rad.is_dua_sisi,is_kontras:e.item_rad.is_kontras,is_polos:e.item_rad.is_polos};i&&this.onGetTarifRadiologiDetail(i,a)}onGetTarifRadiologiDetail(e,t){this.radiologiService.onGetTarifRadiologiDetail(e).subscribe(e=>{this.GridDaftarOrderDatasource[t].id_mapping_tarif_penunjang_detail_radiologi=e.data.id_mapping_tarif_penunjang_detail_radiologi,this.GridDaftarOrderDatasource[t].id_setup_tarif=e.data.id_setup_tarif,this.GridDaftarOrderDatasource[t].qty_order=1,this.GridDaftarOrderDatasource[t].keterangan_order=""})}onCheckGridDaftarOrderDatasource(){this.GridDaftarOrderDatasource.forEach(e=>{e.parameter_checked=!0;let t=document.getElementById(e.id_mapping_tarif_penunjang+"CheckParameter");if(t&&(t.checked=!0),e.left_or_right){let t=document.getElementById(e.id_mapping_tarif_penunjang+"Left"),a=document.getElementById(e.id_mapping_tarif_penunjang+"Right");(t||a)&&("LR"==e.left_or_right?(t.checked=!0,a.checked=!0):"L"==e.left_or_right?t.checked=!0:"R"==e.left_or_right&&(a.checked=!0))}if(e.polos_or_kontras){let t=document.getElementById(e.id_mapping_tarif_penunjang+"Polos"),a=document.getElementById(e.id_mapping_tarif_penunjang+"Kontras");(t||a)&&(e.polos_or_kontras=t.checked?"P":a.checked?"K":"")}})}onAddItemToGridDaftarOrder(e){this.GridDaftarOrderDatasource.push(e),this.onCheckGridDaftarOrderDatasource(),this.gridDaftarOrder.Grid.refresh()}onRemoveItemFromGridDaftarOrder(e){const t=this.GridDaftarOrderDatasource.map(e=>e.id_mapping_tarif_penunjang).indexOf(e.id_mapping_tarif_penunjang);this.GridDaftarOrderDatasource[t].parameter_checked=!1,this.GridDaftarOrderDatasource[t].left_or_right="",this.GridDaftarOrderDatasource[t].polos_or_kontras="",this.GridDaftarOrderDatasource.splice(t,1),this.gridDaftarOrder.Grid.refresh()}onInitalizedGrid(e){this.gridDaftarOrder=e}onRowSelected(e){}onClickButtonAddDiagnosa(){this.modalRef=this.modalService.show(this.modalDialogAddDiagnosa,Object.assign({},{class:"modal-lg"}))}onClickPilihDiagnosa(){this.LookupDiagnosa.onOpenModal()}onGetSeletedLookupDiagnosa(e){this.id_icd.setValue(e.id_icd),this.keterangan.setValue(`${e.kode_icd} - ${e.nama_icd}`)}onSubmitFormAddDiagnosa(e){console.log(e)}onSubmitRadiologiPasien(e){let t=JSON.parse(localStorage.getItem("UserData"));e.id_dokter_order=t.id_karyawan,e.id_kelas=this.daftarPasienService.ActivePasien.value.id_kelas_rawat,e.id_poli_order=this.daftarPasienService.ActivePasien.value.id_poli,e.id_register=this.daftarPasienService.ActivePasien.value.id_register,e.is_order_darah=!1;const a=this.GridDaftarOrderDatasource;a.forEach(e=>{if(e.left_or_right)switch(e.left_or_right){case"LR":e.posisi="LEFT_RIGHT";break;case"L":e.posisi="LEFT";break;case"R":e.posisi="RIGHT";break;case"":e.posisi=""}else e.posisi="";if(e.polos_or_kontras)switch(e.polos_or_kontras){case"P":e.pk="POLOS";break;case"K":e.pk="KONTRAS";break;case"":e.posisi=""}else e.pk=""}),e.item_order=a,this.radiologiService.onPostSaveOrderPenunjang(e).subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success","Success","Order Radiologi Berhasil Disimpan").then(()=>{this.onResetFormRadiologiPasien(),setTimeout(()=>{this.router.navigate(["/Dokter/radiologi/riwayat-pemeriksaan"])},500)})})}onResetFormRadiologiPasien(){this.FormInsertOrderRad.reset(),this.id_register.setValue(0),this.id_kelas.setValue(0),this.kode_grup_penunjang.setValue("RAD"),this.id_icd.setValue(0),this.id_poli_order.setValue(0),this.id_dokter_order.setValue(0),this.keterangan.setValue(""),this.keterangan_sample.setValue(""),this.is_order_darah.setValue(!1)}get id_register(){return this.FormInsertOrderRad.get("id_register")}get id_kelas(){return this.FormInsertOrderRad.get("id_kelas")}get kode_grup_penunjang(){return this.FormInsertOrderRad.get("kode_grup_penunjang")}get id_icd(){return this.FormInsertOrderRad.get("id_icd")}get id_poli_order(){return this.FormInsertOrderRad.get("id_poli_order")}get id_dokter_order(){return this.FormInsertOrderRad.get("id_dokter_order")}get keterangan(){return this.FormInsertOrderRad.get("keterangan")}get keterangan_sample(){return this.FormInsertOrderRad.get("keterangan_sample")}get is_order_darah(){return this.FormInsertOrderRad.get("is_order_darah")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(n.qu),s.Y36(ee.tT),s.Y36(u.t),s.Y36(Qe),s.Y36(h.O),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-input-order-baru"]],viewQuery:function(e,t){if(1&e&&(s.Gf(je,5),s.Gf(Ke,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupDiagnosa=e.first),s.iGM(e=s.CRH())&&(t.modalDialogAddDiagnosa=e.first)}},decls:43,vars:12,consts:[[1,"row","pt-2"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],[3,"onGetSelectedTabId",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[1,"card","border-0","shadow-sm"],[1,"card-body","p-2"],[3,"formGroup"],[1,"row","mb-3","justify-content-end"],["hidden","",1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","text-start"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","text-end"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["modalDialogAddDiagnosa",""],[1,"row","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],["for","Keterangan",1,"form-label"],["type","text","id","Keterangan","rows","2","formControlName","keterangan",1,"form-control"],["type","text","id","Catatan","formControlName","keterangan_sample",1,"form-control"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"card-header"],[1,"text-biru-muda","mb-0"],[1,"card-body","p-0"],[3,"grid-id","grid-height","grid-lines","grid-editSettings","columns","grid-DataSource","row-selected","initialized"],["gridDaftarOrder",""],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","text-end"],["type","button",1,"btn","btn-primary","btn-sm","me-2",3,"click"],["type","button",1,"btn","btn-danger","btn-sm"],[3,"modal-title","filter-lookup","lookup-url","columns","onGetSelectedData"],["LookupDiagnosa",""],[3,"onGetSelectedTabId"],["OrgTabsRef",""],[4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5"],[1,"card","shadow-sm","border-0"],[1,"card-body","px-2","py-1","cardButtonRadiologi"],["class","mb-2",4,"ngFor","ngForOf"],[1,"col-lg-7","col-md-7","col-sm-7","col-xs-7"],[1,"card-body","p-2","cardButtonRadiologi"],["class","form-check",4,"ngFor","ngForOf"],[1,"mb-2"],["type","button",1,"btn","btn-primary","btn-sm",2,"width","100%",3,"id","click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","id","checked","change"],[1,"form-check-label",3,"for"],["class","my-1",4,"ngIf"],[1,"my-1"],["class","form-check form-check-inline",4,"ngIf"],[1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],["type","radio","name","polosOrKontras","value","polos",1,"form-check-input",3,"id","checked","change"],["type","radio","name","polosOrKontras","value","kontras",1,"form-check-input",3,"id","checked","change"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body"],["formControlName","subjective",3,"label"],["formControlName","objective",3,"label"],[3,"label","modal-title"],[3,"label"],["formControlName","plan",3,"label"],[1,"modal-footer","p-2","background-abu-muda"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-123"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,tt,3,1,"org-tabs",2),s.qZA(),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"form",6),s.TgZ(7,"div",7),s.TgZ(8,"div",8),s.TgZ(9,"button",9),s.NdJ("click",function(){return t.onClickButtonAddDiagnosa()}),s._uU(10," Input Diagnosa "),s.qZA(),s.qZA(),s.TgZ(11,"div",10),s.TgZ(12,"button",11),s.NdJ("click",function(){return t.onClickPilihDiagnosa()}),s._uU(13," Pilih Diagnosa "),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,at,17,7,"ng-template",null,12,s.W1O),s.TgZ(16,"div",13),s.TgZ(17,"div",14),s.TgZ(18,"label",15),s._uU(19,"Keterangan Klinik Penderita"),s.qZA(),s.TgZ(20,"textarea",16),s._uU(21,"                            "),s.qZA(),s.qZA(),s.TgZ(22,"div",14),s.TgZ(23,"label",15),s._uU(24,"Catatan"),s.qZA(),s._UZ(25,"input",17),s.qZA(),s.qZA(),s.TgZ(26,"div",13),s.TgZ(27,"div",18),s.TgZ(28,"div",19),s.TgZ(29,"div",20),s.TgZ(30,"p",21),s._uU(31," Daftar Order "),s.qZA(),s.qZA(),s.TgZ(32,"div",22),s.TgZ(33,"mol-grid",23,24),s.NdJ("row-selected",function(e){return t.onRowSelected(e)})("initialized",function(e){return t.onInitalizedGrid(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(35,"div",25),s.TgZ(36,"div",26),s.TgZ(37,"button",27),s.NdJ("click",function(){return t.onSubmitRadiologiPasien(t.FormInsertOrderRad.value)}),s._uU(38,"Simpan"),s.qZA(),s.TgZ(39,"button",28),s._uU(40,"Cancel"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"org-look-up",29,30),s.NdJ("onGetSelectedData",function(e){return t.onGetSeletedLookupDiagnosa(e)}),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",t.TabsOrderRadiologi.length>0),s.xp6(4),s.Q6J("formGroup",t.FormInsertOrderRad),s.xp6(27),s.Q6J("grid-id","GridDaftarOrder")("grid-height","calc(100vh - 34.1rem)")("grid-lines","Both")("grid-editSettings",t.GridDaftarOrderEditSettings)("columns",t.GridDaftarOrderColumns)("grid-DataSource",t.GridDaftarOrderDatasource),s.xp6(8),s.Q6J("modal-title","Pilih Diagnosa")("filter-lookup",t.Config.LookupDiagnosa.filter)("lookup-url",t.urlDiagnosa)("columns",t.Config.LookupDiagnosa.columns))},directives:[i.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,O.q,Ae.N,R.D,i.sg,C.K,E.x,q.C,I._,ne.E,ie.h],pipes:[i.rS],styles:[".cardButtonRadiologi[_ngcontent-%COMP%]{height:calc(100vh - 14rem);max-height:calc(100vh - 14rem);overflow-y:auto}"]}),e})(),nt=(()=>{class e{constructor(e,t){this.router=e,this.navigationService=t,this.ButtonNav=[{Id:"RiwayatPemeriksaan",Icons1:"fa-history",Captions:"Riwayat Pemeriksaan"},{Id:"InputOrderBaru",Icons1:"fa-plus-circle",Captions:"Input Order Baru"}]}ngOnInit(){this.onClickButtonNav("RiwayatPemeriksaan")}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}onClickButtonNav(e){switch(e){case"RiwayatPemeriksaan":this.router.navigateByUrl("/Dokter/radiologi/riwayat-pemeriksaan");break;case"InputOrderBaru":this.router.navigateByUrl("/Dokter/radiologi/input-order-pemeriksaan")}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(c.f))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-radiologi"]],decls:2,vars:1,consts:[[3,"ButtonNav","onClickButtonNav"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s._UZ(1,"router-outlet"),s.qZA()),2&e&&s.Q6J("ButtonNav",t.ButtonNav)},directives:[y.G,o.lC],styles:[""]}),e})();const rt=JSON.parse('{"GridDaftarOrder":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"tanggal_order_penunjang","headerText":"Tgl Order","type":"Date","format":"dd MMMM yyyy","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"tgl_hasil","headerText":"Tgl Hasil","type":"Date","format":"dd MMMM yyyy","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_poli","headerText":"Poli / Ruang","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_dokter","headerText":"Dokter Pemeriksa","type":"string","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_icd","headerText":"Diagnosa","type":"string","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_sample","headerText":"Catatan Sample","type":"string","visible":true,"width":150}]},"GridDetailOrder":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"numericEdit","field":"nama_tindakan_penunjang","headerText":"Nama Pemeriksaan","type":"string","visible":true,"width":200},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rad_posisi","headerText":"Posisi","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rad_pk","headerText":"Polos / Kontras","visible":true,"width":100},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"tgl_hasil","headerText":"Tgl Hasil","type":"Date","format":"dd MMMM yyyy","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"status","headerText":"Status","type":"string","visible":true,"width":100}]}}');var ot=a.t(rt,2);let lt=(()=>{class e{constructor(e,t,a){this.radiologiService=e,this.daftarPasienService=t,this.dashboardDokterService=a,this.GridDaftarOrderEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridDaftarOrderToolbar=["Search"],this.GridDaftarOrderColumns=ot,this.GridDetailOrderEditSettings={allowAdding:!1,allowDeleting:!1,allowEditing:!1},this.GridDetailOrderToolbar=["Search"],this.GridDetailOrderColumns=ot}get width(){return window.innerWidth}ngOnInit(){}ngAfterViewInit(){this.onGetRiwayatPemeriksaanLab()}onGetRiwayatPemeriksaanLab(){this.radiologiService.onGetRiwayatOrderLab(this.daftarPasienService.ActivePasien.value.id_register).subscribe(e=>{this.GridDaftarOrderDataSource=e.data})}onToolbarClick(e){}onRowSelected(e){this.radiologiService.onGetDetailRiwayatOrderLab(e.data.id_order_penunjang).subscribe(e=>{this.GridDetailOrderDataSource=e.data})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Qe),s.Y36(h.O),s.Y36(b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-riwayat-pemeriksaan-rad"]],decls:17,vars:14,consts:[[1,"row","pt-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"card"],[1,"card-header","px-2"],[1,"text-biru-muda","mb-0"],[1,"card-body","p-0"],[3,"grid-id","grid-height","grid-lines","grid-editSettings","grid-toolbar","columns","grid-DataSource","toolbar-click","row-selected"],["gridDaftarOrder",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["gridDetailOrder",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"p",4),s._uU(5,"Daftar Order"),s.qZA(),s.qZA(),s.TgZ(6,"div",5),s.TgZ(7,"mol-grid",6,7),s.NdJ("toolbar-click",function(e){return t.onToolbarClick(e)})("row-selected",function(e){return t.onRowSelected(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",8),s.TgZ(10,"div",2),s.TgZ(11,"div",3),s.TgZ(12,"p",4),s._uU(13,"Daftar Order"),s.qZA(),s.qZA(),s.TgZ(14,"div",5),s.TgZ(15,"mol-grid",6,9),s.NdJ("toolbar-click",function(e){return t.onToolbarClick(e)})("row-selected",function(e){return t.onRowSelected(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(7),s.Q6J("grid-id","GridDaftarOrder")("grid-height",t.width>=1400?"calc(100vh - 44rem)":"calc(100vh - 34rem)")("grid-lines","Both")("grid-editSettings",t.GridDaftarOrderEditSettings)("grid-toolbar",t.GridDaftarOrderToolbar)("columns",t.GridDaftarOrderColumns.GridDaftarOrder.columns)("grid-DataSource",t.GridDaftarOrderDataSource),s.xp6(8),s.Q6J("grid-id","GridDetailOrder")("grid-height",t.width>=1400?"calc(100vh - 44rem)":"calc(100vh - 34rem)")("grid-lines","Both")("grid-editSettings",t.GridDetailOrderEditSettings)("grid-toolbar",t.GridDetailOrderToolbar)("columns",t.GridDetailOrderColumns.GridDetailOrder.columns)("grid-DataSource",t.GridDetailOrderDataSource))},directives:[O.q],styles:[""]}),e})();const dt=JSON.parse('{"GridColumns":[{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":100}]}');var st=a.t(dt,2),ut=a(8757),ct=a(1468),gt=a(2064);const ht=["GridResepRacikan"],mt=["GridData"];function pt(e,t){1&e&&(s.TgZ(0,"a",19),s._uU(1,"Lihat Detail Resep"),s.qZA())}function _t(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",14),s.TgZ(1,"div",15),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().handleClickDetail(t)}),s.TgZ(2,"p",16),s._uU(3),s.ALo(4,"titlecase"),s.ALo(5,"titlecase"),s.TgZ(6,"span",17),s._uU(7),s.qZA(),s.YNc(8,pt,2,0,"a",18),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(3),s.AsE(" ",s.lcZ(4,5,e.headerText)," ",s.lcZ(5,7,e.key)," - \xa0 "),s.xp6(4),s.AsE(" ",e.count," ","nama_dokter"==e.field?"resep":"obat"," "),s.xp6(1),s.Q6J("ngIf","nomor_resep"==e.field)}}const ft=function(){return{wrapMode:"Both"}};let bt=(()=>{class e{constructor(e,t,a){this.router=e,this.encryptionService=t,this.resepDokterIrdaService=a,this.ButtonNav=[{Id:"Add",Captions:"Buat Resep Baru",Icons1:"fa-plus fa-sm"},{Id:"pulang",Captions:"Resep Pulang",Icons1:"fa-home fa-sm"}],this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.FilterColumnDatasource=[{text:"No. Kontrak",value:"tks.nomor_kontrak"},{text:"Judul Kontrak",value:"tks.judul_kontrak"}],this.GridConfig=st,this.dataSource=[],this.dataSourceChild=[],this.keterangan=(e,t)=>t.nama_rute_pemberian_obat+", sehari "+t.qty_harian+" "+t.nama_satuan+" "+t.ket_label+" "+t.satuan_aturan_pakai+" "+t.ket_aturan,this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan+"/Hari, untuk "+t.jumlah_hari+" Hari",this.GridGroupSettings={showDropArea:!1,columns:["nama_dokter","nomor_resep"]}}ngAfterViewInit(){}ngOnInit(){this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild},this.resepDokterIrdaService.onInitList(),this.handlePencarianFilter([])}rowDataBound(e){}onDataBound(){}handlePencarianFilter(e){this.resepDokterIrdaService.onGetAllByResepActiveByRegister(e).subscribe(e=>{this.dataSource=e.data,this.mapingRacikan(e.data),this.GridResepRacikan.refresh()})}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}handleClickDetail(e){console.log(e);let t=this.dataSource.filter(t=>t.nomor_resep===e.key);if(console.log("item klik",t),t.length){const t=this.encryptionService.encrypt(JSON.stringify(e.items[0].resep_id));this.router.navigate(["Dokter/resep-irda/view-resep-irda",t,"GRAHCIS"])}}handleClickButtonNav(e){switch(e){case"Add":this.router.navigateByUrl("Dokter/resep-irda/input-resep-irda");break;case"Edit":const e=this.encryptionService.encrypt(JSON.stringify(this.SelectedData.resep_id));this.router.navigate(["Dokter/resep-irda/input-resep-irda",e,"GRAHCIS"]);break;case"pulang":this.router.navigateByUrl("Dokter/resep-irda/pulang-resep-irda")}}handleSelectedRow(e){this.SelectedData=e.data,console.log(this.SelectedData)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(ut.C),s.Y36(ct.f))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-daftar-resep-irda"]],viewQuery:function(e,t){if(1&e&&(s.Gf(ht,5),s.Gf(mt,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.GridData=e.first)}},decls:16,vars:24,consts:[[3,"ButtonNav","onClickButtonNav"],[1,"row","pt-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[3,"FilterColumnDatasource","handle-pencarian"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["height","calc(100vh - 15rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowGrouping","groupSettings","allowTextWrap","textWrapSettings","rowDataBound","dataBound"],["GridResepRacikan",""],["field","nama_dokter","headerText","Dokter","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nomor_resep","headerText","Nomor Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","rute_pemberian_obat","headerText","Pemakain","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["groupSettingsCaptionTemplate",""],["title","",1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12",3,"click"],[1,"mb-0",2,"font-size","15px"],[1,"mb-0"],["class","cursor-pointer","title","lihat detail resep",4,"ngIf"],["title","lihat detail resep",1,"cursor-pointer"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"mol-offcanvas-filter",3),s.NdJ("handle-pencarian",function(e){return t.handlePencarianFilter(e)}),s.qZA(),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"ejs-grid",5,6),s.NdJ("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()}),s.TgZ(7,"e-columns"),s._UZ(8,"e-column",7),s._UZ(9,"e-column",8),s._UZ(10,"e-column",9),s._UZ(11,"e-column",10),s._UZ(12,"e-column",11),s._UZ(13,"e-column",12),s.qZA(),s.YNc(14,_t,9,9,"ng-template",null,13,s.W1O),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(3),s.Q6J("FilterColumnDatasource",t.FilterColumnDatasource),s.xp6(2),s.Q6J("dataSource",t.dataSource)("childGrid",t.childGrid)("allowGrouping",!0)("groupSettings",t.GridGroupSettings)("allowTextWrap",!0)("textWrapSettings",s.DdM(23,ft)),s.xp6(3),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",220)("valueAccessor",t.quantity),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1))},directives:[y.G,gt.W,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,i.O5],pipes:[i.rS],styles:[".e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:10px 5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}#GridResepRacikancaptioncell[_ngcontent-%COMP%]{background-color:var(--biru-tua);box-shadow:0 .125rem .25rem rgba(0,0,0,.08)!important}.e-grid[_ngcontent-%COMP%]   .e-detailheadercell[_ngcontent-%COMP%], div.e-gridcontent[_ngcontent-%COMP%]   tr.e-detailrow[_ngcontent-%COMP%]   td.e-detailcell[_ngcontent-%COMP%]   div.e-headercontent[_ngcontent-%COMP%]   th.e-headercell[_ngcontent-%COMP%], td.e-detailcell.e-lastrowcell[_ngcontent-%COMP%]{background-color:var(--biru-muda)!important}"]}),e})();var kt=a(4762),Tt=a(654),At=a(1611);const vt=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var Zt=a.t(vt,2);const wt=JSON.parse('{"GridInputResep":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rx","headerText":"Rx","type":"string","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_urut","headerText":"No","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_resep","headerText":"Kode Resep","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Obat","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"satuan","headerText":"Satuan","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"qty_obat","headerText":"Qty","format":"N","textAlign":"Right","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"aturan_pakai","headerText":"Jumlah Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_pakai","headerText":"Aturan Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"waktu_pakai","headerText":"Waktu Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"catatan","headerText":"Catatan","type":"string","visible":true,"width":100}]},"GridHistoryResep":{"columns":[],"dataSource":[]}}');var St=a.t(wt,2);const xt=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_template","headerText":"Nama Template Resep","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_resep","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var Dt=a.t(xt,2),yt=a(5776),Rt=a(9609),Ct=a.n(Rt),Et=a(2501),qt=a.n(Et),Ot=a(5521),It=a(4452),Pt=a(917);let Nt=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API=At.PHARMACY.SETUP_DATA.SETUP_INTERVAL_ATURAN_PAKAI,this.dataSource=new m.X([])}setDataSource(){this.onGetAll().subscribe(e=>{this.dataSource.next(e.data)})}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API.INSERT,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutEdit(e){return this.httpOperationService.defaultPutRequest(this.API.UPDATE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Gt=a(1344),Ft=a(1123),Bt=a(7862),Mt=a(7696),Jt=a(389);const Ut=["LookupRacikan"],Lt=["LookupTemplateResep"],Qt=["modalTemplateResep"],jt=["GridResepRacikan"],Kt=["itemTemplate"];function Ht(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",57),s.TgZ(1,"div",2),s.TgZ(2,"div",6),s.TgZ(3,"label",18),s._uU(4,"Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",6),s.TgZ(6,"ejs-dropdownlist",58,59),s.NdJ("filtering",function(t){return s.CHM(e),s.oxw().onFiltering(t)})("change",function(t){return s.CHM(e),s.oxw().handleChangeObat(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(6),s.Q6J("allowFiltering",!0)("dataSource",e.data)("fields",e.fields)("placeholder",e.text)("query",e.query)("sortOrder",e.sorting)("allowFiltering",!0)}}function Yt(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",60),s.TgZ(1,"div",2),s.TgZ(2,"div",6),s.TgZ(3,"label",18),s._uU(4,"Nama Racikan Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",6),s.TgZ(6,"div",61),s.TgZ(7,"input",62),s.NdJ("change",function(){return s.CHM(e),s.oxw().handleChangeNamaRacikan()}),s.qZA(),s.TgZ(8,"button",63),s.NdJ("click",function(){return s.CHM(e),s.oxw().handelClickRacikan()}),s._UZ(9,"i",64),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function Vt(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"div",12),s.TgZ(2,"div",2),s.TgZ(3,"div",6),s.TgZ(4,"label",13),s._uU(5,"Kemasan"),s.qZA(),s.qZA(),s.TgZ(6,"div",6),s.TgZ(7,"ejs-dropdownlist",65,66),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeMetodeRacikan(t)}),s.ALo(9,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("dataSource",s.lcZ(9,3,e.setupMetodeRacikanService.dataSource))("fields",e.DropdownMetodeRacikanFields)("allowFiltering",!0)}}function Wt(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"div",12),s.TgZ(2,"div",2),s.TgZ(3,"div",6),s.TgZ(4,"label",18),s._uU(5,"Satuan"),s.qZA(),s.qZA(),s.TgZ(6,"div",67),s.TgZ(7,"ejs-combobox",68),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeSatuanAturan(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",e.dataSourceSatuanAturanPakai)("fields",e.DropdownsatuanPakaiFields)}}function zt(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",69),s.TgZ(1,"h5",70),s._uU(2,"Simpan Template Resep Dokter"),s.qZA(),s.TgZ(3,"button",71),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",72),s.qZA(),s.qZA(),s.TgZ(5,"div",73),s.TgZ(6,"div",74),s.TgZ(7,"div",75),s.TgZ(8,"h2"),s._uU(9,"Apakah Dokter Ingin Menyimapan Resep Ini Sebagai Template Resep?"),s.qZA(),s.TgZ(10,"p"),s._uU(11,"Template resep di gunakan untuk membuat resep dengan data resep yg sudah ada"),s.qZA(),s.qZA(),s.TgZ(12,"div",76),s.TgZ(13,"div",77),s.TgZ(14,"label",78),s.TgZ(15,"strong"),s._uU(16,"Nama Template Resep"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",79),s._UZ(18,"input",80),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",81),s.TgZ(20,"button",82),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickSimpanTemplateResepDokter()}),s._uU(21,"Simpan Template Resep"),s.qZA(),s.TgZ(22,"button",83),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickAbaikan()}),s._uU(23,"Tidak"),s.qZA(),s.qZA()}}const $t=function(){return{wrapMode:"Both"}};let Xt=(()=>{class e{constructor(e,t,a,i,n,r,o,l,d,s,u,c,g,h,m){this.formBuilder=e,this.resepDokterIrdaService=t,this.setupMetodeRacikanService=a,this.setupRutePemberianObatService=i,this.setupSatuanAturanPakaiService=n,this.setupIntervalAturanPakaiService=r,this.setupTambahanAturanPakaiService=o,this.setupLabelPemakaianObatService=l,this.utilityService=d,this.modalService=s,this.router=u,this.encryptionService=c,this.activatedRoute=g,this.daftarPasienService=h,this.setupOutletService=m,this.ButtonNav=[{Id:"Kembali",Icons1:"fas fa-arrow-left fa-sm",Captions:"Kembali"},{Id:"Template",Icons1:"fas fa-tags fa-sm",Captions:"Template Resep"},{Id:"Reset",Icons1:"fas fa-undo fa-sm",Captions:"Reset"},{Id:"Simpan",Icons1:"fas fa-save fa-sm",Captions:"Simpan"}],this.urlRacikan=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_RACIKAN+"/2/D",this.urlTemplateResep=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRDA.GET_TEMPLATE_RESEP,this.GridLookUpItem=Zt,this.GridlookUpTemplateResep=Dt,this.DropdownAturanFields={text:"tambahan_aturan_pakai",value:"id_tambahan_aturan_pakai"},this.DropdownRuteFields={text:"nama_rute_pemberian_obat",value:"id_rute_pemberian_obat"},this.DropdownPemakaianFields={text:"interval_aturan_pakai",value:"id_interval_aturan_pakai"},this.DropdownLabelFields={text:"nama_label_pemakaian_obat",value:"id_label_pemakaian_obat"},this.SetupOutletDropdownField={text:"nama_outlet",value:"id_outlet"},this.FormAddObatState="input",this.SatuanObat="-",this.DropdownObatFields={text:"nama_obat",value:"id_item"},this.DropdownMetodeRacikanFields={text:"metode_racikan",value:"id_metode_racikan"},this.DropdownsatuanPakaiFields={text:"satuan_aturan_pakai",value:"id_satuan_aturan_pakai"},this.NamaObatDatasource=[],this.dataSourceTambahanAturanPakai=[],this.dataSourceLabelPemakaian=[],this.dataSourceSatuanAturanPakai=[],this.WaktuPakai=[],this.GridDaftarObatEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarObatDataSource=[],this.GridDaftarObatColumns=St,this.GridDetailResepRacikanDatasource=[],this.GridResepRacikanDatasource=[],this.DataRacikan=[],this.newdetail=[],this.baru=0,this.data_header=null,this.counter=0,this.counterRacikan=0,this.dataScourceGridChild=[],this.inputObat=!1,this.IsUserLogin=JSON.parse(localStorage.getItem("UserData")),this.data=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.fields={text:"nama_obat",value:"id_item"},this.query=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.text="Select a Obat",this.sorting="Ascending",this.onFiltering=e=>{if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}},this.dataChild=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.keterangan=(e,t)=>t.rute_pemberian_obat+", sehari "+t.qty_harian+" "+t.nama_satuan+" "+t.ket_label+" "+t.satuan_aturan_pakai+" "+t.ket_aturan,this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan+"/Hari, untuk "+t.jumlah_hari+" Hari",this.dataUbah=null,this.updateResepDokter=!1,this.pulang=!1,this.idArry=[]}get width(){return window.innerWidth}ngOnInit(){this.FormAddObat=this.formBuilder.group({counter:[0,[]],is_racikan:[!1,[]],no_urut:[0,[]],set_racikan_id:[null,[]],id_metode_racikan:[1,[]],metode_racikan:["",[]],id_item:[null,[]],nama_racikan:["",[]],nama_obat:["",[]],jumlah_hari:[1,[]],qty_harian:[1,[]],qty_resep:[1,[]],nama_satuan:["-",[]],id_rute_pemberian_obat:[null,[]],rute_pemberian_obat:["",[]],id_satuan_aturan_pakai:[null,[]],satuan_aturan_pakai:["",[]],label:["",[]],ket_label:["",[]],id_label_pemakaian_obat:[null,[]],label_pemakaian_obat:["",[]],aturan:["",[]],ket_aturan:["",[]],id_tambahan_aturan_pakai:[null,[]],label_tambahan_aturan_pakai_obat:["",[]]}),this.GridDaftarObatToolbar=[{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Delete",tooltipText:"Delete",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"},"Search"];let e=this.currentQtyResep,t=this.currentIdItem,a=this.SelectedDataRacikanObat;this.resepDokterIrdaService.dataSelectRacikan.next(a),this.itemsParams={create:()=>(a&&(this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",a.nama_obat,!0)),this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.itemsObj=new Tt.NB({dataSource:this.dataChild,fields:this.fields,query:this.queryChild,enabled:!0,placeholder:"Select a obat",allowFiltering:!0,popupWidth:"55rem",filtering:(function(e){if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}}).bind(this),change:(function(i){this.setFormGrif(i,e,t,a),t=i.itemData.id_item}).bind(this)}),this.itemsObj.appendTo(this.itemsElem),a&&setTimeout(()=>{this.itemsObj.value=a.id_item},500)}};let i=this.counterRacikan,n=this.dataScourceGridChild;this.resepDokterIrdaService.dataSourceChildGrid.next(n),this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"counter",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"counter",headerText:"c",width:100,visible:!1},{field:"no_urut",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"nama_satuan",headerText:"Satuan",textAlign:"Right",width:80,allowEditing:!1},{field:"id_item",headerText:"id",width:100,visible:!1},{field:"komposisi",headerText:"kps",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"seper",headerText:"1/",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"kandungan",headerText:"Kandungan",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"qty_resep",headerText:"qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",visible:!1},{field:"qty_racikan",headerText:"QTY",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"keterangan",headerText:"Keterangan",headerTextAlign:"Center",textAlign:"Left",width:100}],rowSelected(e){a=e.data},actionBegin(t){console.log("begin",t),"add"===t.requestType&&(t.data.counter=this.parentDetails.parentKeyFieldValue,t.data.qty_resep=this.parentDetails.parentRowData.qty_resep,t.data.counterRacikan=i++,e=this.parentDetails.parentRowData.qty_harian,a=null)},actionComplete(e){if("save"===e.requestType&&("add"===e.action&&(e.data.id_item=t,n.push(e.data)),"edit"===e.action)){e.data.id_item=t;let a=n.map(e=>e.counterRacikan).indexOf(e.data.counterRacikan);n[a]=e.data}if("delete"===e.requestType){let t=n.map(e=>e.counterRacikan).indexOf(e.data[0].counterRacikan);n.splice(t,1)}}},this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.dataSourceLabelPemakaian=e.data}),this.setupMetodeRacikanService.setDataSource(),this.setupRutePemberianObatService.setDataSource(),this.setupIntervalAturanPakaiService.setDataSource(),this.setupTambahanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceTambahanAturanPakai=e.data}),this.setupSatuanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceSatuanAturanPakai=e.data}),this.resepDokterIrdaService.reset()}ngAfterViewInit(){if(void 0!==this.activatedRoute.snapshot.params.id){let e;e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id),this.idArry=e.split(","),console.log(e),console.log(this.idArry),"pulang"==this.idArry[1]?(this.pulang=!0,this.ButtonNav=[{Id:"kembali_update",Icons1:"fas fa-arrow-left fa-sm",Captions:"Kembali"},{Id:"ubah",Icons1:"fas fa-save fa-sm",Captions:"Simpan Resep Pulang"}]):this.ButtonNav=[{Id:"kembali_update",Icons1:"fas fa-arrow-left fa-sm",Captions:"Kembali"},{Id:"ubah",Icons1:"fas fa-save fa-sm",Captions:"Ubah Resep Dokter"}],this.updateResep(parseInt(this.idArry[0]))}this.setupOutletService.setDataSource(),this.urlTemplateResep=this.urlTemplateResep+"/"+this.daftarPasienService.ActivePasien.value.id_dokter}updateResep(e){this.resepDokterIrdaService.onGetById(e).subscribe(e=>{this.dataUbah=e.data,this.heandleSelectedTemplateResep(e.data),this.updateResepDokter=!0})}handleClickTambahObat(){this.inputObat=!0,this.tanggal_mulai_text.setValue(this.utilityService.onFormatDate(this.tanggal_mulai.value,"Do MMMM yyyy")),this.tanggal_sampai_text.setValue(this.utilityService.onFormatDate(this.tanggal_sampai.value,"Do MMMM yyyy"))}onLoad(e){}handleChangeOutlet(e){this.setIdOutlet=e.value}setFormGrif(e,t,a,i){i?(document.getElementsByName("nama_satuan")[0].value=i.nama_satuan,document.getElementsByName("komposisi")[0].value=i.komposisi,document.getElementsByName("seper")[0].value=i.seper,document.getElementsByName("kandungan")[0].value=i.kandungan,document.getElementsByName("qty_racikan")[0].value=i.qty_racikan):(document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("komposisi")[0].value=e.itemData.kandungan_obat,document.getElementsByName("seper")[0].value="1",document.getElementsByName("kandungan")[0].value=e.itemData.kandungan_obat,document.getElementsByName("qty_racikan")[0].value=t.toString());let n=document.getElementsByName("seper")[0];n&&(n.addEventListener("click",e=>{n.select()}),n.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("komposisi")[0].value),i=a/parseInt(document.getElementsByName("seper")[0].value);document.getElementsByName("kandungan")[0].value=i.toString();let n=t*i/a;document.getElementsByName("qty_racikan")[0].value=n.toString()}),this.setInputFilter(n,function(e){return/^\d*$/.test(e)}));let r=document.getElementsByName("kandungan")[0];r&&(r.addEventListener("click",e=>{r.select()}),r.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("kandungan")[0].value),i=parseInt(document.getElementsByName("komposisi")[0].value),n=t*a;console.log(n);let r=n/i;document.getElementsByName("qty_racikan")[0].value=r.toString(),document.getElementsByName("seper")[0].value="1"}),this.setInputFilter(r,function(e){return/^\d*$/.test(e)}));let o=document.getElementsByName("qty_racikan")[0];o&&(o.addEventListener("click",e=>{o.select()}),this.setInputFilter(o,function(e){return/^\d*$/.test(e)}))}setInputFilter(e,t){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(a){e.addEventListener(a,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):Object.prototype.hasOwnProperty.call(this,"oldValue")?(this.value=this.oldValue,null!==this.oldSelectionStart&&null!==this.oldSelectionEnd&&this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleChangeObat(e){this.nama_satuan.setValue(e.itemData.nama_satuan),this.nama_obat.setValue(e.itemData.nama_obat)}handleChangeLabel(e){this.label_pemakaian_obat.setValue(""),this.id_label_pemakaian_obat.setValue(e.value),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat),this.qty_harian.setValue(e.itemData.berapa_kali_per_hari)}handleChangeAturan(e){"number"==typeof e.value&&e.value%1==0?(this.label_tambahan_aturan_pakai_obat.setValue(""),this.id_tambahan_aturan_pakai.setValue(e.value),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai)):(this.label_tambahan_aturan_pakai_obat.setValue(e.value),this.id_tambahan_aturan_pakai.setValue(1),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai))}handleChangeRacikan(e){this.nama_satuan.setValue(e?"PUYER":"-")}handleChangeNamaRacikan(){this.set_racikan_id.setValue(null)}handelClickRacikan(){this.LookupRacikan.onOpenModal()}handleChangeMetodeRacikan(e){this.metode_racikan.setValue(e.itemData.metode_racikan),this.nama_satuan.setValue(e.itemData.metode_racikan)}handleChangeRute(e){this.rute_pemberian_obat.setValue(e.itemData.nama_rute_pemberian_obat)}handleChangePemakaian(e){console.log(e)}handleChangeSatuanAturan(e){this.satuan_aturan_pakai.setValue(e.itemData.satuan_aturan_pakai)}handleSelectedRacikan(e){let t;e.is_racikan=!0,this.set_racikan_id.setValue(e.set_racikan_id),this.nama_obat.setValue(e.nama_obat),this.nama_racikan.setValue(e.nama_obat),this.id_metode_racikan.setValue(e.id_metode_racikan),t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{let a=this.counterRacikan++;e.counterRacikan=a,t.push(e)}),console.log(t),this.DataRacikan=t}heandleSelectedTemplateResep(e){let t;t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{this.counter++,e.counter=this.counter,e.nama_racikan=e.is_racikan?e.nama_obat:"",e.label=1==e.id_label_pemakaian_obat?e.ket_label:e.id_label_pemakaian_obat,e.aturan=1==e.id_tambahan_aturan_pakai?e.ket_aturan:e.id_tambahan_aturan_pakai,this.resepDokterIrdaService.addDetail(e),e.racikans.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)})}),this.resepDokterIrdaService.dataSourceChildGrid.next(t),this.isGetFromTemplate=!0}handleAddObat(e){this.counter++,e.counter=this.counter,e.is_racikan?e.nama_obat=e.nama_racikan:(e.id_metode_racikan=null,e.metode_racikan=null),this.resepDokterIrdaService.addDetail(e),this.is_racikan.value&&this.DataRacikan.length>0&&(this.DataRacikan.map((e,t)=>(e.counter=this.counter,e)),this.resepDokterIrdaService.dataSourceChildGrid.next(this.DataRacikan),this.DataRacikan=[]),this.onResetFormObat()}onResetFormObat(){this.set_racikan_id.setValue(null),this.id_metode_racikan.setValue(null),this.metode_racikan.setValue(""),this.id_item.setValue(null),this.nama_racikan.setValue(""),this.nama_obat.setValue(""),this.nama_satuan.setValue("-"),this.SatuanObat="",this.is_racikan.setValue(!1)}onChangeWaktuPakai(e){const t=document.getElementById("waktuPakai"+e),a=this.WaktuPakai.indexOf(e);t.checked?this.WaktuPakai.push(e):this.WaktuPakai.splice(a,1)}onUpdateDataObat(e){this.resepDokterIrdaService.editDetail(this.currentIndex,e),this.onResetFormObat(),this.GridResepRacikan.refresh(),this.FormAddObatState="input"}onInitalizedGrid(e){this.gridDaftarObat=e}onToolbarClick(e){switch(e.item.id){case"edit":this.onEditData(),this.FormAddObatState="edit";break;case"delete":this.resepDokterIrdaService.removeDataDetail(this.currentIndex),this.GridResepRacikan.refresh()}}onEditData(){let e=this.SelectedDataObat;this.FormAddObat.setValue({counter:e.counter,no_urut:e.no_urut,is_racikan:e.is_racikan,set_racikan_id:e.set_racikan_id,id_metode_racikan:e.id_metode_racikan,metode_racikan:e.metode_racikan,id_item:e.id_item,nama_obat:e.nama_obat,qty_resep:e.qty_resep,nama_satuan:e.nama_satuan,label:e.label,ket_label:e.ket_label,id_label_pemakaian_obat:e.id_label_pemakaian_obat,label_pemakaian_obat:e.label_pemakaian_obat,aturan:e.aturan,ket_aturan:e.ket_aturan,id_tambahan_aturan_pakai:e.id_tambahan_aturan_pakai,label_tambahan_aturan_pakai_obat:e.label_tambahan_aturan_pakai_obat,nama_racikan:e.nama_racikan,id_satuan_aturan_pakai:e.id_satuan_aturan_pakai,satuan_aturan_pakai:e.satuan_aturan_pakai,jumlah_hari:e.jumlah_hari,qty_harian:e.qty_harian,id_rute_pemberian_obat:e.id_rute_pemberian_obat,rute_pemberian_obat:e.nama_rute_pemberian_obat})}onActionComplete(e){}onRowSelected(e){this.currentIndex=e.rowIndex,this.SelectedDataObat=e.data}Insert(){return(0,kt.mG)(this,void 0,void 0,function*(){this.data_header={id_dokter:this.daftarPasienService.ActivePasien.value.id_dokter,id_register:this.daftarPasienService.ActivePasien.value.id_register,id_outlet:this.setIdOutlet,id_person:this.daftarPasienService.ActivePasien.value.id_person,jenis_rawat:"D",nama_template:"",tanggal_resep:Ct()().format()};let e=yield this.resepDokterIrdaService.dataDetail;console.log(e),this.newdetail=e.filter(e=>e.is_racikan&&!e.set_racikan_id),this.baru=0,this.isGetFromTemplate?this.methodConfirmSetRacikan(0):this.modalRef=this.modalService.show(this.modalTemplateResep,Object.assign({},{class:"modal-lg"}))})}handleClickSimpanTemplateResepDokter(){let e=document.getElementsByName("nama_resep")[0].value;this.data_header.nama_template=e,this.modalRef.hide(),this.methodConfirmSetRacikan(1)}handleClickAbaikan(){this.modalRef.hide(),this.methodConfirmSetRacikan(0)}methodConfirmSetRacikan(e){this.newdetail.length>0?qt().fire({title:"Apakah Anda Ingin Menyimapan Racikan Baru ke dalam Setting Racikan dokter?",text:"Racikan akan bisa di gunakan lagi untuk template",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya Simpan Sebagai Template Racikan",cancelButtonText:"Tidak",focusCancel:!0}).then(t=>{this.baru=t.isConfirmed?1:0,this.methodInsert(this.data_header,e,this.baru)}):this.methodInsert(this.data_header,e,0)}methodInsert(e,t,a){this.resepDokterIrdaService.Insert(e,t,a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.resepDokterIrdaService.reset(),this.isGetFromTemplate=!1})})}ubahResep(){this.pulang?this.resepDokterIrdaService.pulangResepRawatInap(this.dataUbah).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Simpan Resep Pulang",e.message).then(()=>{const t=this.encryptionService.encrypt(JSON.stringify(e.data));this.router.navigate(["Dokter/resep-irda/view-resep-irda",t,"GRAHCIS"])})}):this.resepDokterIrdaService.ubahResepRawatInap(this.dataUbah).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Resep Ini Berhasil Di Ubah",e.message).then(()=>{const t=this.encryptionService.encrypt(JSON.stringify(e.data));this.router.navigate(["Dokter/resep-irda/view-resep-irda",t,"GRAHCIS"])})})}onClickButtonNav(e){switch(e){case"kembali_update":const e=this.encryptionService.encrypt(JSON.stringify(this.dataUbah.resep_id));this.router.navigate(["Dokter/resep-irda/view-resep-irda",e,"GRAHCIS"]);break;case"ubah":this.ubahResep();break;case"Kembali":this.router.navigateByUrl("Dokter/resep-irda/daftar-resep-irda");break;case"Template":this.handelClickTemplateResep();break;case"Reset":this.resepDokterIrdaService.reset(),this.isGetFromTemplate=!1;break;case"Simpan":this.resepDokterIrdaService.dataSourceChildGrid.next(this.dataScourceGridChild),this.Insert()}}handelClickTemplateResep(){this.LookupTemplateResep.onOpenModal()}get tanggal_mulai(){return this.FormAddObat.get("tanggal_mulai")}get tanggal_sampai(){return this.FormAddObat.get("tanggal_sampai")}get tanggal_mulai_text(){return this.FormAddObat.get("tanggal_mulai_text")}get tanggal_sampai_text(){return this.FormAddObat.get("tanggal_sampai_text")}get is_racikan(){return this.FormAddObat.get("is_racikan")}get set_racikan_id(){return this.FormAddObat.get("set_racikan_id")}get id_metode_racikan(){return this.FormAddObat.get("id_metode_racikan")}get metode_racikan(){return this.FormAddObat.get("metode_racikan")}get id_item(){return this.FormAddObat.get("id_item")}get nama_racikan(){return this.FormAddObat.get("nama_racikan")}get nama_obat(){return this.FormAddObat.get("nama_obat")}get jumlah_hari(){return this.FormAddObat.get("jumlah_hari")}get qty_harian(){return this.FormAddObat.get("qty_harian")}get qty_resep(){return this.FormAddObat.get("qty_resep")}get nama_satuan(){return this.FormAddObat.get("nama_satuan")}get id_rute_pemberian_obat(){return this.FormAddObat.get("id_rute_pemberian_obat")}get rute_pemberian_obat(){return this.FormAddObat.get("rute_pemberian_obat")}get jumlah_satuan_aturan_pakai(){return this.FormAddObat.get("jumlah_satuan_aturan_pakai")}get id_satuan_aturan_pakai(){return this.FormAddObat.get("id_satuan_aturan_pakai")}get satuan_aturan_pakai(){return this.FormAddObat.get("satuan_aturan_pakai")}get aturan(){return this.FormAddObat.get("aturan")}get ket_aturan(){return this.FormAddObat.get("ket_aturan")}get id_tambahan_aturan_pakai(){return this.FormAddObat.get("id_tambahan_aturan_pakai")}get label_tambahan_aturan_pakai_obat(){return this.FormAddObat.get("label_tambahan_aturan_pakai_obat")}get label(){return this.FormAddObat.get("label")}get ket_label(){return this.FormAddObat.get("ket_label")}get id_label_pemakaian_obat(){return this.FormAddObat.get("id_label_pemakaian_obat")}get label_pemakaian_obat(){return this.FormAddObat.get("label_pemakaian_obat")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(ct.f),s.Y36(Ot.m),s.Y36(It.j),s.Y36(Pt.I),s.Y36(Nt),s.Y36(Gt.f),s.Y36(Ft.l),s.Y36(u.t),s.Y36(ee.tT),s.Y36(o.F0),s.Y36(ut.C),s.Y36(o.gz),s.Y36(h.O),s.Y36(Bt.A))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-input-resep-irda"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Ut,5),s.Gf(Lt,5),s.Gf(Qt,5),s.Gf(jt,5),s.Gf(Kt,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.LookupTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.modalTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first)}},decls:97,vars:86,consts:[[3,"ButtonNav","onClickButtonNav"],[1,"form-irna",3,"formGroup"],[1,"row"],[1,"col-lg-4"],[1,"row","mb-2"],[1,"col-lg-2","col-md-1","col-sm-1","col-xs-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","DropdownObat",1,"form-label"],["type","checkbox","formControlName","is_racikan",1,"form-check-input"],["class","col-lg-10 col-md-11 col-sm-11 col-xs-11",4,"ngIf"],["class","col-lg-10 col-md-10 col-sm-10 col-xs-10",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-lg-12"],["for","kemasan",1,"form-label"],["id","DropdownLabelPemakaian","formControlName","id_rute_pemberian_obat","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["for","label",1,"form-label"],["id","DropdownLabelPemakaian","formControlName","label","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["class","row mb-2",4,"ngIf"],["for","NumericQty",1,"form-label"],["id","DropdownTambahanAturanPakai","formControlName","aturan","popupWidth","25rem",3,"allowFiltering","dataSource","fields","change"],[1,"col-lg-6"],["id","NumericQty","formControlName","qty_harian",3,"format","showSpinButton","readonly","showClearButton","ste"],["id","NumericQty","formControlName","jumlah_hari",1,"form_paragraf",3,"format","showSpinButton","showClearButton","ste"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","hidden","click"],[1,"fas","fa-plus-circle","fa-sm"],[3,"hidden"],["type","button",1,"btn","btn-warning","btn-sm",3,"disabled","hidden","click"],[1,"fas","fa-edit","fa-sm"],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","queryString","onGetSelectedData"],["LookupTemplateResep",""],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","onGetSelectedData"],["LookupRacikan",""],[1,"col-lg-8"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital",3,"dataSource","fields","allowFiltering","change"],["MaritalOutletDropdown",""],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 22rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","toolbar","allowTextWrap","textWrapSettings","toolbarClick","load","rowDataBound","dataBound","rowSelected","actionComplete"],["GridResepRacikan",""],["field","no_urut","headerText","no_urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","is_racikan","headerText","is_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","set_racikan_id","headerText","set_racikan_id","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_metode_racikan","headerText","id_metode_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_label_pemakaian_obat","headerText","id_label_pemakaian_obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_tambahan_aturan_pakai","headerText","id_tambahan_aturan_pakai","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_satuan","headerText","Satuan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","metode_racikan","headerText","Kemasan Racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","rute_pemberian_obat","headerText","Pemakaian","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["modalTemplateResep",""],[1,"col-lg-10","col-md-11","col-sm-11","col-xs-11"],["id","DropdownObat","formControlName","id_item","popupWidth","55rem",3,"allowFiltering","dataSource","fields","placeholder","query","sortOrder","filtering","change"],["Drop",""],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10"],[1,"input-group"],["type","text","formControlName","nama_racikan",1,"form-control","form-select-sm",3,"change"],["id","btnInputGroup","type","button",1,"btn","btn-primary",2,"padding",".1rem .8rem","background-color","#00afff; border: 0",3,"click"],[1,"fas","fa-search"],["formControlName","id_metode_racikan",3,"dataSource","fields","allowFiltering","change"],["MolDropdown",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pe-1"],["id","DropdownLabelPemakaian","formControlName","id_satuan_aturan_pakai","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"col-sm-4"],["for","nama_resep"],[1,"col-sm-8"],["type","text","name","nama_resep",1,"form-control","form-control-sm"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",2),s.TgZ(7,"div",6),s.TgZ(8,"label",7),s._uU(9,"Racik"),s.qZA(),s.qZA(),s.TgZ(10,"div",6),s._UZ(11,"input",8),s.qZA(),s.qZA(),s.qZA(),s.YNc(12,Ht,8,7,"div",9),s.YNc(13,Yt,10,0,"div",10),s.qZA(),s.YNc(14,Vt,10,5,"div",11),s.TgZ(15,"div",4),s.TgZ(16,"div",12),s.TgZ(17,"div",2),s.TgZ(18,"div",6),s.TgZ(19,"label",13),s._uU(20,"Rute Pemberian Obat"),s.qZA(),s.qZA(),s.TgZ(21,"div",6),s.TgZ(22,"ejs-combobox",14),s.NdJ("change",function(e){return t.handleChangeRute(e)}),s.ALo(23,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",4),s.TgZ(25,"div",12),s.TgZ(26,"div",2),s.TgZ(27,"div",6),s.TgZ(28,"label",15),s._uU(29,"Label"),s.qZA(),s.qZA(),s.TgZ(30,"div",6),s.TgZ(31,"ejs-dropdownlist",16),s.NdJ("change",function(e){return t.handleChangeLabel(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(32,Wt,8,3,"div",17),s.TgZ(33,"div",4),s.TgZ(34,"div",12),s.TgZ(35,"div",2),s.TgZ(36,"div",6),s.TgZ(37,"label",18),s._uU(38,"Aturan Tambahan"),s.qZA(),s.qZA(),s.TgZ(39,"ejs-combobox",19),s.NdJ("change",function(e){return t.handleChangeAturan(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(40,"div",4),s.TgZ(41,"div",20),s.TgZ(42,"div",2),s.TgZ(43,"div",6),s.TgZ(44,"label",18),s._uU(45,"Qty/Hari"),s.qZA(),s.qZA(),s._UZ(46,"ejs-numerictextbox",21),s.qZA(),s.qZA(),s.TgZ(47,"div",20),s.TgZ(48,"div",2),s.TgZ(49,"div",6),s.TgZ(50,"label",18),s._uU(51,"Untuk Berapa Hari"),s.qZA(),s.qZA(),s._UZ(52,"ejs-numerictextbox",22),s.qZA(),s.qZA(),s.qZA(),s.TgZ(53,"div",2),s.TgZ(54,"div",12),s.TgZ(55,"button",23),s.NdJ("click",function(){return t.handleAddObat(t.FormAddObat.value)}),s._UZ(56,"i",24),s.TgZ(57,"span",25),s._uU(58,"\xa0Obat"),s.qZA(),s.qZA(),s.TgZ(59,"button",26),s.NdJ("click",function(){return t.onUpdateDataObat(t.FormAddObat.value)}),s._UZ(60,"i",27),s.TgZ(61,"span",25),s._uU(62,"\xa0Edit Obat"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(63,"org-look-up-hirarki",28,29),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedTemplateResep(e)}),s.qZA(),s.TgZ(65,"org-look-up-hirarki",30,31),s.NdJ("onGetSelectedData",function(e){return t.handleSelectedRacikan(e)}),s.qZA(),s.qZA(),s.TgZ(67,"div",32),s.TgZ(68,"div",4),s.TgZ(69,"div",33),s._UZ(70,"atm-label",34),s.qZA(),s.TgZ(71,"div",35),s.TgZ(72,"ejs-dropdownlist",36,37),s.NdJ("change",function(e){return t.handleChangeOutlet(e)}),s.ALo(74,"async"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(75,"div",38),s.TgZ(76,"div",39),s.TgZ(77,"ejs-grid",40,41),s.NdJ("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.onLoad(e)})("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.onRowSelected(e)})("actionComplete",function(e){return t.onActionComplete(e)}),s.ALo(79,"async"),s.TgZ(80,"e-columns"),s._UZ(81,"e-column",42),s._UZ(82,"e-column",43),s._UZ(83,"e-column",44),s._UZ(84,"e-column",45),s._UZ(85,"e-column",46),s._UZ(86,"e-column",47),s._UZ(87,"e-column",48),s._UZ(88,"e-column",49),s._UZ(89,"e-column",50),s._UZ(90,"e-column",51),s._UZ(91,"e-column",52),s._UZ(92,"e-column",53),s._UZ(93,"e-column",54),s._UZ(94,"e-column",55),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(95,zt,24,0,"ng-template",null,56,s.W1O),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(1),s.Q6J("formGroup",t.FormAddObat),s.xp6(11),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(8),s.Q6J("allowFiltering",!0)("dataSource",s.lcZ(23,79,t.setupRutePemberianObatService.dataSource))("fields",t.DropdownRuteFields),s.xp6(9),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceLabelPemakaian)("fields",t.DropdownLabelFields),s.xp6(1),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceTambahanAturanPakai)("fields",t.DropdownAturanFields),s.xp6(7),s.Q6J("format","N0")("showSpinButton",!1)("readonly",!0)("showClearButton",!1),s.xp6(6),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1),s.xp6(3),s.Q6J("disabled",t.FormAddObat.invalid)("hidden","input"!=t.FormAddObatState),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("disabled",t.FormAddObat.invalid)("hidden","input"==t.FormAddObatState),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("lookup-url",t.urlTemplateResep)("columns",t.GridlookUpTemplateResep.columns)("columnsChild",t.GridlookUpTemplateResep.columnsChild)("filter-lookup",t.GridlookUpTemplateResep.filter)("modal-title","Data Template Resep Dokter")("queryString","resep_id"),s.xp6(2),s.Q6J("lookup-url",t.urlRacikan)("columns",t.GridLookUpItem.columns)("columnsChild",t.GridLookUpItem.columnsChild)("filter-lookup",t.GridLookUpItem.filter)("modal-title","Data Racikan Dokter"),s.xp6(5),s.Q6J("LabelCaption","Depo Farmasi"),s.xp6(2),s.Q6J("dataSource",s.lcZ(74,81,t.setupOutletService.dataSource))("fields",t.SetupOutletDropdownField)("allowFiltering",!0),s.xp6(5),s.Q6J("dataSource",s.lcZ(79,83,t.resepDokterIrdaService.dataDetail$))("childGrid",t.ChildGrid)("toolbar",t.GridDaftarObatToolbar)("allowTextWrap",!0)("textWrapSettings",s.DdM(85,$t)),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",200)("valueAccessor",t.quantity),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1))},directives:[y.G,n._Y,n.JL,n.sg,n.Wl,n.JJ,n.u,i.O5,me.oX,me.rI,Mt.Uw,Jt.K,P.D,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,n.Fj],pipes:[i.Ov],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}.e-grid[_ngcontent-%COMP%]   .e-detailheadercell[_ngcontent-%COMP%], div.e-gridcontent[_ngcontent-%COMP%]   tr.e-detailrow[_ngcontent-%COMP%]   td.e-detailcell[_ngcontent-%COMP%]   div.e-headercontent[_ngcontent-%COMP%]   th.e-headercell[_ngcontent-%COMP%], td.e-detailcell.e-lastrowcell[_ngcontent-%COMP%]{background-color:var(--biru-muda)!important}"]}),e})();const ea=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var ta=a.t(ea,2);const aa=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_template","headerText":"Nama Template Resep","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_resep","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var ia=a.t(aa,2);const na=JSON.parse('{"GridInputResep":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rx","headerText":"Rx","type":"string","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_urut","headerText":"No","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_resep","headerText":"Kode Resep","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Obat","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"satuan","headerText":"Satuan","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"qty_obat","headerText":"Qty","format":"N","textAlign":"Right","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"aturan_pakai","headerText":"Jumlah Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_pakai","headerText":"Aturan Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"waktu_pakai","headerText":"Waktu Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"catatan","headerText":"Catatan","type":"string","visible":true,"width":100}]},"GridHistoryResep":{"columns":[],"dataSource":[]}}');var ra=a.t(na,2);const oa=["LookupRacikan"],la=["LookupTemplateResep"],da=["GridResepRacikan"],sa=["itemTemplate"],ua=["modalTemplateResep"];function ca(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",51),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s.TgZ(3,"label",6),s._uU(4,"Nama Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",12),s.TgZ(7,"div",52),s.TgZ(8,"ejs-dropdownlist",53,54),s.NdJ("filtering",function(t){return s.CHM(e),s.oxw().onFiltering(t)})("change",function(t){return s.CHM(e),s.oxw().handleChangeObat(t)}),s.qZA(),s.qZA(),s.TgZ(10,"div",55),s.TgZ(11,"span",56),s._uU(12),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Q6J("allowFiltering",!0)("dataSource",e.data)("fields",e.fields)("placeholder",e.text)("query",e.query)("sortOrder",e.sorting)("allowFiltering",!0),s.xp6(4),s.hij(" ",e.nama_satuan.value," ")}}function ga(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",57),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s.TgZ(3,"label",6),s._uU(4,"Nama Racikan Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",58),s.TgZ(7,"input",59),s.NdJ("change",function(){return s.CHM(e),s.oxw().handleChangeNamaRacikan()}),s.qZA(),s.TgZ(8,"button",60),s.NdJ("click",function(t){return s.CHM(e),s.oxw().handelClickRacikan(t)}),s._UZ(9,"i",61),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function ha(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",62),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s.TgZ(3,"label",6),s._uU(4,"Kemasan Racikan"),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",58),s.TgZ(7,"ejs-dropdownlist",63,64),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeMetodeRacikan(t)}),s.ALo(9,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("dataSource",s.lcZ(9,3,e.setupMetodeRacikanService.dataSource))("fields",e.DropdownMetodeRacikanFields)("allowFiltering",!0)}}function ma(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",11),s.TgZ(1,"div",12),s.TgZ(2,"div",5),s.TgZ(3,"label",13),s._uU(4,"Satuan"),s.qZA(),s.qZA(),s.TgZ(5,"div",16),s.TgZ(6,"ejs-combobox",65),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeSatuanAturan(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(6),s.Q6J("allowFiltering",!0)("dataSource",e.dataSourceSatuanAturanPakai)("fields",e.DropdownsatuanPakaiFields)}}function pa(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",66),s.TgZ(1,"h5",67),s._uU(2,"Simpan Template Resep Dokter"),s.qZA(),s.TgZ(3,"button",68),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",69),s.qZA(),s.qZA(),s.TgZ(5,"div",70),s.TgZ(6,"div",71),s.TgZ(7,"div",72),s.TgZ(8,"h2"),s._uU(9,"Apakah Dokter Ingin Menyimapan Resep Ini Sebagai Template Resep?"),s.qZA(),s.TgZ(10,"p"),s._uU(11,"Template resep di gunakan untuk membuat resep dengan data resep yg sudah ada"),s.qZA(),s.qZA(),s.TgZ(12,"div",73),s.TgZ(13,"div",74),s.TgZ(14,"div",75),s.TgZ(15,"label",76),s.TgZ(16,"strong"),s._uU(17,"Nama Template Resep"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",77),s._UZ(19,"input",78),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",79),s.TgZ(21,"button",80),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickSimpanTemplateResepDokter()}),s._uU(22,"Simpan Template Resep"),s.qZA(),s.TgZ(23,"button",81),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickAbaikan()}),s._uU(24,"Tidak"),s.qZA(),s.qZA()}}let _a=(()=>{class e{constructor(e,t,a,i,n,r,o,l,d,u,c){this.formBuilder=e,this.resepDokterIrdaService=t,this.setupLabelPemakaianObatService=a,this.setupTambahanAturanPakaiService=i,this.setupSatuanAturanPakaiService=n,this.setupMetodeRacikanService=r,this.renderer=o,this.daftarPasienService=l,this.router=d,this.modalService=u,this.utilityService=c,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"},{Id:"simpan",Captions:"Simpan Resep Pulang",Icons1:"fas fa-save fa-sm"}],this.onSetTemplateResep=new s.vpe,this.urlRacikan=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_RACIKAN+"/2/J",this.urlTemplateResep=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_TEMPLATE_RESEP+"/2",this.GridLookUpItem=ta,this.GridlookUpTemplateResep=ia,this.isGetFromTemplate=!1,this.DropdownLabelFields={text:"nama_label_pemakaian_obat",value:"id_label_pemakaian_obat"},this.DropdownAturanFields={text:"tambahan_aturan_pakai",value:"id_tambahan_aturan_pakai"},this.DropdownsatuanPakaiFields={text:"satuan_aturan_pakai",value:"id_satuan_aturan_pakai"},this.FormAddObatState="input",this.SatuanObat="-",this.DropdownObatFields={text:"nama_obat",value:"id_item"},this.DropdownMetodeRacikanFields={text:"metode_racikan",value:"id_metode_racikan"},this.NamaObatDatasource=[],this.WaktuPakai=[],this.GridDaftarObatEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarObatDataSource=[],this.GridDaftarObatColumns=ra,this.GridDetailResepRacikanDatasource=[],this.GridResepRacikanDatasource=[],this.dataSourceLabelPemakaian=[],this.dataSourceTambahanAturanPakai=[],this.dataSourceSatuanAturanPakai=[],this.counter=0,this.counterRacikan=0,this.dataScourceGridChild=[],this.IsUserLogin=JSON.parse(localStorage.getItem("UserData")),this.data=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.fields={text:"nama_obat",value:"id_item"},this.query=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.text="Select a Obat",this.sorting="Ascending",this.onFiltering=e=>{if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}},this.dataChild=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.dataheader=null,this.baru=0}get width(){return window.innerWidth}ngOnInit(){this.FormAddObat=this.formBuilder.group({counter:[0,[]],is_racikan:[!1,[]],no_urut:[0,[]],set_racikan_id:[null,[]],id_metode_racikan:[null,[]],metode_racikan:["",[]],id_item:[null,[]],nama_racikan:["",[]],nama_obat:["",[]],qty_resep:["",[]],nama_satuan:["-",[]],label:["",[]],ket_label:["",[]],id_label_pemakaian_obat:[null,[]],label_pemakaian_obat:["",[]],id_satuan_aturan_pakai:[null,[]],satuan_aturan_pakai:[null,[]],aturan:["",[]],ket_aturan:["",[]],id_tambahan_aturan_pakai:[null,[]],label_tambahan_aturan_pakai_obat:["",[]]}),this.GridDaftarObatToolbar=[{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Delete",tooltipText:"Delete",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"},"Search"];let e=this.currentQtyResep,t=this.currentIdItem,a=this.SelectedDataRacikanObat;this.resepDokterIrdaService.dataSelectRacikan.next(a),this.itemsParams={create:()=>(a&&(this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",a.nama_obat,!0)),this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.itemsObj=new Tt.NB({dataSource:this.dataChild,fields:this.fields,query:this.queryChild,enabled:!0,placeholder:"Select a obat",allowFiltering:!0,popupWidth:"55rem",filtering:(function(e){if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}}).bind(this),change:(function(i){this.setFormGrif(i,e,t,a),t=i.itemData.id_item}).bind(this)}),this.itemsObj.appendTo(this.itemsElem),a&&setTimeout(()=>{this.itemsObj.value=a.id_item},500)}};let i=this.counterRacikan,n=this.dataScourceGridChild;this.resepDokterIrdaService.dataSourceChildGrid.next(n),this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"counter",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"counter",headerText:"c",width:100,visible:!1},{field:"no_urut",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"nama_satuan",headerText:"Satuan",textAlign:"Right",width:80,allowEditing:!1},{field:"id_item",headerText:"id",width:100,visible:!1},{field:"komposisi",headerText:"kps",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"seper",headerText:"1/",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"kandungan",headerText:"Kandungan",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"qty_resep",headerText:"qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",visible:!1},{field:"qty_racikan",headerText:"QTY",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"keterangan",headerText:"Keterangan",headerTextAlign:"Center",textAlign:"Left",width:100}],rowSelected(e){a=e.data},actionBegin(t){console.log("begin",t),"add"===t.requestType&&(t.data.counter=this.parentDetails.parentKeyFieldValue,t.data.qty_resep=this.parentDetails.parentRowData.qty_resep,t.data.counterRacikan=i++,e=this.parentDetails.parentRowData.qty_resep,a=null)},actionComplete(e){if("save"===e.requestType&&("add"===e.action&&(e.data.id_item=t,n.push(e.data)),"edit"===e.action)){e.data.id_item=t;let a=n.map(e=>e.counterRacikan).indexOf(e.data.counterRacikan);n[a]=e.data}if("delete"===e.requestType){let t=n.map(e=>e.counterRacikan).indexOf(e.data[0].counterRacikan);n.splice(t,1)}}},this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.dataSourceLabelPemakaian=e.data}),this.setupTambahanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceTambahanAturanPakai=e.data}),this.setupSatuanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceSatuanAturanPakai=e.data}),this.setupMetodeRacikanService.setDataSource()}onLoad(e){}setFormGrif(e,t,a,i){i?(document.getElementsByName("nama_satuan")[0].value=i.nama_satuan,document.getElementsByName("komposisi")[0].value=i.komposisi,document.getElementsByName("seper")[0].value=i.seper,document.getElementsByName("kandungan")[0].value=i.kandungan,document.getElementsByName("qty_racikan")[0].value=i.qty_racikan):(document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("komposisi")[0].value=e.itemData.kandungan_obat,document.getElementsByName("seper")[0].value="1",document.getElementsByName("kandungan")[0].value=e.itemData.kandungan_obat,document.getElementsByName("qty_racikan")[0].value=t.toString());let n=document.getElementsByName("seper")[0];n&&(n.addEventListener("click",e=>{n.select()}),n.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("komposisi")[0].value),i=a/parseInt(document.getElementsByName("seper")[0].value);document.getElementsByName("kandungan")[0].value=i.toString();let n=t*i/a;document.getElementsByName("qty_racikan")[0].value=n.toString()}),this.setInputFilter(n,function(e){return/^\d*$/.test(e)}));let r=document.getElementsByName("kandungan")[0];r&&(r.addEventListener("click",e=>{r.select()}),r.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("kandungan")[0].value),i=parseInt(document.getElementsByName("komposisi")[0].value),n=t*a;console.log(n);let r=n/i;document.getElementsByName("qty_racikan")[0].value=r.toString(),document.getElementsByName("seper")[0].value="1"}),this.setInputFilter(r,function(e){return/^\d*$/.test(e)}));let o=document.getElementsByName("qty_racikan")[0];o&&(o.addEventListener("click",e=>{o.select()}),this.setInputFilter(o,function(e){return/^\d*$/.test(e)}))}setInputFilter(e,t){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(a){e.addEventListener(a,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):Object.prototype.hasOwnProperty.call(this,"oldValue")?(this.value=this.oldValue,null!==this.oldSelectionStart&&null!==this.oldSelectionEnd&&this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleChangeObat(e){this.nama_satuan.setValue(e.itemData.nama_satuan),this.nama_obat.setValue(e.itemData.nama_obat)}handleChangeLabel(e){"number"==typeof e.value&&e.value%1==0?(this.label_pemakaian_obat.setValue(""),this.id_label_pemakaian_obat.setValue(e.value),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat)):(this.label_pemakaian_obat.setValue(e.value),this.id_label_pemakaian_obat.setValue(1),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat))}handleChangeAturan(e){"number"==typeof e.value&&e.value%1==0?(this.label_tambahan_aturan_pakai_obat.setValue(""),this.id_tambahan_aturan_pakai.setValue(e.value),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai)):(this.label_tambahan_aturan_pakai_obat.setValue(e.value),this.id_tambahan_aturan_pakai.setValue(1),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai))}handleChangeSatuanAturan(e){this.satuan_aturan_pakai.setValue(e.itemData.satuan_aturan_pakai)}handleChangeNamaRacikan(){this.set_racikan_id.setValue(null)}handelClickRacikan(){this.LookupRacikan.onOpenModal()}handelClickTemplateResep(){this.LookupTemplateResep.onOpenModal()}handleChangeMetodeRacikan(e){this.metode_racikan.setValue(e.itemData.metode_racikan)}heandleSelectedRacikan(e){let t;this.counter++,e.counter=this.counter,e.is_racikan=!0,this.resepDokterIrdaService.addDetail(e),t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)}),console.log(t),this.resepDokterIrdaService.dataSourceChildGrid.next(t)}heandleSelectedTemplateResep(e){let t;t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{this.counter++,e.counter=this.counter,e.nama_racikan=e.is_racikan?e.nama_obat:"",e.label=1==e.id_label_pemakaian_obat?e.ket_label:e.id_label_pemakaian_obat,e.aturan=1==e.id_tambahan_aturan_pakai?e.ket_aturan:e.id_tambahan_aturan_pakai,this.resepDokterIrdaService.addDetail(e),e.racikans.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)})}),this.resepDokterIrdaService.dataSourceChildGrid.next(t),this.onSetTemplateResep.emit(!0)}handleAddObat(e){this.counter++,e.counter=this.counter,e.is_racikan?e.nama_obat=e.nama_racikan:(e.id_metode_racikan=null,e.metode_racikan=null),this.resepDokterIrdaService.addDetail(e),this.onResetFormObat()}onResetFormObat(){this.FormAddObat.reset(),this.is_racikan.setValue(!1)}onChangeWaktuPakai(e){const t=document.getElementById("waktuPakai"+e),a=this.WaktuPakai.indexOf(e);t.checked?this.WaktuPakai.push(e):this.WaktuPakai.splice(a,1)}onUpdateDataObat(e){this.resepDokterIrdaService.editDetail(this.currentIndex,e),this.onResetFormObat(),this.GridResepRacikan.refresh(),this.FormAddObatState="input"}onResetFormDataObat(){this.FormAddObat.reset(),this.SatuanObat=""}onInitalizedGrid(e){this.gridDaftarObat=e}onToolbarClick(e){switch(e.item.id){case"edit":this.onEditData(),this.FormAddObatState="edit";break;case"delete":this.resepDokterIrdaService.removeDataDetail(this.currentIndex),this.GridResepRacikan.refresh()}}onEditData(){let e=this.SelectedDataObat;this.FormAddObat.setValue({counter:e.counter,no_urut:e.no_urut,is_racikan:e.is_racikan,set_racikan_id:e.set_racikan_id,id_metode_racikan:e.id_metode_racikan,metode_racikan:e.metode_racikan,id_item:e.id_item,nama_obat:e.nama_obat,qty_resep:e.qty_resep,nama_satuan:e.nama_satuan,label:e.label,ket_label:e.ket_label,id_label_pemakaian_obat:e.id_label_pemakaian_obat,label_pemakaian_obat:e.label_pemakaian_obat,aturan:e.aturan,ket_aturan:e.ket_aturan,id_tambahan_aturan_pakai:e.id_tambahan_aturan_pakai,label_tambahan_aturan_pakai_obat:e.label_tambahan_aturan_pakai_obat,nama_racikan:e.nama_racikan,id_satuan_aturan_pakai:e.id_satuan_aturan_pakai,satuan_aturan_pakai:e.satuan_aturan_pakai})}onActionComplete(e){}onRowSelected(e){this.currentIndex=e.rowIndex,this.SelectedDataObat=e.data}onClickButtonNav(e){switch(e){case"simpan":this.Insert();break;case"kembali":this.router.navigateByUrl("Dokter/resep-irda/daftar-resep-irda")}}Insert(){return(0,kt.mG)(this,void 0,void 0,function*(){this.dataheader={id_dokter:2,id_register:1,id_outlet:1,id_person:1,jenis_rawat:"I",nama_template:"",tanggal_resep:this.currentTanggal};let e=yield this.resepDokterIrdaService.dataDetail;this.newdetail=e.filter(e=>e.is_racikan&&!e.set_racikan_id),this.baru=0,this.methodConfirmSetRacikan(0)})}handleClickSimpanTemplateResepDokter(){let e=document.getElementsByName("nama_resep")[0].value;this.dataheader.nama_template=e,this.modalRef.hide(),this.methodConfirmSetRacikan(1)}handleClickAbaikan(){this.modalRef.hide(),this.methodConfirmSetRacikan(0)}methodConfirmSetRacikan(e){this.newdetail.length>0?qt().fire({title:"Apakah Anda Ingin Menyimapan Racikan Baru ke dalam Setting Racikan dokter?",text:"Racikan akan bisa di gunakan lagi untuk template",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, Saya Yakin",cancelButtonText:"Tidak",focusCancel:!0}).then(t=>{this.baru=t.isConfirmed?1:0,this.methodInsert(this.dataheader,e,this.baru)}):this.methodInsert(this.dataheader,e,0)}methodInsert(e,t,a){this.resepDokterIrdaService.Pulang(e,t,a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.resepDokterIrdaService.reset(),this.isGetFromTemplate=!1})})}get is_racikan(){return this.FormAddObat.get("is_racikan")}get set_racikan_id(){return this.FormAddObat.get("set_racikan_id")}get id_metode_racikan(){return this.FormAddObat.get("id_metode_racikan")}get metode_racikan(){return this.FormAddObat.get("metode_racikan")}get id_item(){return this.FormAddObat.get("id_item")}get nama_obat(){return this.FormAddObat.get("nama_obat")}get qty_resep(){return this.FormAddObat.get("qty_resep")}get nama_satuan(){return this.FormAddObat.get("nama_satuan")}get label(){return this.FormAddObat.get("label")}get ket_label(){return this.FormAddObat.get("ket_label")}get id_label_pemakaian_obat(){return this.FormAddObat.get("id_label_pemakaian_obat")}get label_pemakaian_obat(){return this.FormAddObat.get("label_pemakaian_obat")}get aturan(){return this.FormAddObat.get("aturan")}get ket_aturan(){return this.FormAddObat.get("ket_aturan")}get id_tambahan_aturan_pakai(){return this.FormAddObat.get("id_tambahan_aturan_pakai")}get label_tambahan_aturan_pakai_obat(){return this.FormAddObat.get("label_tambahan_aturan_pakai_obat")}get nama_racikan(){return this.FormAddObat.get("nama_racikan")}get satuan_aturan_pakai(){return this.FormAddObat.get("satuan_aturan_pakai")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(ct.f),s.Y36(Ft.l),s.Y36(Gt.f),s.Y36(Pt.I),s.Y36(Ot.m),s.Y36(s.Qsj),s.Y36(h.O),s.Y36(o.F0),s.Y36(ee.tT),s.Y36(u.t))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-pulang-resep-irda"]],viewQuery:function(e,t){if(1&e&&(s.Gf(oa,5),s.Gf(la,5),s.Gf(da,5),s.Gf(sa,5),s.Gf(ua,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.LookupTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first),s.iGM(e=s.CRH())&&(t.modalTemplateResep=e.first)}},outputs:{onSetTemplateResep:"onSetTemplateResep"},decls:74,vars:66,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","pt-2","mb-2"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1"],[1,"row","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","DropdownObat",1,"form-label"],["type","checkbox","formControlName","is_racikan",1,"form-check-input"],["class","col-lg-4 col-md-4 col-sm-4 col-xs-4",4,"ngIf"],["class","col-lg-3 col-md-3 col-sm-3 col-xs-3",4,"ngIf"],["class","col-lg-2 col-md-2 col-sm-2 col-xs-2",4,"ngIf"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","pe-1"],[1,"row"],["for","NumericQty",1,"form-label"],["id","NumericQty","formControlName","qty_resep",3,"format","showSpinButton","showClearButton","ste"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","pe-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pe-1"],["id","DropdownLabelPemakaian","formControlName","label","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["class","col-lg-1 col-md-1 col-sm-1 col-xs-1 pe-1",4,"ngIf"],["id","DropdownTambahanAturanPakai","formControlName","aturan","popupWidth","25rem",3,"allowFiltering","dataSource","fields","change"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","ps-4"],[1,"row","align-content-center","h-100","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","px-0",3,"hidden"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-plus-circle","fa-sm"],[3,"hidden"],["type","button",1,"btn","btn-warning","btn-sm",3,"disabled","click"],[1,"fas","fa-edit","fa-sm"],[3,"lookup-url","columns","columnsChild","filter-lookup","queryString","modal-title","onGetSelectedData"],["LookupRacikan",""],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","queryString","onGetSelectedData"],["LookupTemplateResep",""],[1,"col-lg-12","col-md-12","col-xs-12","col-sm-12"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 24rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","toolbar","toolbarClick","load","rowDataBound","dataBound","rowSelected","actionComplete"],["GridResepRacikan",""],["field","no_urut","headerText","no_urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","is_racikan","headerText","is_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","set_racikan_id","headerText","set_racikan_id","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_metode_racikan","headerText","id_metode_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_label_pemakaian_obat","headerText","id_label_pemakaian_obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_tambahan_aturan_pakai","headerText","id_tambahan_aturan_pakai","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_satuan","headerText","Satuan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","metode_racikan","headerText","Kemasan Racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","ket_label","headerText","Pemakaian","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["modalTemplateResep",""],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10","pe-0"],["id","DropdownObat","formControlName","id_item","popupWidth","55rem",3,"allowFiltering","dataSource","fields","placeholder","query","sortOrder","filtering","change"],["Drop",""],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","px-0"],["id","basic-addon1",1,"input-group-text","bg-primary","text-white"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3"],[1,"input-group"],["type","text","formControlName","nama_racikan",1,"form-control","form-select-sm",3,"change"],["id","btnInputGroup","type","button",1,"btn","btn-primary",2,"padding",".1rem .8rem","background-color","#00afff; border: 0",3,"click"],[1,"fas","fa-search"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2"],["formControlName","id_metode_racikan",3,"dataSource","fields","allowFiltering","change"],["MolDropdown",""],["id","DropdownLabelPemakaian","formControlName","id_satuan_aturan_pakai","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mb-2","row"],[1,"col-sm-4"],["for","nama_resep"],[1,"col-sm-8"],["type","text","name","nama_resep",1,"form-control","form-control-sm"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"label",6),s._uU(7,"Racik"),s.qZA(),s.qZA(),s.TgZ(8,"div",5),s._UZ(9,"input",7),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,ca,13,8,"div",8),s.YNc(11,ga,10,0,"div",9),s.YNc(12,ha,10,5,"div",10),s.TgZ(13,"div",11),s.TgZ(14,"div",12),s.TgZ(15,"div",5),s.TgZ(16,"label",13),s._uU(17,"Qty"),s.qZA(),s.qZA(),s.TgZ(18,"div",5),s._UZ(19,"ejs-numerictextbox",14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",15),s.TgZ(21,"div",12),s.TgZ(22,"div",5),s.TgZ(23,"label",13),s._uU(24,"Label Obat"),s.qZA(),s.qZA(),s.TgZ(25,"div",16),s.TgZ(26,"ejs-combobox",17),s.NdJ("change",function(e){return t.handleChangeLabel(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(27,ma,7,3,"div",18),s.TgZ(28,"div",15),s.TgZ(29,"div",12),s.TgZ(30,"div",5),s.TgZ(31,"label",13),s._uU(32,"Aturan Tambahan"),s.qZA(),s.qZA(),s.TgZ(33,"div",16),s.TgZ(34,"ejs-combobox",19),s.NdJ("change",function(e){return t.handleChangeAturan(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(35,"div",20),s.TgZ(36,"div",21),s.TgZ(37,"div",22),s.TgZ(38,"button",23),s.NdJ("click",function(){return t.handleAddObat(t.FormAddObat.value)}),s._UZ(39,"i",24),s.TgZ(40,"span",25),s._uU(41,"\xa0Obat"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(42,"div",22),s.TgZ(43,"button",26),s.NdJ("click",function(){return t.onUpdateDataObat(t.FormAddObat.value)}),s._UZ(44,"i",27),s.TgZ(45,"span",25),s._uU(46,"\xa0Edit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(47,"org-look-up-hirarki",28,29),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedRacikan(e)}),s.qZA(),s.TgZ(49,"org-look-up-hirarki",30,31),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedTemplateResep(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",2),s.TgZ(52,"div",32),s.TgZ(53,"div",33),s.TgZ(54,"div",34),s.TgZ(55,"ejs-grid",35,36),s.NdJ("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.onLoad(e)})("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.onRowSelected(e)})("actionComplete",function(e){return t.onActionComplete(e)}),s.ALo(57,"async"),s.TgZ(58,"e-columns"),s._UZ(59,"e-column",37),s._UZ(60,"e-column",38),s._UZ(61,"e-column",39),s._UZ(62,"e-column",40),s._UZ(63,"e-column",41),s._UZ(64,"e-column",42),s._UZ(65,"e-column",43),s._UZ(66,"e-column",44),s._UZ(67,"e-column",45),s._UZ(68,"e-column",46),s._UZ(69,"e-column",47),s._UZ(70,"e-column",48),s._UZ(71,"e-column",49),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(72,pa,25,0,"ng-template",null,50,s.W1O),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(1),s.Q6J("formGroup",t.FormAddObat),s.xp6(9),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(7),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceLabelPemakaian)("fields",t.DropdownLabelFields),s.xp6(1),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceTambahanAturanPakai)("fields",t.DropdownAturanFields),s.xp6(2),s.Tol(t.width>=1023&&t.width<=1200?"pt-1":"pt-4"),s.xp6(1),s.Q6J("hidden","input"!=t.FormAddObatState),s.xp6(1),s.Q6J("disabled",t.FormAddObat.invalid),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("hidden","input"==t.FormAddObatState),s.xp6(1),s.Q6J("disabled",t.FormAddObat.invalid),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("lookup-url",t.urlRacikan)("columns",t.GridLookUpItem.columns)("columnsChild",t.GridLookUpItem.columnsChild)("filter-lookup",t.GridLookUpItem.filter)("queryString","set_racikan_id")("modal-title","Data Racikan Dokter"),s.xp6(2),s.Q6J("lookup-url",t.urlTemplateResep)("columns",t.GridlookUpTemplateResep.columns)("columnsChild",t.GridlookUpTemplateResep.columnsChild)("filter-lookup",t.GridlookUpTemplateResep.filter)("modal-title","Data Template Resep Dokter")("queryString","resep_id"),s.xp6(6),s.Q6J("dataSource",s.lcZ(57,64,t.resepDokterIrdaService.dataDetail$))("childGrid",t.ChildGrid)("toolbar",t.GridDaftarObatToolbar),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1))},directives:[y.G,n._Y,n.JL,n.sg,n.Wl,n.JJ,n.u,i.O5,Mt.Uw,me.oX,Jt.K,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,me.rI,n.Fj],pipes:[i.Ov],styles:["#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.e-grid[_ngcontent-%COMP%]   .e-detailheadercell[_ngcontent-%COMP%], div.e-gridcontent[_ngcontent-%COMP%]   tr.e-detailrow[_ngcontent-%COMP%]   td.e-detailcell[_ngcontent-%COMP%]   div.e-headercontent[_ngcontent-%COMP%]   th.e-headercell[_ngcontent-%COMP%], td.e-detailcell.e-lastrowcell[_ngcontent-%COMP%]{background-color:var(--biru-muda)!important}"]}),e})();const fa=JSON.parse('{"GridColumns":[{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":50}]}');var ba=a.t(fa,2),ka=a(7232);const Ta=["LookupRacikan"],Aa=["GridResepRacikan"],va=["itemTemplate"],Za=["modalTambahanHariResep"],wa=["modalStopResep"];function Sa(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",19),s.TgZ(1,"h5",20),s._uU(2,"Tambahan Hari Pada Resep"),s.qZA(),s.TgZ(3,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",22),s.qZA(),s.qZA(),s.TgZ(5,"div",23),s.TgZ(6,"div",24),s.TgZ(7,"div",25),s._UZ(8,"div",26),s.TgZ(9,"h3"),s._uU(10,"Jumlah Tambahan Hari"),s.qZA(),s.qZA(),s.TgZ(11,"div",25),s.TgZ(12,"div",1),s.TgZ(13,"div",27),s._UZ(14,"ejs-numerictextbox",28,29),s.qZA(),s.TgZ(16,"div",30),s.TgZ(17,"span",31),s._uU(18," Hari "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",32),s.TgZ(20,"button",33),s.NdJ("click",function(){s.CHM(e);const t=s.MAs(15);return s.oxw().handleClickLanjutkanResepDokter(t.value)}),s._uU(21,"Lanjukan Obat"),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Q6J("innerHTML",e.htmlSelection,s.oJD),s.xp6(6),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1)}}function xa(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",19),s.TgZ(1,"h5",20),s._uU(2,"Stop Obat"),s.qZA(),s.TgZ(3,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",22),s.qZA(),s.qZA(),s.TgZ(5,"div",23),s.TgZ(6,"div",24),s.TgZ(7,"div",25),s.TgZ(8,"h3"),s._uU(9,"Anda Yakin Akan Menghentikan Obat ini?"),s.qZA(),s._UZ(10,"div",34),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",32),s.TgZ(12,"button",33),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickStopResepDokter()}),s._uU(13,"Stop Obat"),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(10),s.Q6J("innerHTML",e.htmlSelection,s.oJD)}}const Da=function(){return{wrapMode:"Both"}};let ya=(()=>{class e{constructor(e,t,a,i,n,r,o,l){this.formBuilder=e,this.resepDokterIrdaService=t,this.router=a,this.encryptionService=i,this.activatedRoute=n,this.utilityService=r,this.modalService=o,this.utilityHelperService=l,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"},{Id:"lanjutkan",Captions:"Lanjutkan Resep",Icons1:"fa-forward fa-sm"},{Id:"ubah",Captions:"Ubah Resep",Icons1:"fa-edit fa-sm"},{Id:"stop",Captions:"Hentikan Resep",Icons1:"fa-stop-circle fa-sm"}],this.GridConfig=ba,this.inputFieldState="detail",this.keterangan=(e,t)=>t.nama_rute_pemberian_obat+", sehari "+t.qty_harian+" "+t.nama_satuan+" "+t.ket_label+" "+t.satuan_aturan_pakai+" "+t.ket_aturan,this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan+"/Hari, untuk "+t.jumlah_hari+" Hari",this.dataSourceChild=[],this.dataSource=[],this.dataHeader=[],this.htmlSelection=""}ngOnInit(){this.formInput=this.formBuilder.group({no_register:["",[]],pasien:["",[]],bed:["",[]],dokter:["",[]],umur:["",[]]}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}ngAfterViewInit(){let e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(e),this.onLoadDetailData(e)}onLoadDetailData(e){this.resepDokterIrdaService.onGetById(e).subscribe(e=>{this.dataHeader=e.data,this.dataSource=e.data.details,this.GridResepRacikan.refresh(),this.mapingRacikan(e.data.details),this.formInput.setValue({bed:"",no_register:e.data.no_register,pasien:e.data.nama_pasien,dokter:e.data.nama_dokter,umur:e.data.tgl_lahir})})}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleClickLanjutkanResepDokter(e){let t;t=this.GridResepRacikan.getSelectedRecords(),t.map((t,a)=>(t.jumlah_hari=e,t)),this.resepDokterIrdaService.lanjutakanResepRawatInap(t).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Obat ini berhasil di lanjutkan",e.message).then(()=>{this.modalRef.hide(),this.onLoadDetailData(this.dataHeader.resep_id)})})}handleClickStopResepDokter(e){let t;t=this.GridResepRacikan.getSelectedRecords(),this.resepDokterIrdaService.stopResepRawatInap(t).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Obat ini berhasil di hentikan/Stop",e.message).then(()=>{this.modalRef.hide(),this.onLoadDetailData(this.dataHeader.resep_id)})})}onClickButtonNav(e){switch(e){case"kembali":this.router.navigateByUrl("Dokter/resep-irda/daftar-resep-irda");break;case"lanjutkan":this.templateSelection(),this.modalRef=this.modalService.show(this.modalTambahanHariResep,Object.assign({},{class:"modal-md"}));break;case"ubah":const e=this.encryptionService.encrypt(this.dataHeader.resep_id+",ubah");this.router.navigate(["Dokter/resep-irda/ubah-resep-irda",e,"GRAHCIS"]);break;case"stop":this.templateSelection(),this.modalRef=this.modalService.show(this.modalStopResep,Object.assign({},{class:"modal-md"}))}}templateSelection(){let e=this.GridResepRacikan.getSelectedRecords();this.htmlSelection="<ul>",e.forEach((e,t)=>{this.htmlSelection+=`<li>${e.nama_obat}</li>`}),this.htmlSelection+="</ul>",console.log(this.htmlSelection)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(ct.f),s.Y36(o.F0),s.Y36(ut.C),s.Y36(o.gz),s.Y36(u.t),s.Y36(ee.tT),s.Y36(ka.j))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-view-resep-irda"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Ta,5),s.Gf(Aa,5),s.Gf(va,5),s.Gf(Za,5),s.Gf(wa,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first),s.iGM(e=s.CRH())&&(t.modalTambahanHariResep=e.first),s.iGM(e=s.CRH())&&(t.modalStopResep=e.first)}},decls:22,vars:32,consts:[[3,"ButtonNav","HeaderRibbonClass","ButtonNavClass","onClickButtonNav"],[1,"row"],[1,"col-sm-4"],[3,"formGroup"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","no_register",3,"label","inputFieldState"],["formControlName","pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],[1,"col-sm-8"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 15rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound"],["GridResepRacikan",""],[3,"width","field","visible","type","textAlign","headerTextAlign"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","rute_pemberian_obat","headerText","Pemakaian","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["modalTambahanHariResep",""],["modalStopResep",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"text-success",3,"innerHTML"],[1,"col-sm-9","pe-0"],["id","tambahan_hari","name","tambahan_hari",3,"format","showSpinButton","showClearButton"],["tambah_hari",""],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3","px-0"],["id","basic-addon1",1,"input-group-text"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-danger",3,"innerHTML"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"form",3),s._UZ(4,"mol-input-text",4),s._UZ(5,"mol-input-text",5),s._UZ(6,"mol-input-text",6),s._UZ(7,"mol-input-text",7),s.qZA(),s.qZA(),s.TgZ(8,"div",8),s.TgZ(9,"div",9),s.TgZ(10,"div",10),s.TgZ(11,"ejs-grid",11,12),s.NdJ("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()}),s.TgZ(13,"e-columns"),s._UZ(14,"e-column",13),s._UZ(15,"e-column",14),s._UZ(16,"e-column",15),s._UZ(17,"e-column",16),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(18,Sa,22,4,"ng-template",null,17,s.W1O),s.YNc(20,xa,14,1,"ng-template",null,18,s.W1O),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav)("HeaderRibbonClass","col-lg-4 col-md-4 col-sm-4 col-xs-4")("ButtonNavClass","col-lg-8 col-md-8 col-sm-8 col-xs-8"),s.xp6(3),s.Q6J("formGroup",t.formInput),s.xp6(1),s.Q6J("label","Dokter")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","No Register")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Pasien")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Umur")("inputFieldState",t.inputFieldState),s.xp6(4),s.Q6J("dataSource",t.dataSource)("childGrid",t.childGrid)("allowTextWrap",!0)("textWrapSettings",s.DdM(31,Da)),s.xp6(3),s.Q6J("width",50)("field","Checkbox")("visible",!0)("type","checkbox")("textAlign","Center")("headerTextAlign","Center"),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",200)("valueAccessor",t.quantity))},directives:[y.G,n._Y,n.JL,n.sg,I._,n.JJ,n.u,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,Mt.Uw],styles:["#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}.e-grid[_ngcontent-%COMP%]   .e-detailheadercell[_ngcontent-%COMP%], div.e-gridcontent[_ngcontent-%COMP%]   tr.e-detailrow[_ngcontent-%COMP%]   td.e-detailcell[_ngcontent-%COMP%]   div.e-headercontent[_ngcontent-%COMP%]   th.e-headercell[_ngcontent-%COMP%], td.e-detailcell.e-lastrowcell[_ngcontent-%COMP%]{background-color:var(--biru-muda)!important}"]}),e})();const Ra=JSON.parse('{"GridColumns":[{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":100}]}');var Ca=a.t(Ra,2),Ea=a(1009);const qa=["GridResepRacikan"],Oa=["GridData"];function Ia(e,t){1&e&&(s.TgZ(0,"a",18),s._uU(1,"Lihat Detail Resep"),s.qZA())}function Pa(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",14),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().handleClickDetail(t)}),s.TgZ(2,"p",15),s._uU(3),s.ALo(4,"titlecase"),s.ALo(5,"titlecase"),s.TgZ(6,"span",16),s._uU(7),s.qZA(),s.YNc(8,Ia,2,0,"a",17),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(3),s.AsE(" ",s.lcZ(4,5,e.headerText)," ",s.lcZ(5,7,e.key)," - \xa0 "),s.xp6(4),s.AsE(" ",e.count," ","nama_dokter"==e.field?"resep":"obat"," "),s.xp6(1),s.Q6J("ngIf","nomor_resep"==e.field)}}const Na=function(){return{wrapMode:"Both"}};let Ga=(()=>{class e{constructor(e,t,a){this.router=e,this.encryptionService=t,this.resepDokterIrnaService=a,this.ButtonNav=[{Id:"Add",Captions:"Buat Resep Baru",Icons1:"fa-plus fa-sm"},{Id:"pulang",Captions:"Resep Pulang",Icons1:"fa-home fa-sm"}],this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.FilterColumnDatasource=[{text:"No. Kontrak",value:"tks.nomor_kontrak"},{text:"Judul Kontrak",value:"tks.judul_kontrak"}],this.GridConfig=Ca,this.dataSource=[],this.dataSourceChild=[],this.keterangan=(e,t)=>(console.log("keterangan",t),t.nama_obat+" "+t.nama_rute_pemberian_obat+", sehari "+t.qty_harian+" "+t.nama_satuan+", "+t.jumlah_satuan_aturan_pakai+" "+t.nama_satuan+" tiap "+t.jumlah_interval_aturan_pakai+" "+t.nama_interval_aturan_pakai+" sekali, "+t.label_tambahan_aturan_pakai_obat),this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan+"/Hari, untuk "+t.jumlah_hari+" Hari",this.GridGroupSettings={showDropArea:!1,columns:["nama_dokter","nomor_resep"]}}ngAfterViewInit(){}ngOnInit(){this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild},this.resepDokterIrnaService.onInitList(),this.handlePencarianFilter([])}rowDataBound(e){}onDataBound(){}handlePencarianFilter(e){this.resepDokterIrnaService.onGetAllByResepActiveByRegister(e).subscribe(e=>{this.dataSource=e.data,this.mapingRacikan(e.data),this.GridResepRacikan.refresh()})}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}handleClickDetail(e){console.log(e.items);const t=this.encryptionService.encrypt(JSON.stringify(e.items[0].resep_id));this.router.navigate(["Dokter/resep-irna/view-resep-irna",t,"GRAHCIS"])}handleClickButtonNav(e){switch(e){case"Add":this.router.navigateByUrl("Dokter/resep-irna/input-resep-irna");break;case"Edit":const e=this.encryptionService.encrypt(JSON.stringify(this.SelectedData.resep_id));this.router.navigate(["Dokter/resep-irna/input-resep-irna",e,"GRAHCIS"]);break;case"pulang":this.router.navigateByUrl("Dokter/resep-irna/pulang-resep-irna")}}handleSelectedRow(e){this.SelectedData=e.data,console.log(this.SelectedData)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.F0),s.Y36(ut.C),s.Y36(Ea.Z))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-daftar-resep-irna"]],viewQuery:function(e,t){if(1&e&&(s.Gf(qa,5),s.Gf(Oa,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.GridData=e.first)}},decls:15,vars:22,consts:[[3,"ButtonNav","onClickButtonNav"],[1,"row","pt-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[3,"FilterColumnDatasource","handle-pencarian"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["height","calc(100vh - 15rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowGrouping","groupSettings","allowTextWrap","textWrapSettings","rowDataBound","dataBound"],["GridResepRacikan",""],["field","nama_dokter","headerText","Dokter","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nomor_resep","headerText","Nomor Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["groupSettingsCaptionTemplate",""],["title","",1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12",3,"click"],[1,"mb-0",2,"font-size","15px"],[1,"mb-0"],["class","cursor-pointer","title","lihat detail resep",4,"ngIf"],["title","lihat detail resep",1,"cursor-pointer"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"mol-offcanvas-filter",3),s.NdJ("handle-pencarian",function(e){return t.handlePencarianFilter(e)}),s.qZA(),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"ejs-grid",5,6),s.NdJ("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()}),s.TgZ(7,"e-columns"),s._UZ(8,"e-column",7),s._UZ(9,"e-column",8),s._UZ(10,"e-column",9),s._UZ(11,"e-column",10),s._UZ(12,"e-column",11),s.qZA(),s.YNc(13,Pa,9,9,"ng-template",null,12,s.W1O),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(3),s.Q6J("FilterColumnDatasource",t.FilterColumnDatasource),s.xp6(2),s.Q6J("dataSource",t.dataSource)("childGrid",t.childGrid)("allowGrouping",!0)("groupSettings",t.GridGroupSettings)("allowTextWrap",!0)("textWrapSettings",s.DdM(21,Na)),s.xp6(3),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",220)("valueAccessor",t.quantity),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1))},directives:[y.G,gt.W,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,i.O5],pipes:[i.rS],styles:[".e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:10px 5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}#GridResepRacikancaptioncell[_ngcontent-%COMP%]{background-color:var(--biru-tua);box-shadow:0 .125rem .25rem rgba(0,0,0,.08)!important}"]}),e})();const Fa=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var Ba=a.t(Fa,2);const Ma=JSON.parse('{"GridInputResep":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rx","headerText":"Rx","type":"string","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_urut","headerText":"No","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_resep","headerText":"Kode Resep","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Obat","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"satuan","headerText":"Satuan","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"qty_obat","headerText":"Qty","format":"N","textAlign":"Right","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"aturan_pakai","headerText":"Jumlah Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_pakai","headerText":"Aturan Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"waktu_pakai","headerText":"Waktu Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"catatan","headerText":"Catatan","type":"string","visible":true,"width":100}]},"GridHistoryResep":{"columns":[],"dataSource":[]}}');var Ja=a.t(Ma,2);const Ua=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_template","headerText":"Nama Template Resep","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_resep","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var La=a.t(Ua,2);const Qa=["LookupRacikan"],ja=["LookupTemplateResep"],Ka=["modalTemplateResep"],Ha=["GridResepRacikan"],Ya=["itemTemplate"];function Va(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",51),s.TgZ(1,"div",2),s.TgZ(2,"div",6),s.TgZ(3,"label",18),s._uU(4,"Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",6),s.TgZ(6,"ejs-dropdownlist",52,53),s.NdJ("filtering",function(t){return s.CHM(e),s.oxw().onFiltering(t)})("change",function(t){return s.CHM(e),s.oxw().handleChangeObat(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(6),s.Q6J("allowFiltering",!0)("dataSource",e.data)("fields",e.fields)("placeholder",e.text)("query",e.query)("sortOrder",e.sorting)("allowFiltering",!0)}}function Wa(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",54),s.TgZ(1,"div",2),s.TgZ(2,"div",6),s.TgZ(3,"label",18),s._uU(4,"Nama Racikan Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",6),s.TgZ(6,"div",55),s.TgZ(7,"input",56),s.NdJ("change",function(){return s.CHM(e),s.oxw().handleChangeNamaRacikan()}),s.qZA(),s.TgZ(8,"button",57),s.NdJ("click",function(){return s.CHM(e),s.oxw().handelClickRacikan()}),s._UZ(9,"i",58),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function za(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"div",12),s.TgZ(2,"div",2),s.TgZ(3,"div",6),s.TgZ(4,"label",13),s._uU(5,"Kemasan"),s.qZA(),s.qZA(),s.TgZ(6,"div",6),s.TgZ(7,"ejs-dropdownlist",59,60),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeMetodeRacikan(t)}),s.ALo(9,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("dataSource",s.lcZ(9,3,e.setupMetodeRacikanService.dataSource))("fields",e.DropdownMetodeRacikanFields)("allowFiltering",!0)}}function $a(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"div",12),s.TgZ(2,"div",2),s.TgZ(3,"div",6),s.TgZ(4,"label",18),s._uU(5,"Satuan"),s.qZA(),s.qZA(),s.TgZ(6,"div",61),s.TgZ(7,"ejs-combobox",62),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeSatuanAturan(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",e.dataSourceSatuanAturanPakai)("fields",e.DropdownsatuanPakaiFields)}}function Xa(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",63),s.TgZ(1,"h5",64),s._uU(2,"Simpan Template Resep Dokter"),s.qZA(),s.TgZ(3,"button",65),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",66),s.qZA(),s.qZA(),s.TgZ(5,"div",67),s.TgZ(6,"div",68),s.TgZ(7,"div",69),s.TgZ(8,"h2"),s._uU(9,"Apakah Dokter Ingin Menyimapan Resep Ini Sebagai Template Resep?"),s.qZA(),s.TgZ(10,"p"),s._uU(11,"Template resep di gunakan untuk membuat resep dengan data resep yg sudah ada"),s.qZA(),s.qZA(),s.TgZ(12,"div",70),s.TgZ(13,"div",71),s.TgZ(14,"label",72),s.TgZ(15,"strong"),s._uU(16,"Nama Template Resep"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",73),s._UZ(18,"input",74),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",75),s.TgZ(20,"button",76),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickSimpanTemplateResepDokter()}),s._uU(21,"Simpan Template Resep"),s.qZA(),s.TgZ(22,"button",77),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickAbaikan()}),s._uU(23,"Tidak"),s.qZA(),s.qZA()}}const ei=function(){return{wrapMode:"Both"}};let ti=(()=>{class e{constructor(e,t,a,i,n,r,o,l,d,s,u,c,g,h){this.formBuilder=e,this.resepDokterService=t,this.setupMetodeRacikanService=a,this.setupRutePemberianObatService=i,this.setupSatuanAturanPakaiService=n,this.setupIntervalAturanPakaiService=r,this.setupTambahanAturanPakaiService=o,this.setupLabelPemakaianObatService=l,this.utilityService=d,this.modalService=s,this.router=u,this.encryptionService=c,this.activatedRoute=g,this.daftarPasienService=h,this.ButtonNav=[{Id:"Kembali",Icons1:"fas fa-arrow-left fa-sm",Captions:"Kembali"},{Id:"Template",Icons1:"fas fa-tags fa-sm",Captions:"Template Resep"},{Id:"Reset",Icons1:"fas fa-undo fa-sm",Captions:"Reset"},{Id:"Simpan",Icons1:"fas fa-save fa-sm",Captions:"Simpan"}],this.urlRacikan=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_RACIKAN+"/2/I",this.urlTemplateResep=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRNA.GET_TEMPLATE_RESEP+"/2",this.GridLookUpItem=Ba,this.GridlookUpTemplateResep=La,this.DropdownAturanFields={text:"tambahan_aturan_pakai",value:"id_tambahan_aturan_pakai"},this.DropdownRuteFields={text:"nama_rute_pemberian_obat",value:"id_rute_pemberian_obat"},this.DropdownPemakaianFields={text:"interval_aturan_pakai",value:"id_interval_aturan_pakai"},this.DropdownLabelFields={text:"nama_label_pemakaian_obat",value:"id_label_pemakaian_obat"},this.FormAddObatState="input",this.SatuanObat="-",this.DropdownObatFields={text:"nama_obat",value:"id_item"},this.DropdownMetodeRacikanFields={text:"metode_racikan",value:"id_metode_racikan"},this.DropdownsatuanPakaiFields={text:"satuan_aturan_pakai",value:"id_satuan_aturan_pakai"},this.NamaObatDatasource=[],this.dataSourceTambahanAturanPakai=[],this.dataSourceLabelPemakaian=[],this.dataSourceSatuanAturanPakai=[],this.WaktuPakai=[],this.GridDaftarObatEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarObatDataSource=[],this.GridDaftarObatColumns=Ja,this.GridDetailResepRacikanDatasource=[],this.GridResepRacikanDatasource=[],this.DataRacikan=[],this.newdetail=[],this.baru=0,this.data_header=null,this.counter=0,this.counterRacikan=0,this.dataScourceGridChild=[],this.inputObat=!1,this.IsUserLogin=JSON.parse(localStorage.getItem("UserData")),this.data=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.fields={text:"nama_obat",value:"id_item"},this.query=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.text="Select a Obat",this.sorting="Ascending",this.onFiltering=e=>{if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}},this.dataChild=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.keterangan=(e,t)=>t.nama_obat+" "+t.rute_pemberian_obat+", sehari "+t.qty_harian+" "+t.nama_satuan+" "+t.ket_label+" "+t.satuan_aturan_pakai+" "+t.ket_aturan,this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan+"/Hari, untuk "+t.jumlah_hari+" Hari",this.dataUbah=null,this.updateResepDokter=!1,this.pulang=!1,this.idArry=[]}get width(){return window.innerWidth}ngOnInit(){this.FormAddObat=this.formBuilder.group({counter:[0,[]],is_racikan:[!1,[]],no_urut:[0,[]],set_racikan_id:[null,[]],id_metode_racikan:[1,[]],metode_racikan:["",[]],id_item:[null,[]],nama_racikan:["",[]],nama_obat:["",[]],jumlah_hari:[1,[]],qty_harian:[1,[]],qty_resep:[1,[]],nama_satuan:["-",[]],id_rute_pemberian_obat:[null,[]],rute_pemberian_obat:["",[]],id_satuan_aturan_pakai:[null,[]],satuan_aturan_pakai:["",[]],label:["",[]],ket_label:["",[]],id_label_pemakaian_obat:[null,[]],label_pemakaian_obat:["",[]],aturan:["",[]],ket_aturan:["",[]],id_tambahan_aturan_pakai:[null,[]],label_tambahan_aturan_pakai_obat:["",[]]}),this.GridDaftarObatToolbar=[{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Delete",tooltipText:"Delete",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"},"Search"];let e=this.currentQtyResep,t=this.currentIdItem,a=this.SelectedDataRacikanObat;this.resepDokterService.dataSelectRacikan.next(a),this.itemsParams={create:()=>(a&&(this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",a.nama_obat,!0)),this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.itemsObj=new Tt.NB({dataSource:this.dataChild,fields:this.fields,query:this.queryChild,enabled:!0,placeholder:"Select a obat",allowFiltering:!0,popupWidth:"55rem",filtering:(function(e){if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}}).bind(this),change:(function(i){this.setFormGrif(i,e,t,a),t=i.itemData.id_item}).bind(this)}),this.itemsObj.appendTo(this.itemsElem),a&&setTimeout(()=>{this.itemsObj.value=a.id_item},500)}};let i=this.counterRacikan,n=this.dataScourceGridChild;this.resepDokterService.dataSourceChildGrid.next(n),this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"counter",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"counter",headerText:"c",width:100,visible:!1},{field:"no_urut",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"nama_satuan",headerText:"Satuan",textAlign:"Right",width:80,allowEditing:!1},{field:"id_item",headerText:"id",width:100,visible:!1},{field:"komposisi",headerText:"kps",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"seper",headerText:"1/",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"kandungan",headerText:"Kandungan",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"qty_resep",headerText:"qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",visible:!1},{field:"qty_racikan",headerText:"QTY",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"keterangan",headerText:"Keterangan",headerTextAlign:"Center",textAlign:"Left",width:100}],rowSelected(e){a=e.data},actionBegin(t){console.log("begin",t),"add"===t.requestType&&(t.data.counter=this.parentDetails.parentKeyFieldValue,t.data.qty_resep=this.parentDetails.parentRowData.qty_resep,t.data.counterRacikan=i++,e=this.parentDetails.parentRowData.qty_harian,a=null)},actionComplete(e){if("save"===e.requestType&&("add"===e.action&&(e.data.id_item=t,n.push(e.data)),"edit"===e.action)){e.data.id_item=t;let a=n.map(e=>e.counterRacikan).indexOf(e.data.counterRacikan);n[a]=e.data}if("delete"===e.requestType){let t=n.map(e=>e.counterRacikan).indexOf(e.data[0].counterRacikan);n.splice(t,1)}}},this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.dataSourceLabelPemakaian=e.data}),this.setupMetodeRacikanService.setDataSource(),this.resepDokterService.setDataObat([]),this.setupRutePemberianObatService.setDataSource(),this.setupIntervalAturanPakaiService.setDataSource(),this.setupTambahanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceTambahanAturanPakai=e.data}),this.setupSatuanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceSatuanAturanPakai=e.data}),this.resepDokterService.reset()}ngAfterViewInit(){if(void 0!==this.activatedRoute.snapshot.params.id){let e;e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id),this.idArry=e.split(","),console.log(e),console.log(this.idArry),"pulang"==this.idArry[1]?(this.pulang=!0,this.ButtonNav=[{Id:"kembali_update",Icons1:"fas fa-arrow-left fa-sm",Captions:"Kembali"},{Id:"ubah",Icons1:"fas fa-save fa-sm",Captions:"Simpan Resep Pulang"}]):this.ButtonNav=[{Id:"kembali_update",Icons1:"fas fa-arrow-left fa-sm",Captions:"Kembali"},{Id:"ubah",Icons1:"fas fa-save fa-sm",Captions:"Ubah Resep Dokter"}],this.updateResep(parseInt(this.idArry[0]))}}updateResep(e){this.resepDokterService.onGetById(e).subscribe(e=>{this.dataUbah=e.data,this.heandleSelectedTemplateResep(e.data),this.updateResepDokter=!0})}handleClickTambahObat(){this.inputObat=!0,this.tanggal_mulai_text.setValue(this.utilityService.onFormatDate(this.tanggal_mulai.value,"Do MMMM yyyy")),this.tanggal_sampai_text.setValue(this.utilityService.onFormatDate(this.tanggal_sampai.value,"Do MMMM yyyy"))}onLoad(e){}setFormGrif(e,t,a,i){i?(document.getElementsByName("nama_satuan")[0].value=i.nama_satuan,document.getElementsByName("komposisi")[0].value=i.komposisi,document.getElementsByName("seper")[0].value=i.seper,document.getElementsByName("kandungan")[0].value=i.kandungan,document.getElementsByName("qty_racikan")[0].value=i.qty_racikan):(document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("komposisi")[0].value=e.itemData.kandungan_obat,document.getElementsByName("seper")[0].value="1",document.getElementsByName("kandungan")[0].value=e.itemData.kandungan_obat,document.getElementsByName("qty_racikan")[0].value=t.toString());let n=document.getElementsByName("seper")[0];n&&(n.addEventListener("click",e=>{n.select()}),n.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("komposisi")[0].value),i=a/parseInt(document.getElementsByName("seper")[0].value);document.getElementsByName("kandungan")[0].value=i.toString();let n=t*i/a;document.getElementsByName("qty_racikan")[0].value=n.toString()}),this.setInputFilter(n,function(e){return/^\d*$/.test(e)}));let r=document.getElementsByName("kandungan")[0];r&&(r.addEventListener("click",e=>{r.select()}),r.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("kandungan")[0].value),i=parseInt(document.getElementsByName("komposisi")[0].value),n=t*a;console.log(n);let r=n/i;document.getElementsByName("qty_racikan")[0].value=r.toString(),document.getElementsByName("seper")[0].value="1"}),this.setInputFilter(r,function(e){return/^\d*$/.test(e)}));let o=document.getElementsByName("qty_racikan")[0];o&&(o.addEventListener("click",e=>{o.select()}),this.setInputFilter(o,function(e){return/^\d*$/.test(e)}))}setInputFilter(e,t){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(a){e.addEventListener(a,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):Object.prototype.hasOwnProperty.call(this,"oldValue")?(this.value=this.oldValue,null!==this.oldSelectionStart&&null!==this.oldSelectionEnd&&this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleChangeObat(e){this.nama_satuan.setValue(e.itemData.nama_satuan),this.nama_obat.setValue(e.itemData.nama_obat)}handleChangeLabel(e){this.label_pemakaian_obat.setValue(""),this.id_label_pemakaian_obat.setValue(e.value),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat),this.qty_harian.setValue(e.itemData.berapa_kali_per_hari)}handleChangeAturan(e){"number"==typeof e.value&&e.value%1==0?(this.label_tambahan_aturan_pakai_obat.setValue(""),this.id_tambahan_aturan_pakai.setValue(e.value),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai)):(this.label_tambahan_aturan_pakai_obat.setValue(e.value),this.id_tambahan_aturan_pakai.setValue(1),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai))}handleChangeRacikan(e){this.nama_satuan.setValue(e?"PUYER":"-")}handleChangeNamaRacikan(){this.set_racikan_id.setValue(null)}handelClickRacikan(){this.LookupRacikan.onOpenModal()}handleChangeMetodeRacikan(e){this.metode_racikan.setValue(e.itemData.metode_racikan),this.nama_satuan.setValue(e.itemData.metode_racikan)}handleChangeRute(e){this.rute_pemberian_obat.setValue(e.itemData.nama_rute_pemberian_obat)}handleChangePemakaian(e){console.log(e)}handleChangeSatuanAturan(e){this.satuan_aturan_pakai.setValue(e.itemData.satuan_aturan_pakai)}handleSelectedRacikan(e){let t;e.is_racikan=!0,this.set_racikan_id.setValue(e.set_racikan_id),this.nama_obat.setValue(e.nama_obat),this.nama_racikan.setValue(e.nama_obat),this.id_metode_racikan.setValue(e.id_metode_racikan),t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{let a=this.counterRacikan++;e.counterRacikan=a,t.push(e)}),console.log(t),this.DataRacikan=t}heandleSelectedTemplateResep(e){let t;t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{this.counter++,e.counter=this.counter,e.nama_racikan=e.is_racikan?e.nama_obat:"",e.label=1==e.id_label_pemakaian_obat?e.ket_label:e.id_label_pemakaian_obat,e.aturan=1==e.id_tambahan_aturan_pakai?e.ket_aturan:e.id_tambahan_aturan_pakai,this.resepDokterService.addDetail(e),e.racikans.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)})}),this.resepDokterService.dataSourceChildGrid.next(t),this.isGetFromTemplate=!0}handleAddObat(e){this.counter++,e.counter=this.counter,e.is_racikan?e.nama_obat=e.nama_racikan:(e.id_metode_racikan=null,e.metode_racikan=null),this.resepDokterService.addDetail(e),this.is_racikan.value&&this.DataRacikan.length>0&&(this.DataRacikan.map((e,t)=>(e.counter=this.counter,e)),this.resepDokterService.dataSourceChildGrid.next(this.DataRacikan),this.DataRacikan=[]),this.onResetFormObat()}onResetFormObat(){this.set_racikan_id.setValue(null),this.id_metode_racikan.setValue(null),this.metode_racikan.setValue(""),this.id_item.setValue(null),this.nama_racikan.setValue(""),this.nama_obat.setValue(""),this.nama_satuan.setValue("-"),this.SatuanObat="",this.is_racikan.setValue(!1)}onChangeWaktuPakai(e){const t=document.getElementById("waktuPakai"+e),a=this.WaktuPakai.indexOf(e);t.checked?this.WaktuPakai.push(e):this.WaktuPakai.splice(a,1)}onUpdateDataObat(e){this.resepDokterService.editDetail(this.currentIndex,e),this.onResetFormObat(),this.GridResepRacikan.refresh(),this.FormAddObatState="input"}onInitalizedGrid(e){this.gridDaftarObat=e}onToolbarClick(e){switch(e.item.id){case"edit":this.onEditData(),this.FormAddObatState="edit";break;case"delete":this.resepDokterService.removeDataDetail(this.currentIndex),this.GridResepRacikan.refresh()}}onEditData(){let e=this.SelectedDataObat;this.FormAddObat.setValue({counter:e.counter,no_urut:e.no_urut,is_racikan:e.is_racikan,set_racikan_id:e.set_racikan_id,id_metode_racikan:e.id_metode_racikan,metode_racikan:e.metode_racikan,id_item:e.id_item,nama_obat:e.nama_obat,qty_resep:e.qty_resep,nama_satuan:e.nama_satuan,label:e.label,ket_label:e.ket_label,id_label_pemakaian_obat:e.id_label_pemakaian_obat,label_pemakaian_obat:e.label_pemakaian_obat,aturan:e.aturan,ket_aturan:e.ket_aturan,id_tambahan_aturan_pakai:e.id_tambahan_aturan_pakai,label_tambahan_aturan_pakai_obat:e.label_tambahan_aturan_pakai_obat,nama_racikan:e.nama_racikan,id_satuan_aturan_pakai:e.id_satuan_aturan_pakai,satuan_aturan_pakai:e.satuan_aturan_pakai,jumlah_hari:e.jumlah_hari,qty_harian:e.qty_harian,id_rute_pemberian_obat:e.id_rute_pemberian_obat,rute_pemberian_obat:e.nama_rute_pemberian_obat})}onActionComplete(e){}onRowSelected(e){this.currentIndex=e.rowIndex,this.SelectedDataObat=e.data}Insert(){return(0,kt.mG)(this,void 0,void 0,function*(){this.data_header={id_dokter:2,id_register:1,id_outlet:1,id_person:1,jenis_rawat:"I",nama_template:"",tanggal_resep:Ct()().format()};let e=yield this.resepDokterService.dataDetail;this.newdetail=e.filter(e=>e.is_racikan&&!e.set_racikan_id),this.baru=0,this.isGetFromTemplate?this.methodConfirmSetRacikan(0):this.modalRef=this.modalService.show(this.modalTemplateResep,Object.assign({},{class:"modal-lg"}))})}handleClickSimpanTemplateResepDokter(){let e=document.getElementsByName("nama_resep")[0].value;this.data_header.nama_template=e,this.modalRef.hide(),this.methodConfirmSetRacikan(1)}handleClickAbaikan(){this.modalRef.hide(),this.methodConfirmSetRacikan(0)}methodConfirmSetRacikan(e){this.newdetail.length>0?qt().fire({title:"Apakah Anda Ingin Menyimapan Racikan Baru ke dalam Setting Racikan dokter?",text:"Racikan akan bisa di gunakan lagi untuk template",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya Simpan Sebagai Template Racikan",cancelButtonText:"Tidak",focusCancel:!0}).then(t=>{this.baru=t.isConfirmed?1:0,this.methodInsert(this.data_header,e,this.baru)}):this.methodInsert(this.data_header,e,0)}methodInsert(e,t,a){this.resepDokterService.Insert(e,t,a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.resepDokterService.reset(),this.isGetFromTemplate=!1})})}ubahResep(){this.pulang?this.resepDokterService.pulangResepRawatInap(this.dataUbah).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Simpan Resep Pulang",e.message).then(()=>{const t=this.encryptionService.encrypt(JSON.stringify(e.data));this.router.navigate(["Dokter/resep-irna/view-resep-irna",t,"GRAHCIS"])})}):this.resepDokterService.ubahResepRawatInap(this.dataUbah).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Resep Ini Berhasil Di Ubah",e.message).then(()=>{const t=this.encryptionService.encrypt(JSON.stringify(e.data));this.router.navigate(["Dokter/resep-irna/view-resep-irna",t,"GRAHCIS"])})})}onClickButtonNav(e){switch(e){case"kembali_update":const e=this.encryptionService.encrypt(JSON.stringify(this.dataUbah.resep_id));this.router.navigate(["Dokter/resep-irna/view-resep-irna",e,"GRAHCIS"]);break;case"ubah":this.ubahResep();break;case"Kembali":this.router.navigateByUrl("Dokter/resep-irna/daftar-resep-irna");break;case"Template":this.handelClickTemplateResep();break;case"Reset":this.resepDokterService.reset(),this.isGetFromTemplate=!1;break;case"Simpan":this.resepDokterService.dataSourceChildGrid.next(this.dataScourceGridChild),this.Insert()}}handelClickTemplateResep(){this.LookupTemplateResep.onOpenModal()}get tanggal_mulai(){return this.FormAddObat.get("tanggal_mulai")}get tanggal_sampai(){return this.FormAddObat.get("tanggal_sampai")}get tanggal_mulai_text(){return this.FormAddObat.get("tanggal_mulai_text")}get tanggal_sampai_text(){return this.FormAddObat.get("tanggal_sampai_text")}get is_racikan(){return this.FormAddObat.get("is_racikan")}get set_racikan_id(){return this.FormAddObat.get("set_racikan_id")}get id_metode_racikan(){return this.FormAddObat.get("id_metode_racikan")}get metode_racikan(){return this.FormAddObat.get("metode_racikan")}get id_item(){return this.FormAddObat.get("id_item")}get nama_racikan(){return this.FormAddObat.get("nama_racikan")}get nama_obat(){return this.FormAddObat.get("nama_obat")}get jumlah_hari(){return this.FormAddObat.get("jumlah_hari")}get qty_harian(){return this.FormAddObat.get("qty_harian")}get qty_resep(){return this.FormAddObat.get("qty_resep")}get nama_satuan(){return this.FormAddObat.get("nama_satuan")}get id_rute_pemberian_obat(){return this.FormAddObat.get("id_rute_pemberian_obat")}get rute_pemberian_obat(){return this.FormAddObat.get("rute_pemberian_obat")}get jumlah_satuan_aturan_pakai(){return this.FormAddObat.get("jumlah_satuan_aturan_pakai")}get id_satuan_aturan_pakai(){return this.FormAddObat.get("id_satuan_aturan_pakai")}get satuan_aturan_pakai(){return this.FormAddObat.get("satuan_aturan_pakai")}get aturan(){return this.FormAddObat.get("aturan")}get ket_aturan(){return this.FormAddObat.get("ket_aturan")}get id_tambahan_aturan_pakai(){return this.FormAddObat.get("id_tambahan_aturan_pakai")}get label_tambahan_aturan_pakai_obat(){return this.FormAddObat.get("label_tambahan_aturan_pakai_obat")}get label(){return this.FormAddObat.get("label")}get ket_label(){return this.FormAddObat.get("ket_label")}get id_label_pemakaian_obat(){return this.FormAddObat.get("id_label_pemakaian_obat")}get label_pemakaian_obat(){return this.FormAddObat.get("label_pemakaian_obat")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(Ea.Z),s.Y36(Ot.m),s.Y36(It.j),s.Y36(Pt.I),s.Y36(Nt),s.Y36(Gt.f),s.Y36(Ft.l),s.Y36(u.t),s.Y36(ee.tT),s.Y36(o.F0),s.Y36(ut.C),s.Y36(o.gz),s.Y36(h.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-input-resep-irna"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Qa,5),s.Gf(ja,5),s.Gf(Ka,5),s.Gf(Ha,5),s.Gf(Ya,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.LookupTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.modalTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first)}},features:[s._Bn([ee.tT])],decls:89,vars:78,consts:[[3,"ButtonNav","onClickButtonNav"],[1,"form-irna",3,"formGroup"],[1,"row"],[1,"col-lg-4"],[1,"row","mb-2"],[1,"col-lg-2","col-md-1","col-sm-1","col-xs-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","DropdownObat",1,"form-label"],["type","checkbox","formControlName","is_racikan",1,"form-check-input"],["class","col-lg-10 col-md-11 col-sm-11 col-xs-11",4,"ngIf"],["class","col-lg-10 col-md-10 col-sm-10 col-xs-10",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-lg-12"],["for","kemasan",1,"form-label"],["id","DropdownLabelPemakaian","formControlName","id_rute_pemberian_obat","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["for","label",1,"form-label"],["id","DropdownLabelPemakaian","formControlName","label","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["class","row mb-2",4,"ngIf"],["for","NumericQty",1,"form-label"],["id","DropdownTambahanAturanPakai","formControlName","aturan","popupWidth","25rem",3,"allowFiltering","dataSource","fields","change"],[1,"col-lg-6"],["id","NumericQty","formControlName","qty_harian",3,"format","showSpinButton","readonly","showClearButton","ste"],["id","NumericQty","formControlName","jumlah_hari",1,"form_paragraf",3,"format","showSpinButton","showClearButton","ste"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","hidden","click"],[1,"fas","fa-plus-circle","fa-sm"],[3,"hidden"],["type","button",1,"btn","btn-warning","btn-sm",3,"disabled","hidden","click"],[1,"fas","fa-edit","fa-sm"],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","queryString","onGetSelectedData"],["LookupTemplateResep",""],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","onGetSelectedData"],["LookupRacikan",""],[1,"col-lg-8"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 15rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","toolbar","allowTextWrap","textWrapSettings","toolbarClick","load","rowDataBound","dataBound","rowSelected","actionComplete"],["GridResepRacikan",""],["field","no_urut","headerText","no_urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","is_racikan","headerText","is_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","set_racikan_id","headerText","set_racikan_id","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_metode_racikan","headerText","id_metode_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_label_pemakaian_obat","headerText","id_label_pemakaian_obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_tambahan_aturan_pakai","headerText","id_tambahan_aturan_pakai","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_satuan","headerText","Satuan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","metode_racikan","headerText","Kemasan Racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["modalTemplateResep",""],[1,"col-lg-10","col-md-11","col-sm-11","col-xs-11"],["id","DropdownObat","formControlName","id_item","popupWidth","55rem",3,"allowFiltering","dataSource","fields","placeholder","query","sortOrder","filtering","change"],["Drop",""],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10"],[1,"input-group"],["type","text","formControlName","nama_racikan",1,"form-control","form-select-sm",3,"change"],["id","btnInputGroup","type","button",1,"btn","btn-primary",2,"padding",".1rem .8rem","background-color","#00afff; border: 0",3,"click"],[1,"fas","fa-search"],["formControlName","id_metode_racikan",3,"dataSource","fields","allowFiltering","change"],["MolDropdown",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pe-1"],["id","DropdownLabelPemakaian","formControlName","id_satuan_aturan_pakai","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"col-sm-4"],["for","nama_resep"],[1,"col-sm-8"],["type","text","name","nama_resep",1,"form-control","form-control-sm"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",2),s.TgZ(7,"div",6),s.TgZ(8,"label",7),s._uU(9,"Racik"),s.qZA(),s.qZA(),s.TgZ(10,"div",6),s._UZ(11,"input",8),s.qZA(),s.qZA(),s.qZA(),s.YNc(12,Va,8,7,"div",9),s.YNc(13,Wa,10,0,"div",10),s.qZA(),s.YNc(14,za,10,5,"div",11),s.TgZ(15,"div",4),s.TgZ(16,"div",12),s.TgZ(17,"div",2),s.TgZ(18,"div",6),s.TgZ(19,"label",13),s._uU(20,"Rute Pemberian Obat"),s.qZA(),s.qZA(),s.TgZ(21,"div",6),s.TgZ(22,"ejs-combobox",14),s.NdJ("change",function(e){return t.handleChangeRute(e)}),s.ALo(23,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",4),s.TgZ(25,"div",12),s.TgZ(26,"div",2),s.TgZ(27,"div",6),s.TgZ(28,"label",15),s._uU(29,"Label"),s.qZA(),s.qZA(),s.TgZ(30,"div",6),s.TgZ(31,"ejs-dropdownlist",16),s.NdJ("change",function(e){return t.handleChangeLabel(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(32,$a,8,3,"div",17),s.TgZ(33,"div",4),s.TgZ(34,"div",12),s.TgZ(35,"div",2),s.TgZ(36,"div",6),s.TgZ(37,"label",18),s._uU(38,"Aturan Tambahan"),s.qZA(),s.qZA(),s.TgZ(39,"ejs-combobox",19),s.NdJ("change",function(e){return t.handleChangeAturan(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(40,"div",4),s.TgZ(41,"div",20),s.TgZ(42,"div",2),s.TgZ(43,"div",6),s.TgZ(44,"label",18),s._uU(45,"Qty/Hari"),s.qZA(),s.qZA(),s._UZ(46,"ejs-numerictextbox",21),s.qZA(),s.qZA(),s.TgZ(47,"div",20),s.TgZ(48,"div",2),s.TgZ(49,"div",6),s.TgZ(50,"label",18),s._uU(51,"Untuk Berapa Hari"),s.qZA(),s.qZA(),s._UZ(52,"ejs-numerictextbox",22),s.qZA(),s.qZA(),s.qZA(),s.TgZ(53,"div",2),s.TgZ(54,"div",12),s.TgZ(55,"button",23),s.NdJ("click",function(){return t.handleAddObat(t.FormAddObat.value)}),s._UZ(56,"i",24),s.TgZ(57,"span",25),s._uU(58,"\xa0Obat"),s.qZA(),s.qZA(),s.TgZ(59,"button",26),s.NdJ("click",function(){return t.onUpdateDataObat(t.FormAddObat.value)}),s._UZ(60,"i",27),s.TgZ(61,"span",25),s._uU(62,"\xa0Edit Obat"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(63,"org-look-up-hirarki",28,29),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedTemplateResep(e)}),s.qZA(),s.TgZ(65,"org-look-up-hirarki",30,31),s.NdJ("onGetSelectedData",function(e){return t.handleSelectedRacikan(e)}),s.qZA(),s.qZA(),s.TgZ(67,"div",32),s.TgZ(68,"div",33),s.TgZ(69,"div",34),s.TgZ(70,"ejs-grid",35,36),s.NdJ("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.onLoad(e)})("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.onRowSelected(e)})("actionComplete",function(e){return t.onActionComplete(e)}),s.ALo(72,"async"),s.TgZ(73,"e-columns"),s._UZ(74,"e-column",37),s._UZ(75,"e-column",38),s._UZ(76,"e-column",39),s._UZ(77,"e-column",40),s._UZ(78,"e-column",41),s._UZ(79,"e-column",42),s._UZ(80,"e-column",43),s._UZ(81,"e-column",44),s._UZ(82,"e-column",45),s._UZ(83,"e-column",46),s._UZ(84,"e-column",47),s._UZ(85,"e-column",48),s._UZ(86,"e-column",49),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(87,Xa,24,0,"ng-template",null,50,s.W1O),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(1),s.Q6J("formGroup",t.FormAddObat),s.xp6(11),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(8),s.Q6J("allowFiltering",!0)("dataSource",s.lcZ(23,73,t.setupRutePemberianObatService.dataSource))("fields",t.DropdownRuteFields),s.xp6(9),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceLabelPemakaian)("fields",t.DropdownLabelFields),s.xp6(1),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceTambahanAturanPakai)("fields",t.DropdownAturanFields),s.xp6(7),s.Q6J("format","N0")("showSpinButton",!1)("readonly",!0)("showClearButton",!1),s.xp6(6),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1),s.xp6(3),s.Q6J("disabled",t.FormAddObat.invalid)("hidden","input"!=t.FormAddObatState),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("disabled",t.FormAddObat.invalid)("hidden","input"==t.FormAddObatState),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("lookup-url",t.urlTemplateResep)("columns",t.GridlookUpTemplateResep.columns)("columnsChild",t.GridlookUpTemplateResep.columnsChild)("filter-lookup",t.GridlookUpTemplateResep.filter)("modal-title","Data Template Resep Dokter")("queryString","resep_id"),s.xp6(2),s.Q6J("lookup-url",t.urlRacikan)("columns",t.GridLookUpItem.columns)("columnsChild",t.GridLookUpItem.columnsChild)("filter-lookup",t.GridLookUpItem.filter)("modal-title","Data Racikan Dokter"),s.xp6(5),s.Q6J("dataSource",s.lcZ(72,75,t.resepDokterService.dataDetail$))("childGrid",t.ChildGrid)("toolbar",t.GridDaftarObatToolbar)("allowTextWrap",!0)("textWrapSettings",s.DdM(77,ei)),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",220)("valueAccessor",t.quantity),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1))},directives:[y.G,n._Y,n.JL,n.sg,n.Wl,n.JJ,n.u,i.O5,me.oX,me.rI,Mt.Uw,Jt.K,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,n.Fj],pipes:[i.Ov],styles:["#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.form_paragraf[_ngcontent-%COMP%]{display:inline-block!important}.form-label[_ngcontent-%COMP%]{margin-bottom:0}#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),e})();const ai=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var ii=a.t(ai,2);const ni=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_template","headerText":"Nama Template Resep","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_resep","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var ri=a.t(ni,2);const oi=JSON.parse('{"GridInputResep":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rx","headerText":"Rx","type":"string","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_urut","headerText":"No","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_resep","headerText":"Kode Resep","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Obat","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"satuan","headerText":"Satuan","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"qty_obat","headerText":"Qty","format":"N","textAlign":"Right","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"aturan_pakai","headerText":"Jumlah Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_pakai","headerText":"Aturan Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"waktu_pakai","headerText":"Waktu Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"catatan","headerText":"Catatan","type":"string","visible":true,"width":100}]},"GridHistoryResep":{"columns":[],"dataSource":[]}}');var li=a.t(oi,2),di=a(7085);const si=["LookupRacikan"],ui=["LookupTemplateResep"],ci=["GridResepRacikan"],gi=["itemTemplate"],hi=["modalTemplateResep"];function mi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",51),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s.TgZ(3,"label",6),s._uU(4,"Nama Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",12),s.TgZ(7,"div",52),s.TgZ(8,"ejs-dropdownlist",53,54),s.NdJ("filtering",function(t){return s.CHM(e),s.oxw().onFiltering(t)})("change",function(t){return s.CHM(e),s.oxw().handleChangeObat(t)}),s.qZA(),s.qZA(),s.TgZ(10,"div",55),s.TgZ(11,"span",56),s._uU(12),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Q6J("allowFiltering",!0)("dataSource",e.data)("fields",e.fields)("placeholder",e.text)("query",e.query)("sortOrder",e.sorting)("allowFiltering",!0),s.xp6(4),s.hij(" ",e.nama_satuan.value," ")}}function pi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",57),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s.TgZ(3,"label",6),s._uU(4,"Nama Racikan Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",58),s.TgZ(7,"input",59),s.NdJ("change",function(){return s.CHM(e),s.oxw().handleChangeNamaRacikan()}),s.qZA(),s.TgZ(8,"button",60),s.NdJ("click",function(t){return s.CHM(e),s.oxw().handelClickRacikan(t)}),s._UZ(9,"i",61),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function _i(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",62),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s.TgZ(3,"label",6),s._uU(4,"Kemasan Racikan"),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",58),s.TgZ(7,"ejs-dropdownlist",63,64),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeMetodeRacikan(t)}),s.ALo(9,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("dataSource",s.lcZ(9,3,e.setupMetodeRacikanService.dataSource))("fields",e.DropdownMetodeRacikanFields)("allowFiltering",!0)}}function fi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",11),s.TgZ(1,"div",12),s.TgZ(2,"div",5),s.TgZ(3,"label",13),s._uU(4,"Satuan"),s.qZA(),s.qZA(),s.TgZ(5,"div",16),s.TgZ(6,"ejs-combobox",65),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeSatuanAturan(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(6),s.Q6J("allowFiltering",!0)("dataSource",e.dataSourceSatuanAturanPakai)("fields",e.DropdownsatuanPakaiFields)}}function bi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",66),s.TgZ(1,"h5",67),s._uU(2,"Simpan Template Resep Dokter"),s.qZA(),s.TgZ(3,"button",68),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",69),s.qZA(),s.qZA(),s.TgZ(5,"div",70),s.TgZ(6,"div",71),s.TgZ(7,"div",72),s.TgZ(8,"h2"),s._uU(9,"Apakah Dokter Ingin Menyimapan Resep Ini Sebagai Template Resep?"),s.qZA(),s.TgZ(10,"p"),s._uU(11,"Template resep di gunakan untuk membuat resep dengan data resep yg sudah ada"),s.qZA(),s.qZA(),s.TgZ(12,"div",73),s.TgZ(13,"div",74),s.TgZ(14,"div",75),s.TgZ(15,"label",76),s.TgZ(16,"strong"),s._uU(17,"Nama Template Resep"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",77),s._UZ(19,"input",78),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",79),s.TgZ(21,"button",80),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickSimpanTemplateResepDokter()}),s._uU(22,"Simpan Template Resep"),s.qZA(),s.TgZ(23,"button",81),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickAbaikan()}),s._uU(24,"Tidak"),s.qZA(),s.qZA()}}let ki=(()=>{class e{constructor(e,t,a,i,n,r,o,l,d,u,c){this.formBuilder=e,this.resepDokterService=t,this.setupLabelPemakaianObatService=a,this.setupTambahanAturanPakaiService=i,this.setupSatuanAturanPakaiService=n,this.setupMetodeRacikanService=r,this.renderer=o,this.daftarPasienService=l,this.router=d,this.modalService=u,this.utilityService=c,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"},{Id:"simpan",Captions:"Simpan Resep Pulang",Icons1:"fas fa-save fa-sm"}],this.onSetTemplateResep=new s.vpe,this.urlRacikan=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_RACIKAN+"/2/J",this.urlTemplateResep=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_TEMPLATE_RESEP+"/2",this.GridLookUpItem=ii,this.GridlookUpTemplateResep=ri,this.isGetFromTemplate=!1,this.DropdownLabelFields={text:"nama_label_pemakaian_obat",value:"id_label_pemakaian_obat"},this.DropdownAturanFields={text:"tambahan_aturan_pakai",value:"id_tambahan_aturan_pakai"},this.DropdownsatuanPakaiFields={text:"satuan_aturan_pakai",value:"id_satuan_aturan_pakai"},this.FormAddObatState="input",this.SatuanObat="-",this.DropdownObatFields={text:"nama_obat",value:"id_item"},this.DropdownMetodeRacikanFields={text:"metode_racikan",value:"id_metode_racikan"},this.NamaObatDatasource=[],this.WaktuPakai=[],this.GridDaftarObatEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarObatDataSource=[],this.GridDaftarObatColumns=li,this.GridDetailResepRacikanDatasource=[],this.GridResepRacikanDatasource=[],this.dataSourceLabelPemakaian=[],this.dataSourceTambahanAturanPakai=[],this.dataSourceSatuanAturanPakai=[],this.counter=0,this.counterRacikan=0,this.dataScourceGridChild=[],this.IsUserLogin=JSON.parse(localStorage.getItem("UserData")),this.data=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.fields={text:"nama_obat",value:"id_item"},this.query=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.text="Select a Obat",this.sorting="Ascending",this.onFiltering=e=>{if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}},this.dataChild=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.dataheader=null,this.baru=0}get width(){return window.innerWidth}ngOnInit(){this.FormAddObat=this.formBuilder.group({counter:[0,[]],is_racikan:[!1,[]],no_urut:[0,[]],set_racikan_id:[null,[]],id_metode_racikan:[null,[]],metode_racikan:["",[]],id_item:[null,[]],nama_racikan:["",[]],nama_obat:["",[]],qty_resep:["",[]],nama_satuan:["-",[]],label:["",[]],ket_label:["",[]],id_label_pemakaian_obat:[null,[]],label_pemakaian_obat:["",[]],id_satuan_aturan_pakai:[null,[]],satuan_aturan_pakai:[null,[]],aturan:["",[]],ket_aturan:["",[]],id_tambahan_aturan_pakai:[null,[]],label_tambahan_aturan_pakai_obat:["",[]]}),this.GridDaftarObatToolbar=[{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Delete",tooltipText:"Delete",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"},"Search"];let e=this.currentQtyResep,t=this.currentIdItem,a=this.SelectedDataRacikanObat;this.resepDokterService.dataSelectRacikan.next(a),this.itemsParams={create:()=>(a&&(this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",a.nama_obat,!0)),this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.itemsObj=new Tt.NB({dataSource:this.dataChild,fields:this.fields,query:this.queryChild,enabled:!0,placeholder:"Select a obat",allowFiltering:!0,popupWidth:"55rem",filtering:(function(e){if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}}).bind(this),change:(function(i){this.setFormGrif(i,e,t,a),t=i.itemData.id_item}).bind(this)}),this.itemsObj.appendTo(this.itemsElem),a&&setTimeout(()=>{this.itemsObj.value=a.id_item},500)}};let i=this.counterRacikan,n=this.dataScourceGridChild;this.resepDokterService.dataSourceChildGrid.next(n),this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"counter",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"counter",headerText:"c",width:100,visible:!1},{field:"no_urut",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"nama_satuan",headerText:"Satuan",textAlign:"Right",width:80,allowEditing:!1},{field:"id_item",headerText:"id",width:100,visible:!1},{field:"komposisi",headerText:"kps",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"seper",headerText:"1/",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"kandungan",headerText:"Kandungan",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"qty_resep",headerText:"qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",visible:!1},{field:"qty_racikan",headerText:"QTY",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"keterangan",headerText:"Keterangan",headerTextAlign:"Center",textAlign:"Left",width:100}],rowSelected(e){a=e.data},actionBegin(t){console.log("begin",t),"add"===t.requestType&&(t.data.counter=this.parentDetails.parentKeyFieldValue,t.data.qty_resep=this.parentDetails.parentRowData.qty_resep,t.data.counterRacikan=i++,e=this.parentDetails.parentRowData.qty_resep,a=null)},actionComplete(e){if("save"===e.requestType&&("add"===e.action&&(e.data.id_item=t,n.push(e.data)),"edit"===e.action)){e.data.id_item=t;let a=n.map(e=>e.counterRacikan).indexOf(e.data.counterRacikan);n[a]=e.data}if("delete"===e.requestType){let t=n.map(e=>e.counterRacikan).indexOf(e.data[0].counterRacikan);n.splice(t,1)}}},this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.dataSourceLabelPemakaian=e.data}),this.setupTambahanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceTambahanAturanPakai=e.data}),this.setupSatuanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceSatuanAturanPakai=e.data}),this.setupMetodeRacikanService.setDataSource(),this.resepDokterService.setDataObat([])}onLoad(e){}setFormGrif(e,t,a,i){i?(document.getElementsByName("nama_satuan")[0].value=i.nama_satuan,document.getElementsByName("komposisi")[0].value=i.komposisi,document.getElementsByName("seper")[0].value=i.seper,document.getElementsByName("kandungan")[0].value=i.kandungan,document.getElementsByName("qty_racikan")[0].value=i.qty_racikan):(document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("komposisi")[0].value=e.itemData.kandungan_obat,document.getElementsByName("seper")[0].value="1",document.getElementsByName("kandungan")[0].value=e.itemData.kandungan_obat,document.getElementsByName("qty_racikan")[0].value=t.toString());let n=document.getElementsByName("seper")[0];n&&(n.addEventListener("click",e=>{n.select()}),n.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("komposisi")[0].value),i=a/parseInt(document.getElementsByName("seper")[0].value);document.getElementsByName("kandungan")[0].value=i.toString();let n=t*i/a;document.getElementsByName("qty_racikan")[0].value=n.toString()}),this.setInputFilter(n,function(e){return/^\d*$/.test(e)}));let r=document.getElementsByName("kandungan")[0];r&&(r.addEventListener("click",e=>{r.select()}),r.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("kandungan")[0].value),i=parseInt(document.getElementsByName("komposisi")[0].value),n=t*a;console.log(n);let r=n/i;document.getElementsByName("qty_racikan")[0].value=r.toString(),document.getElementsByName("seper")[0].value="1"}),this.setInputFilter(r,function(e){return/^\d*$/.test(e)}));let o=document.getElementsByName("qty_racikan")[0];o&&(o.addEventListener("click",e=>{o.select()}),this.setInputFilter(o,function(e){return/^\d*$/.test(e)}))}setInputFilter(e,t){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(a){e.addEventListener(a,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):Object.prototype.hasOwnProperty.call(this,"oldValue")?(this.value=this.oldValue,null!==this.oldSelectionStart&&null!==this.oldSelectionEnd&&this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleChangeObat(e){this.nama_satuan.setValue(e.itemData.nama_satuan),this.nama_obat.setValue(e.itemData.nama_obat)}handleChangeLabel(e){"number"==typeof e.value&&e.value%1==0?(this.label_pemakaian_obat.setValue(""),this.id_label_pemakaian_obat.setValue(e.value),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat)):(this.label_pemakaian_obat.setValue(e.value),this.id_label_pemakaian_obat.setValue(1),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat))}handleChangeAturan(e){"number"==typeof e.value&&e.value%1==0?(this.label_tambahan_aturan_pakai_obat.setValue(""),this.id_tambahan_aturan_pakai.setValue(e.value),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai)):(this.label_tambahan_aturan_pakai_obat.setValue(e.value),this.id_tambahan_aturan_pakai.setValue(1),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai))}handleChangeSatuanAturan(e){this.satuan_aturan_pakai.setValue(e.itemData.satuan_aturan_pakai)}handleChangeNamaRacikan(){this.set_racikan_id.setValue(null)}handelClickRacikan(){this.LookupRacikan.onOpenModal()}handelClickTemplateResep(){this.LookupTemplateResep.onOpenModal()}handleChangeMetodeRacikan(e){this.metode_racikan.setValue(e.itemData.metode_racikan)}heandleSelectedRacikan(e){let t;this.counter++,e.counter=this.counter,e.is_racikan=!0,this.resepDokterService.addDetail(e),t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)}),console.log(t),this.resepDokterService.dataSourceChildGrid.next(t)}heandleSelectedTemplateResep(e){let t;t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{this.counter++,e.counter=this.counter,e.nama_racikan=e.is_racikan?e.nama_obat:"",e.label=1==e.id_label_pemakaian_obat?e.ket_label:e.id_label_pemakaian_obat,e.aturan=1==e.id_tambahan_aturan_pakai?e.ket_aturan:e.id_tambahan_aturan_pakai,this.resepDokterService.addDetail(e),e.racikans.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)})}),this.resepDokterService.dataSourceChildGrid.next(t),this.onSetTemplateResep.emit(!0)}handleAddObat(e){this.counter++,e.counter=this.counter,e.is_racikan?e.nama_obat=e.nama_racikan:(e.id_metode_racikan=null,e.metode_racikan=null),this.resepDokterService.addDetail(e),this.onResetFormObat()}onResetFormObat(){this.FormAddObat.reset(),this.is_racikan.setValue(!1)}onChangeWaktuPakai(e){const t=document.getElementById("waktuPakai"+e),a=this.WaktuPakai.indexOf(e);t.checked?this.WaktuPakai.push(e):this.WaktuPakai.splice(a,1)}onUpdateDataObat(e){this.resepDokterService.editDetail(this.currentIndex,e),this.onResetFormObat(),this.GridResepRacikan.refresh(),this.FormAddObatState="input"}onResetFormDataObat(){this.FormAddObat.reset(),this.SatuanObat=""}onInitalizedGrid(e){this.gridDaftarObat=e}onToolbarClick(e){switch(e.item.id){case"edit":this.onEditData(),this.FormAddObatState="edit";break;case"delete":this.resepDokterService.removeDataDetail(this.currentIndex),this.GridResepRacikan.refresh()}}onEditData(){let e=this.SelectedDataObat;this.FormAddObat.setValue({counter:e.counter,no_urut:e.no_urut,is_racikan:e.is_racikan,set_racikan_id:e.set_racikan_id,id_metode_racikan:e.id_metode_racikan,metode_racikan:e.metode_racikan,id_item:e.id_item,nama_obat:e.nama_obat,qty_resep:e.qty_resep,nama_satuan:e.nama_satuan,label:e.label,ket_label:e.ket_label,id_label_pemakaian_obat:e.id_label_pemakaian_obat,label_pemakaian_obat:e.label_pemakaian_obat,aturan:e.aturan,ket_aturan:e.ket_aturan,id_tambahan_aturan_pakai:e.id_tambahan_aturan_pakai,label_tambahan_aturan_pakai_obat:e.label_tambahan_aturan_pakai_obat,nama_racikan:e.nama_racikan,id_satuan_aturan_pakai:e.id_satuan_aturan_pakai,satuan_aturan_pakai:e.satuan_aturan_pakai})}onActionComplete(e){}onRowSelected(e){this.currentIndex=e.rowIndex,this.SelectedDataObat=e.data}onClickButtonNav(e){switch(e){case"simpan":this.Insert();break;case"Kembali":this.router.navigateByUrl("Dokter/resep-irna/daftar-resep-irna")}}Insert(){return(0,kt.mG)(this,void 0,void 0,function*(){this.dataheader={id_dokter:2,id_register:1,id_outlet:1,id_person:1,jenis_rawat:"I",nama_template:"",tanggal_resep:this.currentTanggal};let e=yield this.resepDokterService.dataDetail;this.newdetail=e.filter(e=>e.is_racikan&&!e.set_racikan_id),this.baru=0,this.methodConfirmSetRacikan(0)})}handleClickSimpanTemplateResepDokter(){let e=document.getElementsByName("nama_resep")[0].value;this.dataheader.nama_template=e,this.modalRef.hide(),this.methodConfirmSetRacikan(1)}handleClickAbaikan(){this.modalRef.hide(),this.methodConfirmSetRacikan(0)}methodConfirmSetRacikan(e){this.newdetail.length>0?qt().fire({title:"Apakah Anda Ingin Menyimapan Racikan Baru ke dalam Setting Racikan dokter?",text:"Racikan akan bisa di gunakan lagi untuk template",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, Saya Yakin",cancelButtonText:"Tidak",focusCancel:!0}).then(t=>{this.baru=t.isConfirmed?1:0,this.methodInsert(this.dataheader,e,this.baru)}):this.methodInsert(this.dataheader,e,0)}methodInsert(e,t,a){this.resepDokterService.Pulang(e,t,a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.resepDokterService.reset(),this.isGetFromTemplate=!1})})}get is_racikan(){return this.FormAddObat.get("is_racikan")}get set_racikan_id(){return this.FormAddObat.get("set_racikan_id")}get id_metode_racikan(){return this.FormAddObat.get("id_metode_racikan")}get metode_racikan(){return this.FormAddObat.get("metode_racikan")}get id_item(){return this.FormAddObat.get("id_item")}get nama_obat(){return this.FormAddObat.get("nama_obat")}get qty_resep(){return this.FormAddObat.get("qty_resep")}get nama_satuan(){return this.FormAddObat.get("nama_satuan")}get label(){return this.FormAddObat.get("label")}get ket_label(){return this.FormAddObat.get("ket_label")}get id_label_pemakaian_obat(){return this.FormAddObat.get("id_label_pemakaian_obat")}get label_pemakaian_obat(){return this.FormAddObat.get("label_pemakaian_obat")}get aturan(){return this.FormAddObat.get("aturan")}get ket_aturan(){return this.FormAddObat.get("ket_aturan")}get id_tambahan_aturan_pakai(){return this.FormAddObat.get("id_tambahan_aturan_pakai")}get label_tambahan_aturan_pakai_obat(){return this.FormAddObat.get("label_tambahan_aturan_pakai_obat")}get nama_racikan(){return this.FormAddObat.get("nama_racikan")}get satuan_aturan_pakai(){return this.FormAddObat.get("satuan_aturan_pakai")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(di.f),s.Y36(Ft.l),s.Y36(Gt.f),s.Y36(Pt.I),s.Y36(Ot.m),s.Y36(s.Qsj),s.Y36(h.O),s.Y36(o.F0),s.Y36(ee.tT),s.Y36(u.t))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-pulang-resep-irna"]],viewQuery:function(e,t){if(1&e&&(s.Gf(si,5),s.Gf(ui,5),s.Gf(ci,5),s.Gf(gi,5),s.Gf(hi,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.LookupTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first),s.iGM(e=s.CRH())&&(t.modalTemplateResep=e.first)}},outputs:{onSetTemplateResep:"onSetTemplateResep"},decls:74,vars:66,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","pt-2","mb-2"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1"],[1,"row","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","DropdownObat",1,"form-label"],["type","checkbox","formControlName","is_racikan",1,"form-check-input"],["class","col-lg-4 col-md-4 col-sm-4 col-xs-4",4,"ngIf"],["class","col-lg-3 col-md-3 col-sm-3 col-xs-3",4,"ngIf"],["class","col-lg-2 col-md-2 col-sm-2 col-xs-2",4,"ngIf"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","pe-1"],[1,"row"],["for","NumericQty",1,"form-label"],["id","NumericQty","formControlName","qty_resep",3,"format","showSpinButton","showClearButton","ste"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","pe-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pe-1"],["id","DropdownLabelPemakaian","formControlName","label","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["class","col-lg-1 col-md-1 col-sm-1 col-xs-1 pe-1",4,"ngIf"],["id","DropdownTambahanAturanPakai","formControlName","aturan","popupWidth","25rem",3,"allowFiltering","dataSource","fields","change"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","ps-4"],[1,"row","align-content-center","h-100","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","px-0",3,"hidden"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-plus-circle","fa-sm"],[3,"hidden"],["type","button",1,"btn","btn-warning","btn-sm",3,"disabled","click"],[1,"fas","fa-edit","fa-sm"],[3,"lookup-url","columns","columnsChild","filter-lookup","queryString","modal-title","onGetSelectedData"],["LookupRacikan",""],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","queryString","onGetSelectedData"],["LookupTemplateResep",""],[1,"col-lg-12","col-md-12","col-xs-12","col-sm-12"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 24rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","toolbar","toolbarClick","load","rowDataBound","dataBound","rowSelected","actionComplete"],["GridResepRacikan",""],["field","no_urut","headerText","no_urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","is_racikan","headerText","is_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","set_racikan_id","headerText","set_racikan_id","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_metode_racikan","headerText","id_metode_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_label_pemakaian_obat","headerText","id_label_pemakaian_obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_tambahan_aturan_pakai","headerText","id_tambahan_aturan_pakai","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_satuan","headerText","Satuan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","metode_racikan","headerText","Kemasan Racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing"],["field","ket_label","headerText","Pemakaian","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["modalTemplateResep",""],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10","pe-0"],["id","DropdownObat","formControlName","id_item","popupWidth","55rem",3,"allowFiltering","dataSource","fields","placeholder","query","sortOrder","filtering","change"],["Drop",""],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","px-0"],["id","basic-addon1",1,"input-group-text","bg-primary","text-white"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3"],[1,"input-group"],["type","text","formControlName","nama_racikan",1,"form-control","form-select-sm",3,"change"],["id","btnInputGroup","type","button",1,"btn","btn-primary",2,"padding",".1rem .8rem","background-color","#00afff; border: 0",3,"click"],[1,"fas","fa-search"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2"],["formControlName","id_metode_racikan",3,"dataSource","fields","allowFiltering","change"],["MolDropdown",""],["id","DropdownLabelPemakaian","formControlName","id_satuan_aturan_pakai","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mb-2","row"],[1,"col-sm-4"],["for","nama_resep"],[1,"col-sm-8"],["type","text","name","nama_resep",1,"form-control","form-control-sm"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"label",6),s._uU(7,"Racik"),s.qZA(),s.qZA(),s.TgZ(8,"div",5),s._UZ(9,"input",7),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,mi,13,8,"div",8),s.YNc(11,pi,10,0,"div",9),s.YNc(12,_i,10,5,"div",10),s.TgZ(13,"div",11),s.TgZ(14,"div",12),s.TgZ(15,"div",5),s.TgZ(16,"label",13),s._uU(17,"Qty"),s.qZA(),s.qZA(),s.TgZ(18,"div",5),s._UZ(19,"ejs-numerictextbox",14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",15),s.TgZ(21,"div",12),s.TgZ(22,"div",5),s.TgZ(23,"label",13),s._uU(24,"Label Obat"),s.qZA(),s.qZA(),s.TgZ(25,"div",16),s.TgZ(26,"ejs-combobox",17),s.NdJ("change",function(e){return t.handleChangeLabel(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(27,fi,7,3,"div",18),s.TgZ(28,"div",15),s.TgZ(29,"div",12),s.TgZ(30,"div",5),s.TgZ(31,"label",13),s._uU(32,"Aturan Tambahan"),s.qZA(),s.qZA(),s.TgZ(33,"div",16),s.TgZ(34,"ejs-combobox",19),s.NdJ("change",function(e){return t.handleChangeAturan(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(35,"div",20),s.TgZ(36,"div",21),s.TgZ(37,"div",22),s.TgZ(38,"button",23),s.NdJ("click",function(){return t.handleAddObat(t.FormAddObat.value)}),s._UZ(39,"i",24),s.TgZ(40,"span",25),s._uU(41,"\xa0Obat"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(42,"div",22),s.TgZ(43,"button",26),s.NdJ("click",function(){return t.onUpdateDataObat(t.FormAddObat.value)}),s._UZ(44,"i",27),s.TgZ(45,"span",25),s._uU(46,"\xa0Edit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(47,"org-look-up-hirarki",28,29),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedRacikan(e)}),s.qZA(),s.TgZ(49,"org-look-up-hirarki",30,31),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedTemplateResep(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",2),s.TgZ(52,"div",32),s.TgZ(53,"div",33),s.TgZ(54,"div",34),s.TgZ(55,"ejs-grid",35,36),s.NdJ("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.onLoad(e)})("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.onRowSelected(e)})("actionComplete",function(e){return t.onActionComplete(e)}),s.ALo(57,"async"),s.TgZ(58,"e-columns"),s._UZ(59,"e-column",37),s._UZ(60,"e-column",38),s._UZ(61,"e-column",39),s._UZ(62,"e-column",40),s._UZ(63,"e-column",41),s._UZ(64,"e-column",42),s._UZ(65,"e-column",43),s._UZ(66,"e-column",44),s._UZ(67,"e-column",45),s._UZ(68,"e-column",46),s._UZ(69,"e-column",47),s._UZ(70,"e-column",48),s._UZ(71,"e-column",49),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(72,bi,25,0,"ng-template",null,50,s.W1O),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(1),s.Q6J("formGroup",t.FormAddObat),s.xp6(9),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(7),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceLabelPemakaian)("fields",t.DropdownLabelFields),s.xp6(1),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceTambahanAturanPakai)("fields",t.DropdownAturanFields),s.xp6(2),s.Tol(t.width>=1023&&t.width<=1200?"pt-1":"pt-4"),s.xp6(1),s.Q6J("hidden","input"!=t.FormAddObatState),s.xp6(1),s.Q6J("disabled",t.FormAddObat.invalid),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("hidden","input"==t.FormAddObatState),s.xp6(1),s.Q6J("disabled",t.FormAddObat.invalid),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("lookup-url",t.urlRacikan)("columns",t.GridLookUpItem.columns)("columnsChild",t.GridLookUpItem.columnsChild)("filter-lookup",t.GridLookUpItem.filter)("queryString","set_racikan_id")("modal-title","Data Racikan Dokter"),s.xp6(2),s.Q6J("lookup-url",t.urlTemplateResep)("columns",t.GridlookUpTemplateResep.columns)("columnsChild",t.GridlookUpTemplateResep.columnsChild)("filter-lookup",t.GridlookUpTemplateResep.filter)("modal-title","Data Template Resep Dokter")("queryString","resep_id"),s.xp6(6),s.Q6J("dataSource",s.lcZ(57,64,t.resepDokterService.dataDetail$))("childGrid",t.ChildGrid)("toolbar",t.GridDaftarObatToolbar),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1))},directives:[y.G,n._Y,n.JL,n.sg,n.Wl,n.JJ,n.u,i.O5,Mt.Uw,me.oX,Jt.K,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,me.rI,n.Fj],pipes:[i.Ov],styles:["#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}"]}),e})();const Ti=JSON.parse('{"GridColumns":[{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nama_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"nomor_resep","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"},{"field":"id_dokter","headerText":"Pemesanan Id","type":"number","format":"","textAlign":"left","visible":true,"editType":"defaultEdit"}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_racikan","headerText":"Qty","width":100}]}');var Ai=a.t(Ti,2);const vi=["LookupRacikan"],Zi=["GridResepRacikan"],wi=["itemTemplate"],Si=["modalTambahanHariResep"];function xi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",17),s.TgZ(1,"h5",18),s._uU(2,"Tambahan Hari Pada Resep"),s.qZA(),s.TgZ(3,"button",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",20),s.qZA(),s.qZA(),s.TgZ(5,"div",21),s.TgZ(6,"div",22),s.TgZ(7,"div",23),s.TgZ(8,"h3"),s._uU(9,"Isi Jumlah Tambahan Hari Pada Obat?"),s.qZA(),s.qZA(),s.TgZ(10,"div",24),s.TgZ(11,"div",1),s.TgZ(12,"div",25),s._UZ(13,"ejs-numerictextbox",26,27),s.qZA(),s.TgZ(15,"div",28),s.TgZ(16,"span",29),s._uU(17," Hari "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",30),s.TgZ(19,"button",31),s.NdJ("click",function(){s.CHM(e);const t=s.MAs(14);return s.oxw().handleClickLanjutkanResepDokter(t.value)}),s._uU(20,"Lanjukan Obat"),s.qZA(),s.qZA()}2&e&&(s.xp6(13),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1))}const Di=function(){return{wrapMode:"Both"}};let yi=(()=>{class e{constructor(e,t,a,i,n,r,o,l){this.formBuilder=e,this.resepDokterIrnaService=t,this.router=a,this.encryptionService=i,this.activatedRoute=n,this.utilityService=r,this.modalService=o,this.utilityHelperService=l,this.ButtonNav=[{Id:"kembali",Captions:"Kembali",Icons1:"fa-arrow-left fa-sm"},{Id:"lanjutkan",Captions:"Lanjutkan Resep",Icons1:"fa-forward fa-sm"},{Id:"ubah",Captions:"Ubah Resep",Icons1:"fa-edit fa-sm"},{Id:"stop",Captions:"Hentikan Resep",Icons1:"fa-stop-circle fa-sm"}],this.GridConfig=Ai,this.inputFieldState="detail",this.keterangan=(e,t)=>t.nama_obat+" "+t.rute_pemberian_obat+", sehari "+t.qty_harian+" "+t.nama_satuan+", "+t.jumlah_satuan_aturan_pakai+" "+t.nama_satuan+" tiap "+t.jumlah_interval_aturan_pakai+" "+t.interval_aturan_pakai+" sekali, "+t.ket_aturan,this.quantity=(e,t)=>t.qty_harian+" "+t.nama_satuan+"/Hari, untuk "+t.jumlah_hari+" Hari",this.dataSourceChild=[],this.dataSource=[],this.dataHeader=[]}ngOnInit(){this.formInput=this.formBuilder.group({pasien:["",[]],bed:["",[]],dokter:["",[]],umur:["",[]]}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}ngAfterViewInit(){let e=this.encryptionService.decrypt(this.activatedRoute.snapshot.params.id);console.log(e),this.onLoadDetailData(e)}onLoadDetailData(e){this.resepDokterIrnaService.onGetById(e).subscribe(e=>{this.dataHeader=e.data,this.dataSource=e.data.details,this.GridResepRacikan.refresh(),this.mapingRacikan(e.data.details);let t=this.utilityHelperService.getAge(e.data.tgl_lahir);this.formInput.setValue({pasien:e.data.nama_pasien,dokter:e.data.nama_dokter,umur:t.years+" tahun, "+t.months+" Bulan, "+t.days+" Hari"})})}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleClickLanjutkanResepDokter(e){let t;t=this.GridResepRacikan.getSelectedRecords(),t.map((t,a)=>(t.jumlah_hari=e,t)),this.resepDokterIrnaService.lanjutakanResepRawatInap(t).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Obat ini berhasil di lanjutkan",e.message).then(()=>{this.modalRef.hide(),this.onLoadDetailData(this.dataHeader.resep_id)})})}onClickButtonNav(e){switch(e){case"kembali":this.router.navigateByUrl("Dokter/resep-irna/daftar-resep-irna");break;case"lanjutkan":this.modalRef=this.modalService.show(this.modalTambahanHariResep,Object.assign({},{class:"modal-md"}));break;case"ubah":const e=this.encryptionService.encrypt(this.dataHeader.resep_id+",ubah");this.router.navigate(["Dokter/resep-irna/ubah-resep-irna",e,"GRAHCIS"]);break;case"pulang":const t=this.encryptionService.encrypt(this.dataHeader.resep_id+",pulang");this.router.navigate(["Dokter/resep-irna/ubah-resep-irna",t,"GRAHCIS"]);break;case"stop":this.resepDokterIrnaService.stopResepRawatInap(this.dataHeader.resep_id).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Resep Ini Berhasil Di Stop",e.message).then(()=>{this.router.navigateByUrl("Dokter/resep-irna/daftar-resep-irna")})})}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(Ea.Z),s.Y36(o.F0),s.Y36(ut.C),s.Y36(o.gz),s.Y36(u.t),s.Y36(ee.tT),s.Y36(ka.j))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-view-resep-irna"]],viewQuery:function(e,t){if(1&e&&(s.Gf(vi,5),s.Gf(Zi,5),s.Gf(wi,5),s.Gf(Si,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first),s.iGM(e=s.CRH())&&(t.modalTambahanHariResep=e.first)}},features:[s._Bn([ee.tT])],decls:19,vars:30,consts:[[3,"ButtonNav","HeaderRibbonClass","ButtonNavClass","onClickButtonNav"],[1,"row"],[1,"col-sm-4"],[3,"formGroup"],["formControlName","bed",3,"label","inputFieldState"],["formControlName","dokter",3,"label","inputFieldState"],["formControlName","pasien",3,"label","inputFieldState"],["formControlName","umur",3,"label","inputFieldState"],[1,"col-sm-8"],[1,"card"],[1,"card-body","p-0"],["height","calc(100vh - 15rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","allowTextWrap","textWrapSettings","rowDataBound","dataBound"],["GridResepRacikan",""],[3,"width","field","visible","type","textAlign","headerTextAlign"],["field","rute_pemberian_obat","headerText","Resep","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","valueAccessor"],["field","qty_harian","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center",3,"visible","allowEditing","width","valueAccessor"],["modalTambahanHariResep",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"col-sm-9","pe-0"],["id","tambahan_hari","name","tambahan_hari",3,"format","showSpinButton","showClearButton"],["tambah_hari",""],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3","px-0"],["id","basic-addon1",1,"input-group-text"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"form",3),s._UZ(4,"mol-input-text",4),s._UZ(5,"mol-input-text",5),s._UZ(6,"mol-input-text",6),s._UZ(7,"mol-input-text",7),s.qZA(),s.qZA(),s.TgZ(8,"div",8),s.TgZ(9,"div",9),s.TgZ(10,"div",10),s.TgZ(11,"ejs-grid",11,12),s.NdJ("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()}),s.TgZ(13,"e-columns"),s._UZ(14,"e-column",13),s._UZ(15,"e-column",14),s._UZ(16,"e-column",15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(17,xi,21,3,"ng-template",null,16,s.W1O),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav)("HeaderRibbonClass","col-lg-4 col-md-4 col-sm-4 col-xs-4")("ButtonNavClass","col-lg-8 col-md-8 col-sm-8 col-xs-8"),s.xp6(3),s.Q6J("formGroup",t.formInput),s.xp6(1),s.Q6J("label","Bed")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Dokter")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Pasien")("inputFieldState",t.inputFieldState),s.xp6(1),s.Q6J("label","Umur")("inputFieldState",t.inputFieldState),s.xp6(4),s.Q6J("dataSource",t.dataSource)("childGrid",t.childGrid)("allowTextWrap",!0)("textWrapSettings",s.DdM(29,Di)),s.xp6(3),s.Q6J("width",50)("field","Checkbox")("visible",!0)("type","checkbox")("textAlign","Center")("headerTextAlign","Center"),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("valueAccessor",t.keterangan),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",220)("valueAccessor",t.quantity))},directives:[y.G,n._Y,n.JL,n.sg,I._,n.JJ,n.u,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,Mt.Uw],styles:["#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}"]}),e})();const Ri=JSON.parse('{"GridInputResep":{"columns":[{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"rx","headerText":"Rx","type":"string","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"no_urut","headerText":"No","visible":true,"width":30},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"kode_resep","headerText":"Kode Resep","visible":false,"width":50},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Obat","visible":true,"width":150},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"satuan","headerText":"Satuan","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"qty_obat","headerText":"Qty","format":"N","textAlign":"Right","visible":true,"width":70},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"aturan_pakai","headerText":"Jumlah Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"keterangan_pakai","headerText":"Aturan Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"waktu_pakai","headerText":"Waktu Pakai","type":"string","visible":true,"width":120},{"allowEditing":false,"allowSorting":false,"editType":"defaultEdit","field":"catatan","headerText":"Catatan","type":"string","visible":true,"width":100}]},"GridHistoryResep":{"columns":[],"dataSource":[]}}');var Ci=a.t(Ri,2);const Ei=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var qi=a.t(Ei,2);const Oi=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_template","headerText":"Nama Template Resep","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"qty_resep","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var Ii=a.t(Oi,2);const Pi=["LookupRacikan"],Ni=["LookupTemplateResep"],Gi=["GridResepRacikan"],Fi=["itemTemplate"];function Bi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",6),s.TgZ(1,"div",5),s.TgZ(2,"div",13),s.TgZ(3,"label",14),s._uU(4,"Nama Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",13),s.TgZ(6,"div",1),s.TgZ(7,"div",56),s.TgZ(8,"ejs-dropdownlist",57,58),s.NdJ("filtering",function(t){return s.CHM(e),s.oxw().onFiltering(t)})("change",function(t){return s.CHM(e),s.oxw().handleChangeObat(t)}),s.qZA(),s.qZA(),s.TgZ(10,"div",59),s.TgZ(11,"span",60),s._uU(12),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Q6J("allowFiltering",!0)("dataSource",e.data)("fields",e.fields)("placeholder",e.text)("query",e.query)("sortOrder",e.sorting)("allowFiltering",!0),s.xp6(4),s.hij(" ",e.nama_satuan.value," ")}}function Mi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",61),s.TgZ(1,"div",5),s.TgZ(2,"div",13),s.TgZ(3,"label",14),s._uU(4,"Nama Racikan Obat"),s.qZA(),s.qZA(),s.TgZ(5,"div",13),s.TgZ(6,"div",62),s.TgZ(7,"input",63),s.NdJ("change",function(){return s.CHM(e),s.oxw().handleChangeNamaRacikan()}),s.qZA(),s.TgZ(8,"button",64),s.NdJ("click",function(t){return s.CHM(e),s.oxw().handelClickRacikan(t)}),s._UZ(9,"i",65),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function Ji(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",66),s.TgZ(1,"div",5),s.TgZ(2,"div",13),s.TgZ(3,"label",14),s._uU(4,"Kemasan Racikan"),s.qZA(),s.qZA(),s.TgZ(5,"div",13),s.TgZ(6,"div",62),s.TgZ(7,"ejs-dropdownlist",67,68),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeMetodeRacikan(t)}),s.ALo(9,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("dataSource",s.lcZ(9,3,e.setupMetodeRacikanService.dataSource))("fields",e.DropdownMetodeRacikanFields)("allowFiltering",!0)}}function Ui(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",19),s.TgZ(1,"div",1),s.TgZ(2,"div",13),s.TgZ(3,"label",20),s._uU(4,"Satuan"),s.qZA(),s.qZA(),s.TgZ(5,"div",23),s.TgZ(6,"ejs-combobox",69),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleChangeSatuanAturan(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(6),s.Q6J("allowFiltering",!0)("dataSource",e.dataSourceSatuanAturanPakai)("fields",e.DropdownsatuanPakaiFields)}}let Li=(()=>{class e{constructor(e,t,a,i,n,r,o,l,d){this.formBuilder=e,this.resepDokterService=t,this.setupLabelPemakaianObatService=a,this.setupTambahanAturanPakaiService=i,this.setupSatuanAturanPakaiService=n,this.setupMetodeRacikanService=r,this.setupOutletService=o,this.renderer=l,this.daftarPasienService=d,this.onSetTemplateResep=new s.vpe,this.setIdOutlet=new s.vpe,this.urlRacikan=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_RACIKAN,this.urlTemplateResep=At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_TEMPLATE_RESEP,this.GridLookUpItem=qi,this.GridlookUpTemplateResep=Ii,this.DropdownLabelFields={text:"nama_label_pemakaian_obat",value:"id_label_pemakaian_obat"},this.DropdownAturanFields={text:"tambahan_aturan_pakai",value:"id_tambahan_aturan_pakai"},this.DropdownsatuanPakaiFields={text:"satuan_aturan_pakai",value:"id_satuan_aturan_pakai"},this.SetupOutletDropdownField={text:"nama_outlet",value:"id_outlet"},this.FormAddObatState="input",this.SatuanObat="-",this.DropdownObatFields={text:"nama_obat",value:"id_item"},this.DropdownMetodeRacikanFields={text:"metode_racikan",value:"id_metode_racikan"},this.NamaObatDatasource=[],this.WaktuPakai=[],this.GridDaftarObatEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDaftarObatDataSource=[],this.GridDaftarObatColumns=Ci,this.GridDetailResepRacikanDatasource=[],this.GridResepRacikanDatasource=[],this.dataSourceLabelPemakaian=[],this.dataSourceTambahanAturanPakai=[],this.dataSourceSatuanAturanPakai=[],this.counter=0,this.counterRacikan=0,this.dataScourceGridChild=[],this.IsUserLogin=JSON.parse(localStorage.getItem("UserData")),this.data=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.fields={text:"nama_obat",value:"id_item"},this.query=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0),this.text="Select a Obat",this.sorting="Ascending",this.onFiltering=e=>{if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}},this.dataChild=new yt.hm({headers:[{Authorization:"Bearer "+this.IsUserLogin.token}],url:At.PHARMACY.RESEP_DOKTER.RESEP_DOKTER_IRJA.GET_OBAT_PARAMS_DROPDOWNLIST,adaptor:new yt.um,crossDomain:!0}),this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains","",!0)}get width(){return window.innerWidth}ngOnInit(){this.FormAddObat=this.formBuilder.group({counter:[0,[]],is_racikan:[!1,[]],no_urut:[0,[]],set_racikan_id:[null,[]],id_metode_racikan:[null,[]],metode_racikan:["",[]],id_item:[null,[]],nama_racikan:["",[]],nama_obat:["",[]],qty_resep:["",[]],nama_satuan:["-",[]],label:["",[]],ket_label:["",[]],id_label_pemakaian_obat:[null,[]],label_pemakaian_obat:["",[]],id_satuan_aturan_pakai:[null,[]],satuan_aturan_pakai:[null,[]],aturan:["",[]],ket_aturan:["",[]],id_tambahan_aturan_pakai:[null,[]],label_tambahan_aturan_pakai_obat:["",[]]}),this.GridDaftarObatToolbar=[{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Delete",tooltipText:"Delete",prefixIcon:"fas fa-trash-alt fa-sm",id:"delete"},"Search"];let e=this.currentQtyResep,t=this.currentIdItem,a=this.SelectedDataRacikanObat;this.resepDokterService.dataSelectRacikan.next(a),this.itemsParams={create:()=>(a&&(this.queryChild=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",a.nama_obat,!0)),this.itemsElem=document.createElement("input"),this.itemsElem),read:()=>this.itemsObj.text,destroy:()=>{this.itemsObj.destroy()},write:()=>{this.itemsObj=new Tt.NB({dataSource:this.dataChild,fields:this.fields,query:this.queryChild,enabled:!0,placeholder:"Select a obat",allowFiltering:!0,popupWidth:"55rem",filtering:(function(e){if(""===e.text)e.updateData(this.data);else{let t=(new yt.AE).from("Obat").select(["nama_obat","id_item","kandungan_obat","nama_satuan"]).take(10).where("nama_obat","contains",e.text,!0);e.updateData(this.data,t)}}).bind(this),change:(function(i){this.setFormGrif(i,e,t,a),t=i.itemData.id_item}).bind(this)}),this.itemsObj.appendTo(this.itemsElem),a&&setTimeout(()=>{this.itemsObj.value=a.id_item},500)}};let i=this.counterRacikan,n=this.dataScourceGridChild;this.resepDokterService.dataSourceChildGrid.next(n),this.ChildGrid={dataSource:this.dataScourceGridChild,queryString:"counter",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},toolbar:["Add","Edit","Delete","Update","Cancel"],editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},columns:[{field:"counter",headerText:"c",width:100,visible:!1},{field:"no_urut",headerText:"ID Obat",visible:!1},{field:"nama_obat",headerText:"Nama Obat",editType:"dropdownedit",edit:this.itemsParams,width:200},{field:"nama_satuan",headerText:"Satuan",textAlign:"Right",width:80,allowEditing:!1},{field:"id_item",headerText:"id",width:100,visible:!1},{field:"komposisi",headerText:"kps",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",allowEditing:!1},{field:"seper",headerText:"1/",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"kandungan",headerText:"Kandungan",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"qty_resep",headerText:"qty",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2",visible:!1},{field:"qty_racikan",headerText:"QTY",headerTextAlign:"Center",textAlign:"Right",width:100,format:"N2"},{field:"keterangan",headerText:"Keterangan",headerTextAlign:"Center",textAlign:"Left",width:100}],rowSelected(e){a=e.data},actionBegin(t){console.log("begin",t),"add"===t.requestType&&(t.data.counter=this.parentDetails.parentKeyFieldValue,t.data.qty_resep=this.parentDetails.parentRowData.qty_resep,t.data.counterRacikan=i++,e=this.parentDetails.parentRowData.qty_resep,a=null)},actionComplete(e){if("save"===e.requestType&&("add"===e.action&&(e.data.id_item=t,n.push(e.data)),"edit"===e.action)){e.data.id_item=t;let a=n.map(e=>e.counterRacikan).indexOf(e.data.counterRacikan);n[a]=e.data}if("delete"===e.requestType){let t=n.map(e=>e.counterRacikan).indexOf(e.data[0].counterRacikan);n.splice(t,1)}}},this.setupLabelPemakaianObatService.onGetAll().subscribe(e=>{this.dataSourceLabelPemakaian=e.data}),this.setupTambahanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceTambahanAturanPakai=e.data}),this.setupSatuanAturanPakaiService.onGetAll().subscribe(e=>{this.dataSourceSatuanAturanPakai=e.data}),this.setupMetodeRacikanService.setDataSource(),this.setupOutletService.setDataSource(),this.urlTemplateResep=this.urlTemplateResep+"/"+this.daftarPasienService.ActivePasien.value.id_dokter,this.urlRacikan=this.urlRacikan+"/"+this.daftarPasienService.ActivePasien.value.id_dokter+"/J"}onLoad(e){}handleChangeOutlet(e){this.setIdOutlet.emit(e.value)}setFormGrif(e,t,a,i){i?(document.getElementsByName("nama_satuan")[0].value=i.nama_satuan,document.getElementsByName("komposisi")[0].value=i.komposisi,document.getElementsByName("seper")[0].value=i.seper,document.getElementsByName("kandungan")[0].value=i.kandungan,document.getElementsByName("qty_racikan")[0].value=i.qty_racikan):(document.getElementsByName("nama_satuan")[0].value=e.itemData.nama_satuan,document.getElementsByName("komposisi")[0].value=e.itemData.kandungan_obat,document.getElementsByName("seper")[0].value="1",document.getElementsByName("kandungan")[0].value=e.itemData.kandungan_obat,document.getElementsByName("qty_racikan")[0].value=t.toString());let n=document.getElementsByName("seper")[0];n&&(n.addEventListener("click",e=>{n.select()}),n.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("komposisi")[0].value),i=a/parseInt(document.getElementsByName("seper")[0].value);document.getElementsByName("kandungan")[0].value=i.toString();let n=t*i/a;document.getElementsByName("qty_racikan")[0].value=n.toString()}),this.setInputFilter(n,function(e){return/^\d*$/.test(e)}));let r=document.getElementsByName("kandungan")[0];r&&(r.addEventListener("click",e=>{r.select()}),r.addEventListener("keyup",e=>{let a=parseInt(document.getElementsByName("kandungan")[0].value),i=parseInt(document.getElementsByName("komposisi")[0].value),n=t*a;console.log(n);let r=n/i;document.getElementsByName("qty_racikan")[0].value=r.toString(),document.getElementsByName("seper")[0].value="1"}),this.setInputFilter(r,function(e){return/^\d*$/.test(e)}));let o=document.getElementsByName("qty_racikan")[0];o&&(o.addEventListener("click",e=>{o.select()}),this.setInputFilter(o,function(e){return/^\d*$/.test(e)}))}setInputFilter(e,t){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(a){e.addEventListener(a,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):Object.prototype.hasOwnProperty.call(this,"oldValue")?(this.value=this.oldValue,null!==this.oldSelectionStart&&null!==this.oldSelectionEnd&&this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(){this.GridResepRacikan.detailRowModule.expandAll()}handleChangeObat(e){this.nama_satuan.setValue(e.itemData.nama_satuan),this.nama_obat.setValue(e.itemData.nama_obat)}handleChangeLabel(e){"number"==typeof e.value&&e.value%1==0?(this.label_pemakaian_obat.setValue(""),this.id_label_pemakaian_obat.setValue(e.value),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat)):(this.label_pemakaian_obat.setValue(e.value),this.id_label_pemakaian_obat.setValue(1),this.ket_label.setValue(e.itemData.nama_label_pemakaian_obat))}handleChangeAturan(e){"number"==typeof e.value&&e.value%1==0?(this.label_tambahan_aturan_pakai_obat.setValue(""),this.id_tambahan_aturan_pakai.setValue(e.value),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai)):(this.label_tambahan_aturan_pakai_obat.setValue(e.value),this.id_tambahan_aturan_pakai.setValue(1),this.ket_aturan.setValue(e.itemData.tambahan_aturan_pakai))}handleChangeSatuanAturan(e){this.satuan_aturan_pakai.setValue(e.itemData.satuan_aturan_pakai)}handleChangeNamaRacikan(){this.set_racikan_id.setValue(null)}handelClickRacikan(){this.LookupRacikan.onOpenModal()}handelClickTemplateResep(){this.LookupTemplateResep.onOpenModal()}handleChangeMetodeRacikan(e){this.metode_racikan.setValue(e.itemData.metode_racikan)}heandleSelectedRacikan(e){let t;this.counter++,e.counter=this.counter,e.is_racikan=!0,e.no_urut=0,e.id_item=null,e.nama_satuan=null,e.label=null,e.nama_racikan=e.nama_obat,e.label=e.ket_label,e.aturan=e.ket_aturan,this.resepDokterService.addDetail(e),t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)}),console.log(t),this.resepDokterService.dataSourceChildGrid.next(t)}heandleSelectedTemplateResep(e){let t;t=this.GridResepRacikan.childGrid.dataSource,e.details.forEach(e=>{this.counter++,e.counter=this.counter,e.nama_racikan=e.is_racikan?e.nama_obat:"",e.label=1==e.id_label_pemakaian_obat?e.ket_label:e.id_label_pemakaian_obat,e.aturan=1==e.id_tambahan_aturan_pakai?e.ket_aturan:e.id_tambahan_aturan_pakai,this.resepDokterService.addDetail(e),e.racikans.forEach(e=>{let a=this.counterRacikan++;e.counter=this.counter,e.counterRacikan=a,t.push(e)})}),this.resepDokterService.dataSourceChildGrid.next(t),this.onSetTemplateResep.emit(!0)}handleAddObat(e){this.counter++,e.counter=this.counter,e.is_racikan?e.nama_obat=e.nama_racikan:(e.id_metode_racikan=null,e.metode_racikan=null),this.resepDokterService.addDetail(e),this.onResetFormObat()}onResetFormObat(){this.FormAddObat.reset(),this.is_racikan.setValue(!1)}onChangeWaktuPakai(e){const t=document.getElementById("waktuPakai"+e),a=this.WaktuPakai.indexOf(e);t.checked?this.WaktuPakai.push(e):this.WaktuPakai.splice(a,1)}onUpdateDataObat(e){this.resepDokterService.editDetail(this.currentIndex,e),this.onResetFormObat(),this.GridResepRacikan.refresh(),this.FormAddObatState="input"}onResetFormDataObat(){this.FormAddObat.reset(),this.SatuanObat=""}onInitalizedGrid(e){this.gridDaftarObat=e}onToolbarClick(e){switch(e.item.id){case"edit":this.onEditData(),this.FormAddObatState="edit";break;case"delete":this.resepDokterService.removeDataDetail(this.currentIndex),this.GridResepRacikan.refresh()}}onEditData(){let e=this.SelectedDataObat;this.FormAddObat.setValue({counter:e.counter,no_urut:e.no_urut,is_racikan:e.is_racikan,set_racikan_id:e.set_racikan_id,id_metode_racikan:e.id_metode_racikan,metode_racikan:e.metode_racikan,id_item:e.id_item,nama_obat:e.nama_obat,qty_resep:e.qty_resep,nama_satuan:e.nama_satuan,label:e.label,ket_label:e.ket_label,id_label_pemakaian_obat:e.id_label_pemakaian_obat,label_pemakaian_obat:e.label_pemakaian_obat,aturan:e.aturan,ket_aturan:e.ket_aturan,id_tambahan_aturan_pakai:e.id_tambahan_aturan_pakai,label_tambahan_aturan_pakai_obat:e.label_tambahan_aturan_pakai_obat,nama_racikan:e.nama_racikan,id_satuan_aturan_pakai:e.id_satuan_aturan_pakai,satuan_aturan_pakai:e.satuan_aturan_pakai})}onActionComplete(e){}onRowSelected(e){this.currentIndex=e.rowIndex,this.SelectedDataObat=e.data}get is_racikan(){return this.FormAddObat.get("is_racikan")}get set_racikan_id(){return this.FormAddObat.get("set_racikan_id")}get id_metode_racikan(){return this.FormAddObat.get("id_metode_racikan")}get metode_racikan(){return this.FormAddObat.get("metode_racikan")}get id_item(){return this.FormAddObat.get("id_item")}get nama_obat(){return this.FormAddObat.get("nama_obat")}get qty_resep(){return this.FormAddObat.get("qty_resep")}get nama_satuan(){return this.FormAddObat.get("nama_satuan")}get label(){return this.FormAddObat.get("label")}get ket_label(){return this.FormAddObat.get("ket_label")}get id_label_pemakaian_obat(){return this.FormAddObat.get("id_label_pemakaian_obat")}get label_pemakaian_obat(){return this.FormAddObat.get("label_pemakaian_obat")}get aturan(){return this.FormAddObat.get("aturan")}get ket_aturan(){return this.FormAddObat.get("ket_aturan")}get id_tambahan_aturan_pakai(){return this.FormAddObat.get("id_tambahan_aturan_pakai")}get label_tambahan_aturan_pakai_obat(){return this.FormAddObat.get("label_tambahan_aturan_pakai_obat")}get nama_racikan(){return this.FormAddObat.get("nama_racikan")}get satuan_aturan_pakai(){return this.FormAddObat.get("satuan_aturan_pakai")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(di.f),s.Y36(Ft.l),s.Y36(Gt.f),s.Y36(Pt.I),s.Y36(Ot.m),s.Y36(Bt.A),s.Y36(s.Qsj),s.Y36(h.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-input-resep"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Pi,5),s.Gf(Ni,5),s.Gf(Gi,5),s.Gf(Fi,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.LookupRacikan=e.first),s.iGM(e=s.CRH())&&(t.LookupTemplateResep=e.first),s.iGM(e=s.CRH())&&(t.GridResepRacikan=e.first),s.iGM(e=s.CRH())&&(t.itemTemplate=e.first)}},outputs:{onSetTemplateResep:"onSetTemplateResep",setIdOutlet:"setIdOutlet"},decls:82,vars:75,consts:[[3,"formGroup"],[1,"row"],[1,"col-sm-6"],[1,"card"],[1,"card-body","p-2"],[1,"row","mb-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],["id","marital",3,"dataSource","fields","allowFiltering","change"],["MaritalOutletDropdown",""],[1,"row","pt-2","mb-2"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","DropdownObat",1,"form-label"],["type","checkbox","formControlName","is_racikan",1,"form-check-input"],["class","col-lg-4 col-md-4 col-sm-4 col-xs-4",4,"ngIf"],["class","col-lg-3 col-md-3 col-sm-3 col-xs-3",4,"ngIf"],["class","col-lg-2 col-md-2 col-sm-2 col-xs-2",4,"ngIf"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","pe-1"],["for","NumericQty",1,"form-label"],["id","NumericQty","formControlName","qty_resep",3,"format","showSpinButton","showClearButton","ste"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","pe-1"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","pe-1"],["id","DropdownLabelPemakaian","formControlName","label","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"],["class","col-lg-1 col-md-1 col-sm-1 col-xs-1 pe-1",4,"ngIf"],["id","DropdownTambahanAturanPakai","formControlName","aturan","popupWidth","25rem",3,"allowFiltering","dataSource","fields","change"],[1,"col-lg-1","col-md-1","col-sm-1","col-xs-1","ps-4"],[1,"row","align-content-center","h-100","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","px-0",3,"hidden"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-plus-circle","fa-sm"],[3,"hidden"],["type","button",1,"btn","btn-warning","btn-sm",3,"disabled","click"],[1,"fas","fa-edit","fa-sm"],[3,"lookup-url","columns","columnsChild","filter-lookup","queryString","modal-title","onGetSelectedData"],["LookupRacikan",""],[3,"lookup-url","columns","columnsChild","filter-lookup","modal-title","queryString","onGetSelectedData"],["LookupTemplateResep",""],[1,"col-lg-12","col-md-12","col-xs-12","col-sm-12"],[1,"card-body","p-0"],["height","calc(100vh - 27rem)","gridLines","Both","rowHeight","30",3,"dataSource","childGrid","toolbar","allowResizing","toolbarClick","load","rowDataBound","dataBound","rowSelected","actionComplete"],["GridResepRacikan",""],["field","no_urut","headerText","no_urut","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","is_racikan","headerText","is_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","set_racikan_id","headerText","set_racikan_id","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_metode_racikan","headerText","id_metode_racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_item","headerText","id_item","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_label_pemakaian_obat","headerText","id_label_pemakaian_obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","id_tambahan_aturan_pakai","headerText","id_tambahan_aturan_pakai","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_obat","headerText","Nama Obat","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","nama_satuan","headerText","Satuan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","width"],["field","metode_racikan","headerText","Racikan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing","width"],["field","qty_resep","headerText","Qty","editType","defaultEdit","textAlign","right","headerTextAlign","center","format","N2",3,"visible","allowEditing","width"],["field","ket_label","headerText","Pemakaian","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],["field","ket_aturan","headerText","Aturan","editType","defaultEdit","textAlign","left","headerTextAlign","center",3,"visible","allowEditing"],[1,"col-lg-10","col-md-10","col-sm-10","col-xs-10","pe-0"],["id","DropdownObat","formControlName","id_item","popupWidth","55rem",3,"allowFiltering","dataSource","fields","placeholder","query","sortOrder","filtering","change"],["Drop",""],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","px-0"],["id","basic-addon1",1,"input-group-text","bg-primary","text-white"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3"],[1,"input-group"],["type","text","formControlName","nama_racikan",1,"form-control","form-select-sm",3,"change"],["id","btnInputGroup","type","button",1,"btn","btn-primary",2,"padding",".1rem .8rem","background-color","#00afff; border: 0",3,"click"],[1,"fas","fa-search"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2"],["formControlName","id_metode_racikan",3,"dataSource","fields","allowFiltering","change"],["MolDropdown",""],["id","DropdownLabelPemakaian","formControlName","id_satuan_aturan_pakai","popupWidth","30rem",3,"allowFiltering","dataSource","fields","change"]],template:function(e,t){1&e&&(s.TgZ(0,"form",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s._UZ(7,"atm-label",7),s.qZA(),s.TgZ(8,"div",8),s.TgZ(9,"ejs-dropdownlist",9,10),s.NdJ("change",function(e){return t.handleChangeOutlet(e)}),s.ALo(11,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",11),s.TgZ(13,"div",12),s.TgZ(14,"div",5),s.TgZ(15,"div",13),s.TgZ(16,"label",14),s._uU(17,"Racik"),s.qZA(),s.qZA(),s.TgZ(18,"div",13),s._UZ(19,"input",15),s.qZA(),s.qZA(),s.qZA(),s.YNc(20,Bi,13,8,"div",16),s.YNc(21,Mi,10,0,"div",17),s.YNc(22,Ji,10,5,"div",18),s.TgZ(23,"div",19),s.TgZ(24,"div",1),s.TgZ(25,"div",13),s.TgZ(26,"label",20),s._uU(27,"Qty"),s.qZA(),s.qZA(),s.TgZ(28,"div",13),s._UZ(29,"ejs-numerictextbox",21),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"div",22),s.TgZ(31,"div",1),s.TgZ(32,"div",13),s.TgZ(33,"label",20),s._uU(34,"Label Obat"),s.qZA(),s.qZA(),s.TgZ(35,"div",23),s.TgZ(36,"ejs-combobox",24),s.NdJ("change",function(e){return t.handleChangeLabel(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(37,Ui,7,3,"div",25),s.TgZ(38,"div",22),s.TgZ(39,"div",1),s.TgZ(40,"div",13),s.TgZ(41,"label",20),s._uU(42,"Aturan Tambahan"),s.qZA(),s.qZA(),s.TgZ(43,"div",23),s.TgZ(44,"ejs-combobox",26),s.NdJ("change",function(e){return t.handleChangeAturan(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(45,"div",27),s.TgZ(46,"div",28),s.TgZ(47,"div",29),s.TgZ(48,"button",30),s.NdJ("click",function(){return t.handleAddObat(t.FormAddObat.value)}),s._UZ(49,"i",31),s.TgZ(50,"span",32),s._uU(51,"\xa0Obat"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(52,"div",29),s.TgZ(53,"button",33),s.NdJ("click",function(){return t.onUpdateDataObat(t.FormAddObat.value)}),s._UZ(54,"i",34),s.TgZ(55,"span",32),s._uU(56,"\xa0Edit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(57,"org-look-up-hirarki",35,36),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedRacikan(e)}),s.qZA(),s.TgZ(59,"org-look-up-hirarki",37,38),s.NdJ("onGetSelectedData",function(e){return t.heandleSelectedTemplateResep(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(61,"div",11),s.TgZ(62,"div",39),s.TgZ(63,"div",3),s.TgZ(64,"div",40),s.TgZ(65,"ejs-grid",41,42),s.NdJ("toolbarClick",function(e){return t.onToolbarClick(e)})("load",function(e){return t.onLoad(e)})("rowDataBound",function(e){return t.rowDataBound(e)})("dataBound",function(){return t.onDataBound()})("rowSelected",function(e){return t.onRowSelected(e)})("actionComplete",function(e){return t.onActionComplete(e)}),s.ALo(67,"async"),s.TgZ(68,"e-columns"),s._UZ(69,"e-column",43),s._UZ(70,"e-column",44),s._UZ(71,"e-column",45),s._UZ(72,"e-column",46),s._UZ(73,"e-column",47),s._UZ(74,"e-column",48),s._UZ(75,"e-column",49),s._UZ(76,"e-column",50),s._UZ(77,"e-column",51),s._UZ(78,"e-column",52),s._UZ(79,"e-column",53),s._UZ(80,"e-column",54),s._UZ(81,"e-column",55),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("formGroup",t.FormAddObat),s.xp6(7),s.Q6J("LabelCaption","Depo Farmasi"),s.xp6(2),s.Q6J("dataSource",s.lcZ(11,71,t.setupOutletService.dataSource))("fields",t.SetupOutletDropdownField)("allowFiltering",!0),s.xp6(11),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(1),s.Q6J("ngIf",t.is_racikan.value),s.xp6(7),s.Q6J("format","N0")("showSpinButton",!1)("showClearButton",!1),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceLabelPemakaian)("fields",t.DropdownLabelFields),s.xp6(1),s.Q6J("ngIf",!t.is_racikan.value),s.xp6(7),s.Q6J("allowFiltering",!0)("dataSource",t.dataSourceTambahanAturanPakai)("fields",t.DropdownAturanFields),s.xp6(2),s.Tol(t.width>=1023&&t.width<=1200?"pt-1":"pt-4"),s.xp6(1),s.Q6J("hidden","input"!=t.FormAddObatState),s.xp6(1),s.Q6J("disabled",t.FormAddObat.invalid),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("hidden","input"==t.FormAddObatState),s.xp6(1),s.Q6J("disabled",t.FormAddObat.invalid),s.xp6(2),s.Q6J("hidden",t.width>=1023&&t.width<=1200),s.xp6(2),s.Q6J("lookup-url",t.urlRacikan)("columns",t.GridLookUpItem.columns)("columnsChild",t.GridLookUpItem.columnsChild)("filter-lookup",t.GridLookUpItem.filter)("queryString","set_racikan_id")("modal-title","Data Racikan Dokter"),s.xp6(2),s.Q6J("lookup-url",t.urlTemplateResep)("columns",t.GridlookUpTemplateResep.columns)("columnsChild",t.GridlookUpTemplateResep.columnsChild)("filter-lookup",t.GridlookUpTemplateResep.filter)("modal-title","Data Template Resep Dokter")("queryString","resep_id"),s.xp6(6),s.Q6J("dataSource",s.lcZ(67,73,t.resepDokterService.dataDetail$))("childGrid",t.ChildGrid)("toolbar",t.GridDaftarObatToolbar)("allowResizing",!0),s.xp6(4),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!1)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("width",100),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1)("width",100),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!0)("width",60),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1),s.xp6(1),s.Q6J("visible",!0)("allowEditing",!1))},directives:[n._Y,n.JL,n.sg,P.D,me.rI,n.Wl,n.JJ,n.u,i.O5,Mt.Uw,me.oX,Jt.K,Y.MwP,Y.SRY,Y.NQQ,Y.iKq,Y.fMR,n.Fj],pipes:[i.Ov],styles:["#basic-addon1[_ngcontent-%COMP%]{height:32px;padding-left:12px;width:100%;border-top-left-radius:0;border-bottom-left-radius:0;border:0}#DropdownObat[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}#NumericQty[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:right;padding-right:5px}div.head[_ngcontent-%COMP%]{font-size:13px!important;font-weight:500!important}.is-racikan[_ngcontent-%COMP%]{background-color:#f3e6f3}.e-toolbar[_ngcontent-%COMP%]   .e-toolbar-item[_ngcontent-%COMP%]   .e-tbar-btn.e-btn[_ngcontent-%COMP%]   .e-icons.e-btn-icon[_ngcontent-%COMP%]{min-height:14px!important}th.e-headercell[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03);color:#000;border:1px solid rgba(0,0,0,.13);padding:5px!important;height:30px!important}span.e-headertext[_ngcontent-%COMP%]{font-size:13px!important}td.e-rowcell[_ngcontent-%COMP%]{padding:5px!important}.e-grid[_ngcontent-%COMP%]   .e-detailheadercell[_ngcontent-%COMP%], div.e-gridcontent[_ngcontent-%COMP%]   tr.e-detailrow[_ngcontent-%COMP%]   td.e-detailcell[_ngcontent-%COMP%]   div.e-headercontent[_ngcontent-%COMP%]   th.e-headercell[_ngcontent-%COMP%], td.e-detailcell.e-lastrowcell[_ngcontent-%COMP%]{background-color:var(--biru-muda)!important}"]}),e})();const Qi=JSON.parse('{"columns":[{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"set_racikan_id","headerText":"Id","type":"string","visible":false},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"nama_obat","headerText":"Nama Racikan","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"qty_resep","headerText":"Qty","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_label","headerText":"Label","type":"string","visible":true},{"allowEditing":true,"allowSorting":true,"editType":"defaultEdit","field":"ket_aturan","headerText":"Tambahan Aturan","type":"string","visible":true}],"columnsChild":[{"field":"nama_obat","headerText":"Nama Obat"},{"field":"kandungan_obat","headerText":"Kandungan"},{"field":"nama_satuan","headerText":"Satuan"},{"field":"qty_racikan","headerText":"Qty"}],"filter":[{"field":"nama_racikan","filter":"like","title":"Nama Racikan"}]}');var ji=a.t(Qi,2);const Ki=["gridDetailResep"];function Hi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",32),s.TgZ(1,"div",33),s.TgZ(2,"div",34),s.TgZ(3,"div",5),s.TgZ(4,"p",35),s._uU(5),s.ALo(6,"date"),s.qZA(),s.qZA(),s.TgZ(7,"div",36),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().onLihatDaftarObat(t)}),s.TgZ(8,"span",8),s._uU(9,"Lihat Daftar Obat"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",37),s.TgZ(11,"p",38),s._uU(12," Diinput Oleh "),s.TgZ(13,"span",39),s._uU(14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",40),s.TgZ(16,"p",41),s._uU(17),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(5),s.hij(" ",s.xi3(6,3,e.tanggal_resep,"dd MMMM yyyy")," "),s.xp6(9),s.Oqu(e.nama_dokter),s.xp6(3),s.hij(" No. Resep ",e.nomor_resep," ")}}let Yi=(()=>{class e{constructor(e){this.resepDokterService=e,this.GridConfig=ji,this.GridDetailResepEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridDetailResepColumns=ji,this.DropdownFields={text:"text",value:"text"},this.DokterEntryDatasource=[{id:1,text:"dr. Anastasia Nadia"}],this.dataSource=[],this.dataSourceChild=[]}ngOnInit(){this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}onLihatDaftarObat(e){this.dataSource=e.details,this.mapingRacikan(e.details)}mapingRacikan(e){this.dataSourceChild=[],e.map(e=>{this.dataSourceChild.push(...e.racikans)}),this.childGrid={dataSource:this.dataSourceChild,queryString:"resep_detail_id",rowHeight:30,allowResizing:!0,allowTextWrap:!0,textWrapSettings:{wrapMode:"Both"},columns:this.GridConfig.columnsChild}}rowDataBound(e){e.data.is_racikan||(e.row.querySelector("td").innerHTML=" ",e.row.querySelector("td").className="e-customizedExpandcell")}onDataBound(e){this.gridDetailResep.Grid.detailRowModule.expandAll()}onSearchHistoryResep(){}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(di.f))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-history-resep"]],viewQuery:function(e,t){if(1&e&&s.Gf(Ki,5),2&e){let e;s.iGM(e=s.CRH())&&(t.gridDetailResep=e.first)}},decls:47,vars:19,consts:[[1,"row","pt-2"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[1,"card"],[1,"card-header"],[1,"row"],[1,"col-8"],[1,"text-biru-tua","mb-0"],["data-bs-toggle","offcanvas","data-bs-target","#offcanvasFilter","aria-controls","offcanvasFilter",1,"col-4","text-end","px-2","cursor-pointer"],[1,"badge","bg-primary"],[1,"fas","fa-filter"],["tabindex","-1","id","offcanvasFilter","aria-labelledby","offcanvasFilterLabel",1,"offcanvas","offcanvas-end",2,"width","30rem"],[1,"offcanvas-header"],["id","offcanvasFilterLabel"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"],[1,"mb-3"],["for","no_resep",1,"form-label"],["type","text","id","no_resep",1,"form-control","form-select-sm"],["id","DropdownObat",3,"allowFiltering","dataSource","fields"],[1,"row","mb-4"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],["id","WaktuEntryStart",3,"format"],["id","WaktuEntryEnd",3,"format"],[1,"row","mb-2"],[3,"ButtonPrimaryCaption","IsButtonBlock","ButtonPrimaryIcon","onClickButtonPrimary"],[1,"card-body","p-1","cardBodyHistoryResep","p-1"],["class","card shadow-sm border-1 mb-2",4,"ngFor","ngForOf"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],[1,"card-body","cardBodyHistoryResep","p-0"],[3,"grid-id","grid-height","grid-lines","grid-editSettings","grid-toolbar","columns","childGrid","grid-DataSource","data-bound","row-data-bound"],["gridDetailResep",""],[1,"card","shadow-sm","border-1","mb-2"],[1,"card-body","p-2"],[1,"row","mb-1"],[1,"text-black","mb-0",2,"font-size","17px","font-weight","600"],[1,"col-4","text-end","ps-0","cursor-pointer",3,"click"],[1,"mb-1"],[1,"text-hitam-muda","mb-0",2,"font-size","15px"],[1,"text-biru-muda"],[1,"mb-0"],[1,"text-abu-tua","mb-0",2,"font-size","14px"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"p",6),s._uU(7,"Daftar History Resep"),s.qZA(),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"span",8),s._UZ(10,"i",9),s._uU(11,"\xa0 Filter (F1) "),s.qZA(),s.qZA(),s.TgZ(12,"div",10),s.TgZ(13,"div",11),s.TgZ(14,"h5",12),s._uU(15,"Filter Pencarian History Resep"),s.qZA(),s._UZ(16,"button",13),s.qZA(),s.TgZ(17,"div",14),s.TgZ(18,"div",15),s.TgZ(19,"label",16),s._uU(20,"No. Resep"),s.qZA(),s._UZ(21,"input",17),s.qZA(),s.TgZ(22,"div",15),s.TgZ(23,"label",16),s._uU(24,"Dokter Entry Resep"),s.qZA(),s._UZ(25,"ejs-dropdownlist",18),s.qZA(),s.TgZ(26,"div",19),s.TgZ(27,"div",20),s.TgZ(28,"label",16),s._uU(29,"Waktu Entry"),s.qZA(),s.qZA(),s.TgZ(30,"div",21),s._UZ(31,"ejs-datepicker",22),s.qZA(),s.TgZ(32,"div",21),s._UZ(33,"ejs-datepicker",23),s.qZA(),s.qZA(),s.TgZ(34,"div",24),s.TgZ(35,"atm-button-primary",25),s.NdJ("onClickButtonPrimary",function(){return t.onSearchHistoryResep()}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"div",26),s.YNc(37,Hi,18,6,"div",27),s.ALo(38,"async"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"div",28),s.TgZ(40,"div",2),s.TgZ(41,"div",3),s.TgZ(42,"p",6),s._uU(43,"Daftar Obat"),s.qZA(),s.qZA(),s.TgZ(44,"div",29),s.TgZ(45,"mol-grid",30,31),s.NdJ("data-bound",function(e){return t.onDataBound(e)})("row-data-bound",function(e){return t.rowDataBound(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(25),s.Q6J("allowFiltering",!0)("dataSource",t.DokterEntryDatasource)("fields",t.DropdownFields),s.xp6(6),s.Q6J("format","dd MMMM yyyy"),s.xp6(2),s.Q6J("format","dd MMMM yyyy"),s.xp6(2),s.Q6J("ButtonPrimaryCaption","Cari")("IsButtonBlock",!0)("ButtonPrimaryIcon","fas fa-search fa-sm"),s.xp6(2),s.Q6J("ngForOf",s.lcZ(38,17,t.resepDokterService.dataHistoryResep)),s.xp6(8),s.Q6J("grid-id","GridDetailResep")("grid-height","calc(100vh - 19rem)")("grid-lines","Both")("grid-editSettings",t.GridDetailResepEditSettings)("grid-toolbar",t.GridDetailResepToolbar)("columns",t.GridConfig.columns)("childGrid",t.childGrid)("grid-DataSource",t.dataSource))},directives:[me.rI,N.Lr,ae.L,i.sg,O.q],pipes:[i.Ov,i.uU],styles:[".cardBodyHistoryResep[_ngcontent-%COMP%]{height:calc(100vh - 16.5rem);max-height:calc(100vh - 16.5rem);overflow-y:auto}"]}),e})();const Vi=["inputResepComponent"],Wi=["modalTemplateResep"];function zi(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",7),s.TgZ(1,"h5",8),s._uU(2,"Simpan Template Resep Dokter"),s.qZA(),s.TgZ(3,"button",9),s.NdJ("click",function(){return s.CHM(e),s.oxw().modalRef.hide()}),s._UZ(4,"i",10),s.qZA(),s.qZA(),s.TgZ(5,"div",11),s.TgZ(6,"div",12),s.TgZ(7,"div",13),s.TgZ(8,"h2"),s._uU(9,"Apakah Dokter Ingin Menyimapan Resep Ini Sebagai Template Resep?"),s.qZA(),s.TgZ(10,"p"),s._uU(11,"Template resep di gunakan untuk membuat resep dengan data resep yg sudah ada"),s.qZA(),s.qZA(),s.TgZ(12,"div",14),s.TgZ(13,"div",15),s.TgZ(14,"div",16),s.TgZ(15,"label",17),s.TgZ(16,"strong"),s._uU(17,"Nama Template Resep"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",18),s._UZ(19,"input",19),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",20),s.TgZ(21,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickSimpanTemplateResepDokter()}),s._uU(22,"Simpan Template Resep"),s.qZA(),s.TgZ(23,"button",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleClickAbaikan()}),s._uU(24,"Tidak"),s.qZA(),s.qZA()}}let $i=(()=>{class e{constructor(e,t,a,i,n,r){this.resepDokterService=e,this.utilityService=t,this.navigationService=a,this.modalService=i,this.daftarPasienService=n,this.router=r,this.ButtonNav=[{Id:"Template",Icons1:"fas fa-tags fa-sm",Captions:"Template Resep"},{Id:"Reset",Icons1:"fas fa-undo fa-sm",Captions:"Reset"},{Id:"Simpan",Icons1:"fas fa-save fa-sm",Captions:"Simpan"}],this.Data=[],this.newdetail=[],this.baru=0,this.data=null,this.nama_resep=""}ngOnInit(){this.currentTanggal=Ct()().format(),console.log(this.daftarPasienService.ActivePasien.value)}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}onClickButtonNav(e){switch(e){case"Template":this.inputResepComponent.handelClickTemplateResep();case"Reset":this.resepDokterService.reset(),this.isGetFromTemplate=!1;break;case"Simpan":this.Insert()}}onGetSelectedTabId(e){switch(e){case"InputResep":this.ButtonNav=[{Id:"Template",Icons1:"fas fa-tags fa-sm",Captions:"Template Resep"},{Id:"Reset",Icons1:"fas fa-undo fa-sm",Captions:"Reset"},{Id:"Simpan",Icons1:"fas fa-save fa-sm",Captions:"Simpan"}];break;case"HistoryResep":this.ButtonNav=[],this.resepDokterService.setDataResep([])}}onSetTemplateResep(){this.isGetFromTemplate=!0}setIdOutlet(e){console.log(e),this.idOutlet=e}Insert(){return(0,kt.mG)(this,void 0,void 0,function*(){if(!this.idOutlet)return this.utilityService.onShowingCustomAlert("warning","Depo Farmasi belum di isi",""),!1;this.data={id_dokter:this.daftarPasienService.ActivePasien.value.id_dokter,id_register:this.daftarPasienService.ActivePasien.value.id_register,id_outlet:this.idOutlet,id_person:this.daftarPasienService.ActivePasien.value.id_person,jenis_rawat:"J",nama_template:"",tanggal_resep:this.currentTanggal};let e=yield this.resepDokterService.dataDetail;this.newdetail=e.filter(e=>e.is_racikan&&!e.set_racikan_id),this.baru=0,this.isGetFromTemplate?this.methodConfirmSetRacikan(0):this.modalRef=this.modalService.show(this.modalTemplateResep,Object.assign({},{class:"modal-lg"}))})}handleClickSimpanTemplateResepDokter(){let e=document.getElementsByName("nama_resep")[0].value;this.data.nama_template=e,this.modalRef.hide(),this.methodConfirmSetRacikan(1)}handleClickAbaikan(){this.modalRef.hide(),this.methodConfirmSetRacikan(0)}methodConfirmSetRacikan(e){this.newdetail.length>0?qt().fire({title:"Apakah Anda Ingin Menyimapan Racikan Baru ke dalam Setting Racikan dokter?",text:"Racikan akan bisa di gunakan lagi untuk template",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, Saya Yakin",cancelButtonText:"Tidak",focusCancel:!0}).then(t=>{this.baru=t.isConfirmed?1:0,this.methodInsert(this.data,e,this.baru)}):this.methodInsert(this.data,e,0)}methodInsert(e,t,a){this.resepDokterService.Insert(e,t,a).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.isGetFromTemplate=!1,this.reloadCurrentRoute()})})}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}ngOnDestroy(){this.resepDokterService.reset()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(di.f),s.Y36(u.t),s.Y36(c.f),s.Y36(ee.tT),s.Y36(h.O),s.Y36(o.F0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-resep"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Vi,5),s.Gf(Wi,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.inputResepComponent=e.first),s.iGM(e=s.CRH())&&(t.modalTemplateResep=e.first)}},features:[s._Bn([ee.tT])],decls:16,vars:3,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"setIdOutlet","onSetTemplateResep"],["inputResepComponent",""],["modalTemplateResep",""],[1,"modal-header","px-2","py-1","background-biru-muda","text-white"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","pull-right","text-white",3,"click"],[1,"fas","fa-window-close"],[1,"modal-body","p-10"],[1,"row","mx-0","my-1"],[1,"col-lg-12","col-md-12","col-sm-12",2,"text-align","center"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"mb-2","row"],[1,"col-sm-4"],["for","nama_resep"],[1,"col-sm-8"],["type","text","name","nama_resep",1,"form-control","form-control-sm"],[1,"modal-footer","background-abu-muda"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.onClickButtonNav(e)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(e){return t.onGetSelectedTabId(e)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Input Resep"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"app-input-resep",4,5),s.NdJ("setIdOutlet",function(e){return t.setIdOutlet(e)})("onSetTemplateResep",function(){return t.onSetTemplateResep()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"History Resep"),s.qZA(),s.TgZ(12,"org-tabs-body"),s._UZ(13,"app-history-resep"),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,zi,25,0,"ng-template",null,6,s.W1O),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(4),s.Q6J("Id","InputResep"),s.xp6(6),s.Q6J("Id","HistoryResep"))},directives:[y.G,R.D,C.K,E.x,q.C,Li,Yi],styles:[""]}),e})(),Xi=(()=>{class e{constructor(e,t,a){this.daftarPasienService=e,this.notificationService=t,this.httpOperationService=a,this.API_CONFIG=p.API_DASHBOARD_DOKTER.SURAT_PERINTAH_MONDOK}onGetAll(){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_ALL)}onPostSave(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutUpdate(e){return this.httpOperationService.defaultPutRequest(this.API_CONFIG.PUT_UPDATE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onDelete(e){return this.httpOperationService.defaultDeleteRequest(this.API_CONFIG.DELETE+e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(h.O),s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),en=(()=>{class e{constructor(e,t,a,i){this.formBuilder=e,this.utilityService=t,this.daftarPasienService=a,this.suratPerintahMondokService=i,this.inputFieldState="detail"}ngOnInit(){this.ButtonNav=[{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt fa-sm"},{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save fa-sm"}],this.onSetFormAttributes()}ngAfterViewInit(){this.id_register.setValue(this.daftarPasienService.ActivePasien.value.id_register),this.id_dokter_pemberi_perintah_mondok.setValue(this.daftarPasienService.ActivePasien.value.id_dokter)}handleClickButtonNav(e){switch(e){case"Clear":this.onResetFormPerintahMondok();break;case"SaveAndNew":this.onSubmitFormPerintahMondok(this.FormPerintahMondok.value)}}onSetFormAttributes(){this.FormPerintahMondok=this.formBuilder.group({id_register:[0,[n.kI.required]],id_dokter_pemberi_perintah_mondok:[0,[n.kI.required]],keterangan_perintah_mondok:["",[]]})}onSubmitFormPerintahMondok(e){this.suratPerintahMondokService.onPostSave(e).subscribe(e=>{e&&this.utilityService.onShowingCustomAlert("success","Success","Surat Perintah Mondok Berhasil Disimpan").then(()=>{this.onResetFormPerintahMondok()})})}onResetFormPerintahMondok(){this.keterangan_perintah_mondok.setValue("")}get id_register(){return this.FormPerintahMondok.get("id_register")}get id_dokter_pemberi_perintah_mondok(){return this.FormPerintahMondok.get("id_dokter_pemberi_perintah_mondok")}get keterangan_perintah_mondok(){return this.FormPerintahMondok.get("keterangan_perintah_mondok")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(u.t),s.Y36(h.O),s.Y36(Xi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-surat-perintah-mondok"]],decls:27,vars:9,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"formGroup"],[1,"row","mb-4","pt-2","align-items-center","justify-content-center"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","text-center","px-0"],["alt","photo_pasien",1,"shadow-sm","rounded",2,"height","150px",3,"src"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5","px-0"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-1"],[1,"text-biru-tua","mb-0",2,"font-size","2rem"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","mb-2"],[1,"text-biru-muda","mb-0",2,"font-size","1rem"],[1,"text-hitam-muda","mb-0",2,"font-size","1rem"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","px-0"],["for","keterangan_perintah_mondok",1,"form-label"],["id","keterangan_perintah_mondok","rows","5","formControlName","keterangan_perintah_mondok",1,"form-control"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),s.TgZ(1,"form",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"img",4),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"div",7),s.TgZ(8,"p",8),s._uU(9),s.qZA(),s.qZA(),s.TgZ(10,"div",9),s.TgZ(11,"p",10),s._uU(12," No. Rekam Medis "),s.qZA(),s.TgZ(13,"p",11),s._uU(14),s.qZA(),s.qZA(),s.TgZ(15,"div",12),s.TgZ(16,"p",10),s._uU(17," Tgl Admisi "),s.qZA(),s.TgZ(18,"p",11),s._uU(19),s.ALo(20,"date"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"div",13),s.TgZ(22,"div",14),s.TgZ(23,"label",15),s._uU(24,"Keterangan Perintah Mondok"),s.qZA(),s.TgZ(25,"textarea",16),s._uU(26,"                "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav",t.ButtonNav),s.xp6(1),s.Q6J("formGroup",t.FormPerintahMondok),s.xp6(3),s.Q6J("src",t.daftarPasienService.ActivePasien.value.photo_url,s.LSH),s.xp6(5),s.hij(" ",t.daftarPasienService.ActivePasien.value.nama_pasien," "),s.xp6(5),s.hij(" ",t.daftarPasienService.ActivePasien.value.no_rekam_medis," "),s.xp6(5),s.hij(" ",s.xi3(20,6,t.daftarPasienService.ActivePasien.value.tgl_admisi,"dd MMMM yyyy")," "))},directives:[y.G,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],pipes:[i.uU],styles:[""]}),e})();const tn=JSON.parse('{"GridVitalSignColumns":[{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tanggal_periksa","headerText":"TGL. PERIKSA","visible":true,"type":"DateTime","format":"dd/MM/yyyy","width":120},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tinggi_badan_cm","headerText":"TINGGI BADAN (cm)","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"berat_badan_kg","headerText":"BERAT BADAN (kg)","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"suhu_badan_celcius","headerText":"SUHU BADAN (C)","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tekanan_darah_atas","headerText":"TEKANAN DARAH ATAS","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"tekanan_darah_atas","headerText":"TEKANAN DARAH BAWAH","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"saturasi_oksigen","headerText":"SATURASI OKSIGEN","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"denyut_nadi_per_menit","headerText":"DENYUT NADI / Menit","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100},{"allowEditing":false,"allowSorting":true,"editType":"defaultEdit","field":"respirasi_nafas_per_menit","headerText":"RESPIRASI NAFAS / Menit","visible":true,"textAlign":"Right","headerTextAlign":"Right","width":100}]}');var an=a.t(tn,2);let nn=(()=>{class e{constructor(e,t){this.notificationService=e,this.httpOperationService=t,this.API_CONFIG=p.API_DASHBOARD_DOKTER.VITAL_SIGN}onGetAllAlergi(e){return this.httpOperationService.defaultGetRequest(this.API_CONFIG.GET_ALL+e)}onPostSaveAlergi(e){return this.httpOperationService.defaultPostRequest(this.API_CONFIG.POST_SAVE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}onPutUpdateAlergi(e){return this.httpOperationService.defaultPutRequest(this.API_CONFIG.PUT_UPDATE,e).pipe((0,_.K)(e=>{this.notificationService.onShowToast(e.statusText,e.status+" "+e.statusText,{},!0)}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.g),s.LFG(f.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rn=["OrgTabsRef"],on=function(){return[]},ln=[{path:"",component:w,data:{title:"Dashboard Dokter"},children:[{path:"beranda",component:Q,data:{title:"Beranda Dokter"}},{path:"daftar-pasien",component:z,data:{title:"Daftar Pasien"}},{path:"asesmen-awal",component:J,data:{title:"Riwayat Pemeriksaan Pasien"}},{path:"konsul",component:be,data:{title:"Konsul Pasien"}},{path:"diagnosa",component:ue,data:{title:"Diagnosa Pasien"}},{path:"radiologi",component:nt,data:{title:"Pemeriksaan Radiologi Pasien"},children:[{path:"riwayat-pemeriksaan",component:lt,data:{title:"Riwayat Pemeriksaan Radiologi"}},{path:"input-order-pemeriksaan",component:it,data:{title:"Input Order Radiologi Baru"}}]},{path:"laboratorium",component:Be,data:{title:"Pemeriksaan Laboratorium Pasien"},children:[{path:"riwayat-pemeriksaan",component:Ue,data:{title:"Riwayat Pemeriksaan Laboratorium"}},{path:"input-order-pemeriksaan",component:Re,data:{title:"Input Order Laboratorium Baru"}}]},{path:"resep",component:$i,data:{title:"Resep Pasien"}},{path:"resep-irna",component:null,data:{title:"Pemeriksaan Laboratorium Pasien"},children:[{path:"daftar-resep-irna",component:Ga,data:{title:"Daftar Resep Active"}},{path:"input-resep-irna",component:ti,data:{title:"Form Resep Rawat Inap"}},{path:"view-resep-irna/:id/:key",component:yi,data:{title:"Detail Resep Rawat Inap"}},{path:"ubah-resep-irna/:id/:key",component:ti,data:{title:"Ubah Resep Rawat Inap"}},{path:"pulang-resep-irna",component:ki,data:{title:"Form Resep Rawat Inap"}}]},{path:"resep-irda",component:null,data:{title:"Resep Irda"},children:[{path:"daftar-resep-irda",component:bt,data:{title:"Daftar Resep Active"}},{path:"input-resep-irda",component:Xt,data:{title:"Form Resep Rawat Darurat"}},{path:"view-resep-irda/:id/:key",component:ya,data:{title:"Detail Resep Rawat Darurat"}},{path:"ubah-resep-irda/:id/:key",component:Xt,data:{title:"Ubah Resep Rawat Darurat"}},{path:"pulang-resep-irda",component:_a,data:{title:"Form Resep Rawat Darurat"}}]},{path:"alergi",component:M,data:{title:"Alergi Pasien"}},{path:"vital-sign",component:(()=>{class e{constructor(e,t,a,i,r){this.formBuilder=e,this.utilityService=t,this.vitalSignService=a,this.navigationService=i,this.daftarPasienService=r,this.inputFieldState="normal",this.TabId="Data",this.Config=an,this.GridData=null,this.GridDataEditSettings={allowAdding:!0,allowDeleting:!0,allowEditing:!0},this.GridTextWrapSettings={wrapMode:"Header"},this.FormInputData=this.formBuilder.group({id_vital_sign:[0,[n.kI.required]],tanggal_periksa:[new Date,[n.kI.required]],id_register:[this.daftarPasienService.ActivePasien.value.id_register,[n.kI.required]],id_dokter:[this.daftarPasienService.ActivePasien.value.id_dokter,[n.kI.required]],tinggi_badan_cm:[0,[n.kI.required]],berat_badan_kg:[0,[n.kI.required]],suhu_badan_celcius:[0,[n.kI.required]],tekanan_darah_atas:[0,[n.kI.required]],tekanan_darah_bawah:[0,[n.kI.required]],saturasi_oksigen:[0,[n.kI.required]],denyut_nadi_per_menit:[0,[n.kI.required]],respirasi_nafas_per_menit:[0,[n.kI.required]],keterangan:["",[n.kI.required]]})}ngOnInit(){this.GridDataToolbar=[{text:"Add",tooltipText:"Add",prefixIcon:"fas fa-plus fa-sm",id:"add"},{text:"Edit",tooltipText:"Edit",prefixIcon:"fas fa-edit fa-sm",id:"edit"},{text:"Detail",tooltipText:"Detail",prefixIcon:"fas fa-info-circle fa-sm",id:"detail"},"Search"],this.GetAllData()}ngAfterViewInit(){setTimeout(()=>{this.navigationService.ButtonSidebarMenuState.next(!0)},1)}handleSelectedTabId(e){this.TabId=e,"Input"==e||this.GetAllData()}InitalizedGrid(e){this.GridData=e}handleSelectedRow(e){this.SelectedData=e.data}handleActionComplete(e){}handleToolbarClick(e){switch(e.item.id){case"add":this.setNewForm();break;case"edit":this.setEditForm();break;case"detail":this.setViewForm()}}handleClickButtonNav(e){switch(e){case"SaveAndNew":this.SaveAndNew();break;case"Clear":this.Clear();break;case"Cancel":this.Cancel()}}setNewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="normal",this.FormInputData.reset(),this.StatusFormNew=!0,this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"},{Id:"Clear",Captions:"Clear",Icons1:"fa-redo-alt"},{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"}]}setEditForm(){this.inputFieldState="edit",this.SetFrom(this.SelectedData),this.StatusFormNew=!1,this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"},{Id:"SaveAndNew",Captions:"Save",Icons1:"fa-save"}]}setViewForm(){this.OrgTabsRef.onNavigateTabUsingTabId(1,"Input"),this.inputFieldState="detail",this.SetFrom(this.SelectedData),this.ButtonNav=[{Id:"Cancel",Captions:"Back",Icons1:"fa-arrow-left"}]}ResetFrom(){this.id_vital_sign.setValue(0),this.tanggal_periksa.setValue(new Date),this.tinggi_badan_cm.setValue(0),this.berat_badan_kg.setValue(0),this.suhu_badan_celcius.setValue(0),this.tekanan_darah_atas.setValue(0),this.tekanan_darah_bawah.setValue(0),this.saturasi_oksigen.setValue(0),this.denyut_nadi_per_menit.setValue(0),this.respirasi_nafas_per_menit.setValue(0),this.keterangan.setValue("")}GetAllData(){this.vitalSignService.onGetAllAlergi(this.daftarPasienService.ActivePasien.value.id_register).subscribe(e=>{this.GridDatasource=e.data})}SetFrom(e){delete e.user_inputed,delete e.time_inputed,this.FormInputData.setValue(e)}SaveAndNew(){const e=this.FormInputData.value;e.tanggal_periksa=new Date,"normal"==this.inputFieldState?(delete e.id_vital_sign,e.id_register=this.daftarPasienService.ActivePasien.value.id_register,e.id_dokter=this.daftarPasienService.ActivePasien.value.id_dokter,this.vitalSignService.onPostSaveAlergi(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Tambah Data Baru",e.message).then(()=>{this.Cancel()})})):this.vitalSignService.onPutUpdateAlergi(e).subscribe(e=>{this.utilityService.onShowingCustomAlert("success","Berhasil Ubah Data",e.message).then(()=>{this.Cancel()})})}Clear(){this.ResetFrom()}Cancel(){this.ResetFrom(),this.OrgTabsRef.onNavigateTabUsingTabId(0,"Data"),this.GetAllData()}get id_vital_sign(){return this.FormInputData.get("id_vital_sign")}get tanggal_periksa(){return this.FormInputData.get("tanggal_periksa")}get id_register(){return this.FormInputData.get("id_register")}get id_dokter(){return this.FormInputData.get("id_dokter")}get tinggi_badan_cm(){return this.FormInputData.get("tinggi_badan_cm")}get berat_badan_kg(){return this.FormInputData.get("berat_badan_kg")}get suhu_badan_celcius(){return this.FormInputData.get("suhu_badan_celcius")}get tekanan_darah_atas(){return this.FormInputData.get("tekanan_darah_atas")}get tekanan_darah_bawah(){return this.FormInputData.get("tekanan_darah_bawah")}get saturasi_oksigen(){return this.FormInputData.get("saturasi_oksigen")}get denyut_nadi_per_menit(){return this.FormInputData.get("denyut_nadi_per_menit")}get respirasi_nafas_per_menit(){return this.FormInputData.get("respirasi_nafas_per_menit")}get keterangan(){return this.FormInputData.get("keterangan")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.qu),s.Y36(u.t),s.Y36(nn),s.Y36(c.f),s.Y36(h.O))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-vital-sign"]],viewQuery:function(e,t){if(1&e&&s.Gf(rn,7),2&e){let e;s.iGM(e=s.CRH())&&(t.OrgTabsRef=e.first)}},decls:87,vars:46,consts:[[3,"ButtonNav","onClickButtonNav"],[3,"showHeader","onGetSelectedTabId"],["OrgTabsRef",""],[3,"Id"],[3,"grid-height","grid-DataSource","grid-paging","grid-editSettings","grid-lines","grid-toolbar","columns","textWrapSettings","row-selected","toolbar-click","initialized","action-complete"],["GridData",""],[1,"p-2",3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","mb-2"],[1,"row","mb-1"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],[3,"LabelCaption"],[1,"col-lg-8","col-md-8","col-sm-8","col-xs-8"],[1,"input-group","flex-nowrap","px-0","form-select-sm"],["type","number","formControlName","berat_badan_kg",1,"form-control","form-select-sm"],["id","addon-wrapping",1,"input-group-text","py-1",2,"width","3rem"],[3,"ValidatorsCaption","IsFormControlInvalid","IsFormControlTouched"],["type","number","formControlName","tinggi_badan_cm",1,"form-control","form-select-sm"],["type","number","formControlName","suhu_badan_celcius",1,"form-control","form-select-sm"],[1,"row","align-items-center"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5","pe-0"],["type","number","formControlName","tekanan_darah_bawah",1,"form-control","form-select-sm"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","text-center","px-0"],[1,"mb-0"],[1,"col-lg-5","col-md-5","col-sm-5","col-xs-5","ps-0"],["type","number","formControlName","tekanan_darah_atas",1,"form-control","form-select-sm"],["type","number","formControlName","saturasi_oksigen",1,"form-control","form-select-sm"],["type","number","formControlName","denyut_nadi_per_menit",1,"form-control","form-select-sm"],["id","addon-wrapping",1,"input-group-text","py-1"],["type","number","formControlName","respirasi_nafas_per_menit",1,"form-control","form-select-sm"],["type","text","formControlName","keterangan",1,"form-control","form-select-sm"]],template:function(e,t){1&e&&(s.TgZ(0,"org-card-layout",0),s.NdJ("onClickButtonNav",function(e){return t.handleClickButtonNav(e)}),s.TgZ(1,"org-tabs",1,2),s.NdJ("onGetSelectedTabId",function(e){return t.handleSelectedTabId(e)}),s.TgZ(3,"org-tabs-item"),s.TgZ(4,"org-tabs-label",3),s._uU(5,"Data Vital Sign"),s.qZA(),s.TgZ(6,"org-tabs-body"),s.TgZ(7,"mol-grid",4,5),s.NdJ("row-selected",function(e){return t.handleSelectedRow(e)})("toolbar-click",function(e){return t.handleToolbarClick(e)})("initialized",function(e){return t.InitalizedGrid(e)})("action-complete",function(e){return t.handleActionComplete(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"org-tabs-item"),s.TgZ(10,"org-tabs-label",3),s._uU(11,"Input Vital Sign"),s.qZA(),s.TgZ(12,"org-tabs-body"),s.TgZ(13,"form",6),s.TgZ(14,"div",7),s.TgZ(15,"div",8),s.TgZ(16,"div",9),s.TgZ(17,"div",10),s._UZ(18,"atm-label",11),s.qZA(),s.TgZ(19,"div",12),s.TgZ(20,"div",13),s._UZ(21,"input",14),s.TgZ(22,"span",15),s._uU(23," Kg "),s.qZA(),s.qZA(),s._UZ(24,"atm-validators",16),s.qZA(),s.qZA(),s.TgZ(25,"div",9),s.TgZ(26,"div",10),s._UZ(27,"atm-label",11),s.qZA(),s.TgZ(28,"div",12),s.TgZ(29,"div",13),s._UZ(30,"input",17),s.TgZ(31,"span",15),s._uU(32," Cm "),s.qZA(),s.qZA(),s._UZ(33,"atm-validators",16),s.qZA(),s.qZA(),s.TgZ(34,"div",7),s.TgZ(35,"div",10),s._UZ(36,"atm-label",11),s.qZA(),s.TgZ(37,"div",12),s.TgZ(38,"div",13),s._UZ(39,"input",18),s.TgZ(40,"span",15),s._uU(41," \xb0C "),s.qZA(),s.qZA(),s._UZ(42,"atm-validators",16),s.qZA(),s.qZA(),s.TgZ(43,"div",7),s.TgZ(44,"div",10),s._UZ(45,"atm-label",11),s.qZA(),s.TgZ(46,"div",12),s.TgZ(47,"div",19),s.TgZ(48,"div",20),s._UZ(49,"input",21),s.qZA(),s.TgZ(50,"div",22),s.TgZ(51,"p",23),s._uU(52,"/"),s.qZA(),s.qZA(),s.TgZ(53,"div",24),s._UZ(54,"input",25),s.qZA(),s.qZA(),s._UZ(55,"atm-validators",16),s._UZ(56,"atm-validators",16),s.qZA(),s.qZA(),s.qZA(),s.TgZ(57,"div",8),s.TgZ(58,"div",7),s.TgZ(59,"div",10),s._UZ(60,"atm-label",11),s.qZA(),s.TgZ(61,"div",12),s._UZ(62,"input",26),s._UZ(63,"atm-validators",16),s.qZA(),s.qZA(),s.TgZ(64,"div",9),s.TgZ(65,"div",10),s._UZ(66,"atm-label",11),s.qZA(),s.TgZ(67,"div",12),s.TgZ(68,"div",13),s._UZ(69,"input",27),s.TgZ(70,"span",28),s._uU(71,"Per / Menit"),s.qZA(),s.qZA(),s._UZ(72,"atm-validators",16),s.qZA(),s.qZA(),s.TgZ(73,"div",7),s.TgZ(74,"div",10),s._UZ(75,"atm-label",11),s.qZA(),s.TgZ(76,"div",12),s.TgZ(77,"div",13),s._UZ(78,"input",29),s.TgZ(79,"span",28),s._uU(80,"Per / Menit"),s.qZA(),s.qZA(),s._UZ(81,"atm-validators",16),s.qZA(),s.qZA(),s.TgZ(82,"div",9),s.TgZ(83,"div",10),s._UZ(84,"atm-label",11),s.qZA(),s.TgZ(85,"div",12),s._UZ(86,"input",30),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("ButtonNav","Input"==t.TabId?t.ButtonNav:s.DdM(45,on)),s.xp6(1),s.Q6J("showHeader",!1),s.xp6(3),s.Q6J("Id","Data"),s.xp6(3),s.Q6J("grid-height","calc(100vh - 18rem)")("grid-DataSource",t.GridDatasource)("grid-paging",!1)("grid-editSettings",t.GridDataEditSettings)("grid-lines","Both")("grid-toolbar",t.GridDataToolbar)("columns",t.Config.GridVitalSignColumns)("textWrapSettings",t.GridTextWrapSettings),s.xp6(3),s.Q6J("Id","Input"),s.xp6(3),s.Q6J("formGroup",t.FormInputData),s.xp6(5),s.Q6J("LabelCaption","Berat Badan"),s.xp6(6),s.Q6J("ValidatorsCaption","Berat Badan Tidak Boleh Kosong")("IsFormControlInvalid",t.berat_badan_kg.invalid)("IsFormControlTouched",t.berat_badan_kg.touched),s.xp6(3),s.Q6J("LabelCaption","Tinggi Badan"),s.xp6(6),s.Q6J("ValidatorsCaption","Tinggi Badan Tidak Boleh Kosong")("IsFormControlInvalid",t.tinggi_badan_cm.invalid)("IsFormControlTouched",t.tinggi_badan_cm.touched),s.xp6(3),s.Q6J("LabelCaption","Suhu Badan"),s.xp6(6),s.Q6J("ValidatorsCaption","Tinggi Badan Tidak Boleh Kosong")("IsFormControlInvalid",t.suhu_badan_celcius.invalid)("IsFormControlTouched",t.suhu_badan_celcius.touched),s.xp6(3),s.Q6J("LabelCaption","Tekanan Darah"),s.xp6(10),s.Q6J("ValidatorsCaption","Tekanan Darah Bawah Tidak Boleh Kosong")("IsFormControlInvalid",t.tekanan_darah_bawah.invalid)("IsFormControlTouched",t.tekanan_darah_bawah.touched),s.xp6(1),s.Q6J("ValidatorsCaption","Tekanan Darah Atas Tidak Boleh Kosong")("IsFormControlInvalid",t.tekanan_darah_atas.invalid)("IsFormControlTouched",t.tekanan_darah_atas.touched),s.xp6(4),s.Q6J("LabelCaption","Saturasi Oksigen"),s.xp6(3),s.Q6J("ValidatorsCaption","Saturasi Oksigen Tidak Boleh Kosong")("IsFormControlInvalid",t.saturasi_oksigen.invalid)("IsFormControlTouched",t.saturasi_oksigen.touched),s.xp6(3),s.Q6J("LabelCaption","Denyut Nadi"),s.xp6(6),s.Q6J("ValidatorsCaption","Denyut Nadi Tidak Boleh Kosong")("IsFormControlInvalid",t.denyut_nadi_per_menit.invalid)("IsFormControlTouched",t.denyut_nadi_per_menit.touched),s.xp6(3),s.Q6J("LabelCaption","Respirasi Nafas"),s.xp6(6),s.Q6J("ValidatorsCaption","Respirasi Nafas Tidak Boleh Kosong")("IsFormControlInvalid",t.respirasi_nafas_per_menit.invalid)("IsFormControlTouched",t.respirasi_nafas_per_menit.touched),s.xp6(3),s.Q6J("LabelCaption","Keterangan"))},directives:[y.G,R.D,C.K,E.x,q.C,O.q,n._Y,n.JL,n.sg,P.D,n.wV,n.Fj,n.JJ,n.u,G._],styles:[""]}),e})(),data:{title:"Vital Sign Pasien"}},{path:"surat-perintah-mondok",component:en,data:{title:"Surat Perintah Mondok"}}]}];let dn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.Bz.forChild(ln)],o.Bz]}),e})();var sn=a(1043);let un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[dn,n.u5,n.UX,i.ez,r.m,sn.CoreModule]]}),e})()}}]);